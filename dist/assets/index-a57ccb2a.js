import{a as ue,r as i,o as r,c as P,b as n,w as l,d as m,e as h,f as d,u as $,R as F,F as C,g as N,t as f,h as j,p as me,i as pe,j as ge,m as J,k as ee,l as se,V as O,n as le,E as z,q as ce,s as he,v as be,x as fe,y as q,z as W,A as Z,B as ke,C as ve,D as _e,G as ye,H as we,_ as je,I as Te}from"./vendor-7f826795.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const k of o)if(k.type==="childList")for(const v of k.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function a(o){const k={};return o.integrity&&(k.integrity=o.integrity),o.referrerPolicy&&(k.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?k.credentials="include":o.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function s(o){if(o.ep)return;o.ep=!0;const k=a(o);fetch(o.href,k)}})();const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABGlBMVEX///8njcEOIkB/yL0WdakAFDgbir97sNKCyr13fYl/s9Rtp59vq6JspZwnir0nh7hpn5dYq79ysadlmJAngrEmfaoAgrxyw7d3ua8LEC8pk8lilIwmfqwmeKMmdJwAACIAbqUAZqEMGTcAADEAAC0AGzwVJkMADTXx9voAACgAGDrh6vErfK17wLZfjIWHrcpzocLF1uTj8vC74NrJy89TnskbXYWqy+Gztryoq7IYUXYUPmAeapTm5+kwO1K20Nyn2c+izMabvrmVsa4AXp9frLRVgXqU0Mc3ia1dlLtVnq1IibSy3NWiv9VMlKllpKU+iabR3+mAus2JjpjFx8xbY3JETWCWwNs3QlcVRGfY2t1nbXsAABWEiJOWSLhEAAAGNElEQVR4nO2a+VvaWBSGgSDihgwoKmKNWhUUXFqtWpc6S1sd7Uwdaxc7/v//xiS5gdzcJScqZJnne3++5+n5et5LTtJmMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwf+Pd+fn5rx6/efze5VXcPT6LzT/eG51OZ9aiUqmMj4+PTUxMlMvVanXeYsviw8RM3E0+i3be5BK6EctlO6Mbcb5ofIy7y2ewbebzF8WghB86hjHzOu4+n8zNUj6fN98HJawUDStiM+5On0rewQxIWLUDGqn1dMdkES+KmoRbWwYjpZ7uLuXdIf7Z0SScNboRU/nIcCdoR9TMsFzsJjSKcXf7BC69hPmLjjKh4ZFCTw+4gJanioSeo6n0tLmU5zErcsIxw0/cLT+Sq7yfaSlhVQhoXMfd86P4ZAoJLU/9Cec7YsJUebq5lBcxx/0Jx8WA6fK0LQVknvYSVsuKgCnydFt01BniX3xCydFUeapw1In4dy9htaIKmB5PlfksGr2EE5qAxnncvYdiR+Wo66mbUBcwHZ7uqh1lnrKEs0V9xLjbD4FugjbtipWwrHpQ9Ej+q+JlUELzs50wKGDyPQ1wlHk6VlY+KFLjaTNogg4TugdFSjy9ohKan/W/Mt0hJvlVUVq4JZY2z6mESf701gy+hPYItzMZMmGCPZ0iR9i2Tr2aSa2nYRy1z6XWU83CzTv6iZ1Mq6eql0I/V+7JlHqqfCn0O9pzL4SnyVttbmhHD7zTtKfJe1UkFTUvudO0p4n7pKF9KfQS+s5fp81TYuG2L+GuvyJlntILt7kjlKTM08CXQoZUc00/MpLj6QH9oLiRq8iXjOR4Gm7hlgjh6XnUUTSI/woj01bWvU6Lp2EXbpmPRZJoo6g5NdsSCz5OxN/RLve/kPwTaRY1Z2+ypVJp0mLKptGYtnCSvehS08zQKi0Q1HbVpRFyuzI3KUdc4COWsnV9KUUt7lfF+8Vc7rjuJpxkCYWIU9ls4Zu2lEpY2I88k5/cai63LHra4D1dcCah8HTNKSUj1g7k0ggZWc9ZzE0FXEW3UX1poj39sphzWLM9FaboeuretMKoULrXK020p+usS1s29VV80RtRTdjbhrxSMmJ8nt512+Q8FSJyjfpKf3ql7eR6etjK9bBkU13FEjeJYX1pQj1tcl26nopPRd/jjnt4N1/ypW/p31PV02bwfN3g2szNNbJ8RMfThjAKfSkZUbMVDZQjfg4+T3sRRdmGdaVkwoJ6Kxoop4v+Lh3ZfJ5Ol8Q+XU+VpVTE6D09WxXalDxV7Jw1p/S7XLognxVLo/b0dkXssutpL6JqEvua0hyZULEVDZR7UTTB00llQGfJVJf+SJqna5JojmzWw7s7ROkSuhGbst5hPVV8zRoYI+uqLplsbkRdn+2WunKZTBilp3sq0ThPS/qA2fqbZXVpCE/F7X1w6CbIZLMTBvRZP9aUntCrTVSeegu3gqwTMajPyTmNAIFVbIrRBDzU3CRPtuBW6yfL6toQnzSG6faeTzMooO0p2edzPI3i05t/a1ZMkerSmnGiPRW3ZrnN4wI5xBNNRLp08J5KW7PEytE3OqLa0427A7J04J6qNxKO1e+ZDNWl5emyqvZlM7NPRxzsJw3l1uyjdZrJbNbIIao8bR1av2Nk6WA/aSi3Zv8YjuxzITz9IU1x6KddGsLTQX56Uy/cHBt37GCd7DMr1Q6x0lg91S7c3gjdP5z2NLsgeLq4x0rj9FS7cPdofemeDeHp22W+dH2kW3pARhyYp+QE2U1iPNLT1TWvNDZPAxdulpA7HcLTNufp4r1XGpengQs363KPP0/Lxnm6csuX7sbiaZPa1nLrD/4KWrb6WtfRM3/pMO1p/z+9UQu37yaxvxPa04br6eKpUEvvp333lFy4fTeJEcJT9kmDrQk8tKf9/vQWYuG+latCerrxVS6N3NNQC7dECE+nLE9bqt9++mHT109v9MIt3SSHUJ7aC7fMTaSe3v87RNCSbhJjn/ofQYX66p26dLRG/m+i/n16exiheNBUNodJdnT7yfAoSd8SAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBf+Q8QCvZQtLoBxwAAAABJRU5ErkJggg==",Y=ue.create({baseURL:"https://auristeel.com/api",headers:{"Permissions-Policy":"interest-cohort=()",csrf:localStorage.getItem("token"),accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*","access-control-allow-credentials":!0,"access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE"}}),V={postLogin(t){return Y.post("/login",t)},getData(t,e){return Y.get(t,e)},postData(t,e){return Y.post(t,e)},putData(t,e){return Y.patch(t,e)},deleteData(t,e){return Y.delete(t,{data:e})},logout(){localStorage.removeItem("token"),window.location.href="/login"}};const ie=(t,e)=>{const a=t.__vccOpts||t;for(const[s,o]of e)a[s]=o;return a},De=t=>(me("data-v-0bc22c0a"),t=t(),pe(),t),Ae=De(()=>j("img",{src:Ve,width:"50"},null,-1)),Se={class:"pb-5"},Pe={key:3,class:"d-flex flex-column"},Ue={class:"pb-5"},Ce={props:["act","pageTitle"],data(){return{windowWidth:window.innerWidth,master:["master"],pages:[{key:"master",value:"Master"},{key:"masuk",value:"Pemasukan Barang"},{key:"produksi",value:"Produksi"},{key:"keluar",value:"Pengeluaran Barang"},{key:"kirim",value:"Pengiriman Barang"},{key:"laporan",value:"Laporan"}],navtitle:"",drawer:null,rail:!0,drawerMaster:null,pemasukan:"",pemasukandetail:"",pengeluaran:"",pengeluarandetail:"",produksi:"",produksidetail:"",kirim:"",title:""}},computed:{pemasukan_brg(){let t=this.pemasukan.slice(-3),e=[],a={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let s=0;s<t.length;s++)for(let o=0;o<this.pemasukandetail.length;o++)if(t[s].no_pembelian==this.pemasukandetail[o].no_pembelian){let k={periode:new Date(t[s].tgl_pembelian).toLocaleDateString("id",a),nama:this.pemasukandetail[o].nama_barang,jumlah:this.pemasukandetail[o].jumlah,satuan:this.pemasukandetail[o].satuan,user:t[s].user_input};e.push(k)}return e},produksi_h(){let t=this.produksi.slice(-2),e=[],a={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let s=0;s<t.length;s++)for(let o=0;o<this.produksidetail.length;o++)if(t[s].no_produksi==this.produksidetail[o].no_produksi){let k={periode:new Date(t[s].tgl_produksi).toLocaleDateString("id",a),nama:this.produksidetail[o].nama_barang,jumlah:this.produksidetail[o].jumlah,satuan:this.produksidetail[o].satuan,user:t[s].user_input};e.push(k)}return e},pengeluaran_h(){let t=this.pengeluaran.slice(-3),e=[],a={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let s=0;s<t.length;s++)for(let o=0;o<this.pengeluarandetail.length;o++)if(t[s].no_penjualan==this.pengeluarandetail[o].no_penjualan){let k={periode:new Date(t[s].tgl_penjualan).toLocaleDateString("id",a),nama:this.pengeluarandetail[o].nama_barang,jumlah:this.pengeluarandetail[o].jumlah,satuan:this.pengeluarandetail[o].satuan,user:t[s].user_input};e.push(k)}return e},kirim_h(){let t=this.kirim.slice(-2),e=[],a={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let s=0;s<t.length;s++)for(let o=0;o<this.kirimdetail.length;o++)if(t[s].no_pengiriman==this.kirimdetail[o].no_pengiriman){let k={periode:new Date(t[s].tgl_pengiriman).toLocaleDateString("id",a),nama:this.kirimdetail[o].nama_barang,jumlah:this.kirimdetail[o].jumlah,satuan:this.kirimdetail[o].satuan,user:t[s].user_input};e.push(k)}return e}},methods:{page(){return this.pageTitle=="DATA BARANG"||this.pageTitle=="DATA PELANGGAN"||this.pageTitle=="DATA SUPPLIER"||this.pageTitle=="DATA USER"},getPembelian(){const t="/pembelian_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>this.pemasukan=a.data).catch(a=>{console.log(a)})},getPembelianDetail(){const t="/pembelian_detail?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>this.pemasukandetail=a.data).catch(a=>{console.log(a)})},getProduksihead(){const t="/produksi_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>{this.produksi=a.data}).catch(a=>{console.log(a)})},getProduksiDetail(){const t="/produksi_detail_barang?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>{this.produksidetail=a.data}).catch(a=>{console.log(a)})},getPenjualanHead(){const t="/penjualan_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>{this.pengeluaran=a.data}).catch(a=>{console.log(a)})},getPenjualanDetail(){const t="/penjualan_detail?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>{this.pengeluarandetail=a.data}).catch(a=>{console.log(a)})},getPengirimanHead(){const t="/pengiriman_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>{this.kirim=a.data}).catch(a=>{console.log(a)})},getPengirimanDetail(){const t="/pengiriman_detail?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};V.getData(t,{params:e}).then(a=>{this.kirimdetail=a.data}).catch(a=>{console.log(a)})},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},laporan(){return this.pageTitle=="LAPORAN STOK BARANG"||this.pageTitle=="LAPORAN PEMASUKAN BARANG"||this.pageTitle=="LAPORAN PENGELUARAN BARANG"||this.pageTitle=="LAPORAN LOG USER"},onResize(){this.windowWidth=window.innerWidth},draw(t){t=="masuk"?this.getPembelian():t=="produksi"?this.getProduksihead():t=="keluar"?this.getPenjualanHead():t=="kirim"&&this.getPengirimanHead(),this.drawerMaster=!this.drawerMaster;for(let e=0;e<this.pages.length;e++)t==this.pages[e].key&&(this.navtitle=this.pages[e].key)}},mounted(){this.page(),this.$nextTick(()=>{window.addEventListener("resize",this.onResize),this.getPembelianDetail(),this.getProduksiDetail(),this.getPenjualanDetail(),this.getPengirimanDetail(),this.pageTitle})}},Be=Object.assign(Ce,{__name:"NavDrawers",setup(t){return(e,a)=>{const s=i("v-avatar"),o=i("v-icon"),k=i("v-tooltip"),v=i("v-list-item"),T=i("v-list"),b=i("v-row"),_=i("v-navigation-drawer"),y=i("v-span"),D=i("v-for"),A=i("v-divider"),U=i("v-div");return r(),P(C,null,[n(_,{class:"py-sm-5 py-0",modelValue:e.drawer,"onUpdate:modelValue":a[6]||(a[6]=w=>e.drawer=w),permanent:"",rail:"",location:e.windowWidth<600?"bottom":"left"},{default:l(()=>[e.windowWidth>600?(r(),m(s,{key:0,class:"mx-2"},{default:l(()=>[Ae]),_:1})):h("",!0),n(b,{class:"justify-center"},{default:l(()=>[n(T,{class:"d-flex flex-sm-column","active-color":"#3B7AA9"},{default:l(()=>[n(v,{class:"rounded-lg text-caption mb-sm-5 mb-0 mt-sm-4 mt-0",value:"master",onClick:a[0]||(a[0]=w=>e.draw("master")),active:e.page()},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-database")]),_:1}),n(k,{activator:"parent",location:e.windowWidth>600?"start":"top"},{default:l(()=>[d(" Data Master ")]),_:1},8,["location"])]),_:1},8,["active"]),n($(F),{to:"/in"},{default:l(()=>[n(v,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PEMASUKAN BARANG",value:"inItems",onClick:a[1]||(a[1]=w=>e.draw("masuk"))},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-inbox-arrow-down")]),_:1})]),_:1},8,["active"])]),_:1}),n($(F),{to:"/production"},{default:l(()=>[n(v,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PRODUKSI BARANG",value:"productItems",onClick:a[2]||(a[2]=w=>e.draw("produksi"))},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-chart-donut")]),_:1}),n(k,{activator:"parent",location:e.windowWidth>600?"start":"top"},{default:l(()=>[d(" Produksi Barang ")]),_:1},8,["location"])]),_:1},8,["active"])]),_:1}),n($(F),{to:"/out"},{default:l(()=>[n(v,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PENGELUARAN BARANG",value:"outItems",onClick:a[3]||(a[3]=w=>e.draw("keluar"))},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-inbox-arrow-up")]),_:1})]),_:1},8,["active"])]),_:1}),n($(F),{to:"/send"},{default:l(()=>[n(v,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PENGIRIMAN BARANG",value:"sendItems",onClick:a[4]||(a[4]=w=>e.draw("kirim"))},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-send-variant")]),_:1})]),_:1},8,["active"])]),_:1}),n(v,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:e.laporan(),value:"laporan",onClick:a[5]||(a[5]=w=>e.draw("laporan"))},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-folder-outline")]),_:1}),n(k,{activator:"parent",location:e.windowWidth>600?"start":"top"},{default:l(()=>[d(" Laporan ")]),_:1},8,["location"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1},8,["modelValue","location"]),n(_,{modelValue:e.drawerMaster,"onUpdate:modelValue":a[7]||(a[7]=w=>e.drawerMaster=w),temporary:"",class:"elevation-0 border-0"},{default:l(()=>[n(T,{nav:"",density:"comfortable",class:"ms-n2 my-sm-4 my-0","active-color":"#3B7AA9"},{default:l(()=>[(r(!0),P(C,null,N(e.pages,w=>(r(),m(D,{key:w},{default:l(()=>[e.navtitle==w.key?(r(),m(y,{key:0,class:"text-button ms-6"},{default:l(()=>[d(f(w.value),1)]),_:2},1024)):h("",!0)]),_:2},1024))),128)),n(A,{class:"mb-3"}),e.navtitle=="master"?(r(),m(U,{key:0},{default:l(()=>[n($(F),{to:"/items"},{default:l(()=>[n(v,{title:"Data Barang",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA BARANG",value:"items"},null,8,["active"])]),_:1}),n($(F),{to:"/customers"},{default:l(()=>[n(v,{title:"Data Pelanggan",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA PELANGGAN",value:"customers"},null,8,["active"])]),_:1}),n($(F),{to:"/suppliers"},{default:l(()=>[n(v,{title:"Data Suppliers",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA SUPPLIER",value:"suppliers"},null,8,["active"])]),_:1}),n($(F),{to:"/users"},{default:l(()=>[n(v,{title:"Data Users",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA USERS",value:"users"},null,8,["active"])]),_:1})]),_:1})):h("",!0),e.navtitle=="masuk"?(r(),m(U,{key:1,class:"d-flex flex-column"},{default:l(()=>[n(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[d("Aktivitas Terakhir")]),_:1}),j("div",Se,[(r(!0),P(C,null,N(e.pemasukan_brg,(w,B)=>(r(),m(U,{key:B,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[n(y,{class:"text-caption"},{default:l(()=>[n(o,{color:"green"},{default:l(()=>[d("mdi-circle-medium")]),_:1}),d(" "+f(w.nama),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d("jumlah : "+f(e.numb(w.jumlah))+" "+f(w.satuan),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d(f(w.periode),1)]),_:2},1024)]),_:2},1024))),128))])]),_:1})):h("",!0),e.navtitle=="produksi"?(r(),m(U,{key:2,class:"d-flex flex-column"},{default:l(()=>[n(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[d("Aktivitas Terakhir")]),_:1}),n(U,null,{default:l(()=>[(r(!0),P(C,null,N(e.produksi_h,(w,B)=>(r(),m(U,{key:B,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[n(y,{class:"text-caption"},{default:l(()=>[n(o,{color:"green"},{default:l(()=>[d("mdi-circle-medium")]),_:1}),d(" "+f(w.nama),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d("jumlah : "+f(e.numb(w.jumlah))+" "+f(w.satuan),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d(f(w.periode),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):h("",!0),e.navtitle=="keluar"?(r(),P("div",Pe,[n(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[d("Aktivitas Terakhir")]),_:1}),j("div",null,[(r(!0),P(C,null,N(e.pengeluaran_h,(w,B)=>(r(),m(U,{key:B,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[n(y,{class:"text-caption"},{default:l(()=>[n(o,{color:"green"},{default:l(()=>[d("mdi-circle-medium")]),_:1}),d(" "+f(w.nama),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d("jumlah : "+f(e.numb(w.jumlah))+" "+f(w.satuan),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d(f(w.periode),1)]),_:2},1024)]),_:2},1024))),128))])])):h("",!0),e.navtitle=="kirim"?(r(),m(U,{key:4,class:"d-flex flex-column"},{default:l(()=>[n(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[d("Aktivitas Terakhir")]),_:1}),j("div",Ue,[(r(!0),P(C,null,N(e.kirim_h,(w,B)=>(r(),m(U,{key:B,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[n(y,{class:"text-caption"},{default:l(()=>[n(o,{color:"green"},{default:l(()=>[d("mdi-circle-medium")]),_:1}),d(" "+f(w.nama),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d("jumlah : "+f(e.numb(w.jumlah))+" "+f(w.satuan),1)]),_:2},1024),n(y,{class:"ms-5 text-small w-100"},{default:l(()=>[d(f(w.periode),1)]),_:2},1024)]),_:2},1024))),128))])]),_:1})):h("",!0),e.navtitle=="laporan"?(r(),m(U,{key:5},{default:l(()=>[n($(F),{to:"/stock-report"},{default:l(()=>[n(v,{title:"Laporan Stok Barang",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN STOK BARANG",value:"stok"},null,8,["active"])]),_:1}),n($(F),{to:"/in-report"},{default:l(()=>[n(v,{title:"Laporan Pemasukan",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN PEMASUKAN BARANG",value:"in"},null,8,["active"])]),_:1}),n($(F),{to:"/out-report"},{default:l(()=>[n(v,{title:"Laporan Pengeluaran",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN PENGELUARAN BARANG",value:"out"},null,8,["active"])]),_:1}),n($(F),{to:"/log-report"},{default:l(()=>[n(v,{title:"Log User",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN LOG USER",value:"users"},null,8,["active"])]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}}),re=ie(Be,[["__scopeId","data-v-0bc22c0a"]]);const Ie={components:{NavDrawers:re},data(){return{actIcon:[{text:"Tambah Data",icon:"mdi-plus",color:"#3B7AA9",variant:"tonal"},{text:"Edit Data",icon:"mdi-square-edit-outline",color:"#3B7AA9",variant:"text",width:"30px",height:"30px"},{text:"Hapus Data",icon:"mdi-delete",color:"red-darken-1",variant:"text",width:"30px",height:"30px"},{text:"Detail Data",icon:"mdi-dots-vertical",color:"grey-darken-1",variant:"text",width:"30px",height:"30px"}],cetak:[{title:"export ke xlsx",icon:"mdi-download"},{title:"export ke pdf",icon:"mdi-file-pdf-box"}],pageTitle:"",pemasukan:"",produksi:"",pengeluaran:"",kirim:""}},methods:{page(t){this.pageTitle=t}},mounted(){this.page()}},xe=Object.assign(Ie,{__name:"App",setup(t){return(e,a)=>{const s=i("v-container"),o=i("v-main"),k=i("v-layout");return r(),m(k,null,{default:l(()=>[e.pageTitle!=null?(r(),m(re,{key:0,pageTitle:e.pageTitle,item:e.items,pemasukan:e.pemasukan,produksi:e.produksi,pengeluaran:e.pengeluaran,kirim:e.kirim},null,8,["pageTitle","item","pemasukan","produksi","pengeluaran","kirim"])):h("",!0),n(o,null,{default:l(()=>[n(s,{class:"d-flex justify-center bg-grey-lighten-5",fluid:"",style:{height:"70vh"}},{default:l(()=>[n($(ge),{actIcon:e.actIcon,cetak:e.cetak,onPage:e.page,onPages:e.page},null,8,["actIcon","cetak","onPage","onPages"])]),_:1})]),_:1})]),_:1})}}});function te({next:t,router:e}){return localStorage.getItem("token")==!1?e.push("/login"):t()}const Ne={props:["keyform","tambah","disabled","ishidden","editbtn","hapus","headers","items","category","btncolor","iTitle","icon","iVariant","alpha","screen","item","submitForm","form","noselect","intable"],data(){return{dialog:!1,categoryName:"",edit:this.form,data:this.tambah,valid:!0}},computed:{},methods:{submit(){this.item==null?this.$emit("form",this.data):this.$emit("edit",this.edit),this.dialog=!1},del(t){this.$emit("del",t),this.dialog=!1}}},Le={key:0},Ee={key:1};function $e(t,e,a,s,o,k){const v=i("v-btn"),T=i("v-icon"),b=i("v-responsive"),_=i("v-toolbar-title"),y=i("v-toolbar"),D=i("v-divider"),A=i("v-label"),U=i("v-select"),w=i("v-text-field"),B=i("v-for"),p=i("v-container"),u=i("v-col"),c=i("v-row"),I=i("v-card"),R=i("v-dialog");return r(),m(R,{modelValue:o.dialog,"onUpdate:modelValue":e[7]||(e[7]=E=>o.dialog=E),scrim:!1,transition:"dialog-bottom-transition",width:a.screen},{activator:l(({props:E})=>[a.intable?h("",!0):(r(),m(v,J({key:0},E,{class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"42",width:"150"}),{default:l(()=>[d(" Tambah Data ")]),_:2},1040)),a.intable?(r(),m(b,{key:1,width:"100"},{default:l(()=>[a.editbtn?(r(),m(v,J({key:0},E,{class:"text-caption",variant:"text"}),{default:l(()=>[n(T,{class:"ms-n3 me-2"},{default:l(()=>[d("mdi-pencil")]),_:1}),d(" Edit Data ")]),_:2},1040)):h("",!0),a.hapus?(r(),m(v,{key:1,class:"text-caption",block:"",variant:"text","prepend-icon":"mdi-delete",hidden:a.ishidden,onClick:e[0]||(e[0]=X=>k.del(o.edit))},{default:l(()=>[d(" Hapus Data ")]),_:1},8,["hidden"])):h("",!0)]),_:2},1024)):h("",!0)]),default:l(()=>[n(I,{class:"rounded-xl"},{default:l(()=>[j("form",{ref:"form",onSubmit:e[6]||(e[6]=ee((...E)=>k.submit&&k.submit(...E),["prevent"]))},[n(y,{class:"bg-white text-center"},{default:l(()=>[n(_,null,{default:l(()=>[d(f(a.iTitle),1)]),_:1})]),_:1}),n(D),n(p,{class:"w-75"},{default:l(()=>[this.noselect==!1?(r(),P("div",Le,[n(A,null,{default:l(()=>[d(f(a.headers[0].title),1)]),_:1}),this.item==null?(r(),m(U,{key:0,items:a.category.slice(this.alpha,a.category.length),density:"compact",variant:"outlined",modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[1]||(e[1]=E=>o.data[a.keyform[0]]=E),required:""},null,8,["items","modelValue"])):h("",!0),this.item!=null?(r(),m(U,{key:1,items:a.category.slice(this.alpha,a.category.length),density:"compact",variant:"outlined",modelValue:o.edit[a.keyform[0]],"onUpdate:modelValue":e[2]||(e[2]=E=>o.edit[a.keyform[0]]=E),value:Object.values(a.item.raw)[0]},null,8,["items","modelValue","value"])):h("",!0)])):h("",!0),this.noselect==!0?(r(),P("div",Ee,[this.item==null?(r(),m(w,{key:0,label:a.headers[0].title,density:"compact",variant:"outlined",modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[3]||(e[3]=E=>o.data[a.keyform[0]]=E),required:""},null,8,["label","modelValue"])):h("",!0),this.item!=null?(r(),m(w,{key:1,label:a.headers[0].title,density:"compact",variant:"outlined",modelValue:o.edit[a.keyform[0]],"onUpdate:modelValue":e[4]||(e[4]=E=>o.edit[a.keyform[0]]=E),readonly:a.headers[0].dis},null,8,["label","modelValue","readonly"])):h("",!0)])):h("",!0),(r(!0),P(C,null,N(a.headers.slice(1,a.headers.length-1),(E,X)=>(r(),m(B,{key:X},{default:l(()=>[this.item==null?(r(),m(w,{key:0,label:E.title,density:"compact",variant:"outlined",modelValue:o.data[a.keyform[X+1]],"onUpdate:modelValue":S=>o.data[a.keyform[X+1]]=S,required:""},null,8,["label","modelValue","onUpdate:modelValue"])):h("",!0),this.item!=null?(r(),m(w,{key:1,label:E.title,density:"compact",variant:"outlined",modelValue:o.edit[a.keyform[X+1]],"onUpdate:modelValue":S=>o.edit[a.keyform[X+1]]=S,readonly:a.headers[X+1].dis},null,8,["label","modelValue","onUpdate:modelValue","readonly"])):h("",!0)]),_:2},1024))),128))]),_:1}),n(c,{"no-gutters":""},{default:l(()=>[n(u,null,{default:l(()=>[n(v,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[5]||(e[5]=E=>o.dialog=!1)},{default:l(()=>[d(" batal ")]),_:1})]),_:1}),n(u,{hidden:a.disabled},{default:l(()=>[n(v,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0"},{default:l(()=>[d(" simpan ")]),_:1})]),_:1},8,["hidden"])]),_:1})],544)]),_:1})]),_:1},8,["modelValue","width"])}const H=ie(Ne,[["render",$e]]);const Re={components:{VDataTable:O,DialogCard:H},props:["loading","barang","laporanstok","disabled","keyform","headers","items","search","category","btncolor","iTitle","icon","iVariant","alpha","screen","form","noselect","ishidden"],data(){return{dialog:!1,totaldata:this.items.length}},methods:{dialogTable(t){return console.log(t)},edit(t){return this.$emit("edit",t)},del(t){return this.$emit("del",t)},slotitem(t,e){for(let a=0;a<this.barang.length;a++)if(t==this.barang[a].kode_barang){if(e=="k")return this.barang[a].kategori_barang;if(e=="nm")return this.barang[a].nama_barang;if(e=="hc")return this.barang[a].hs_code;if(e=="s")return this.barang[a].satuan}}},computed:{row(){let t=[];for(let e=0;e<this.headers.length;e++){let a=this.headers[e].value;t.push(a)}return t},datadef(t){return this.$emit("def",t)}},mounted(){}},M=Object.assign(Re,{__name:"TableVue",setup(t){return(e,a)=>{const s=i("v-icon"),o=i("v-list-item"),k=i("v-list"),v=i("v-menu"),T=i("v-btn"),b=i("v-sheet");return r(),m(b,{class:"rounded-b-xl"},{default:l(()=>[n($(O),{"items-per-page":"10",headers:t.headers,items:t.items,search:t.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 rounded-b-xl",height:"63vh"},se({"item.actions":l(({item:_})=>[n(T,{size:"small",variant:"text",color:"grey-darken-2"},{default:l(()=>[n(s,null,{default:l(()=>[d("mdi-dots-vertical")]),_:1}),n(v,{activator:"parent",transition:"slide-y-transition"},{default:l(()=>[n(k,{density:"compact",class:"px-3"},{default:l(()=>[n(o,{class:"pa-0"},{default:l(()=>[n(H,{editbtn:"true",ishidden:t.ishidden,keyform:t.keyform,intable:!0,disabled:t.disabled,noselect:t.noselect,form:_.raw,onEdit:e.edit,onDel:e.del,item:_,screen:t.screen,headers:t.headers,items:t.items,category:t.category,btncolor:t.btncolor,icon:t.icon,iTitle:t.iTitle,iVariant:t.iVariant,alpha:t.alpha},null,8,["ishidden","keyform","disabled","noselect","form","onEdit","onDel","item","screen","headers","items","category","btncolor","icon","iTitle","iVariant","alpha"])]),_:2},1024),n(o,{class:"pa-0"},{default:l(()=>[n(H,{hapus:"true",ishidden:t.ishidden,keyform:t.keyform,intable:!0,disabled:t.disabled,noselect:t.noselect,form:_.raw,onEdit:e.edit,onDel:e.del,item:_,screen:t.screen,headers:t.headers,items:t.items,category:t.category,btncolor:t.btncolor,icon:t.icon,iTitle:t.iTitle,iVariant:t.iVariant,alpha:t.alpha},null,8,["ishidden","keyform","disabled","noselect","form","onEdit","onDel","item","screen","headers","items","category","btncolor","icon","iTitle","iVariant","alpha"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},[t.laporanstok?{name:"item.kategori_barang",fn:l(({item:_})=>[j("td",null,f(e.slotitem(_.raw.kode_barang,"k")),1)]),key:"0"}:void 0,t.laporanstok?{name:"item.nama_barang",fn:l(({item:_})=>[j("td",null,f(e.slotitem(_.raw.kode_barang,"nm")),1)]),key:"1"}:void 0,t.laporanstok?{name:"item.hs_code",fn:l(({item:_})=>[j("td",null,f(e.slotitem(_.raw.kode_barang,"hc")),1)]),key:"2"}:void 0,t.laporanstok?{name:"item.satuan",fn:l(({item:_})=>[j("td",null,f(e.slotitem(_.raw.kode_barang,"s")),1)]),key:"3"}:void 0]),1032,["headers","items","search"])]),_:1})}}});const Oe={id:"account"},Je=j("span",{class:"text-caption"},"Admin",-1),Fe={class:"d-flex flex-column align-center bg-white rounded-xl"},Xe={props:["pageTitle"],data(){return{menu:[{title:"Ubah Password",value:"changepass"},{title:"Logout",value:"logout"}],title:this.pageTitle}},methods:{logout(){V.logout()}}},L=Object.assign(Xe,{__name:"AppBar",setup(t){return(e,a)=>{const s=i("v-title"),o=i("v-spacer"),k=i("v-icon"),v=i("v-avatar"),T=i("v-span"),b=i("v-btn"),_=i("v-divider"),y=i("v-card"),D=i("v-menu"),A=i("v-container"),U=i("v-app-bar");return r(),m(U,{class:"elevation-0 border-bottom bg-grey-lighten-5 py-1",height:"50"},{default:l(()=>[n(A,{class:"d-flex align-center"},{default:l(()=>[n(s,{class:"text-button"},{default:l(()=>[d(f(t.pageTitle),1)]),_:1}),n(o),j("div",Oe,[n(v,null,{default:l(()=>[n(k,{color:"grey-darken-1",size:"large"},{default:l(()=>[d("mdi-account-circle")]),_:1})]),_:1}),Je,n(k,{size:"20"},{default:l(()=>[d("mdi-chevron-down")]),_:1})]),n(D,{activator:"#account"},{default:l(()=>[n(y,{width:"300",class:"rounded-xl pa-2 bg-grey-lighten-3 border"},{default:l(()=>[j("div",Fe,[n(v,{size:"100"},{default:l(()=>[n(k,{size:"80"},{default:l(()=>[d("mdi-account-circle")]),_:1})]),_:1}),n(T,null,{default:l(()=>[d("Admin")]),_:1}),n(b,{class:"d-flex justify-start align-left rounded-b-xl elevation-0 mt-5",block:"",size:"60"},{default:l(()=>[n(k,{color:"grey-darken-3 me-2 mt-n1 ms-6",size:"19"},{default:l(()=>[d("mdi-key")]),_:1}),n(T,{class:"text-body-2"},{default:l(()=>[d("Ganti Password")]),_:1})]),_:1})]),n(b,{onClick:a[0]||(a[0]=w=>e.logout()),variant:"text",class:"d-flex justify-start align-left rounded-xl elevation-0 text-body-2",block:"",size:"60"},{default:l(()=>[n(k,{size:"20",class:"me-2 ms-6"},{default:l(()=>[d("mdi-logout")]),_:1}),n(T,null,{default:l(()=>[d("Log out")]),_:1})]),_:1}),n(_)]),_:1})]),_:1})]),_:1})]),_:1})}}});const Ke={class:"d-flex align-center"},ze={class:"d-flex align-center w-100"},Ge={class:"d-flex align-center justify-sm-end justify-start"},qe=le({components:{AppBar:L,TableVue:M,DialogCard:H},name:"itemsView",props:["actIcon","cetak"],data(){return{search:"",filter:!1,pageTitle:"DATA BARANG",selectCategory:[],btnTitle:"Tambah Data",alpha:1,pilihcetak:"",statusselect:!1,show:!1,category:["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{key:"actions",align:"center",sortable:!1}],items:"",keyform:["kategori_barang","kode_barang","nama_barang","hs_code","satuan","status"],tambah:{kategori_barang:"",kode_barang:"",nama_barang:"",hs_code:"",satuan:"",status:!0},filtered:{kategori_barang:[]}}},created(){this.windowWidth},methods:{getData(){V.getData("/barang?status=true").then(t=>{this.items=t.data}).catch(()=>{window.location.href="/#/login"})},selected(){return this.selectCategory.length===0?this.items:this.items.filter(t=>this.selectCategory.includes(t.kategori_barang))},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});let e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+t)},successAlert(t){this.$swal.fire("Berhasil !",t,"success")},failedAlert(t){this.$swal.fire("Gagal !",t,"error")},submitForm(t){V.postData("/barang",{barang:t}).then(e=>{this.successAlert(e.data),window.location.href="/"}).catch(e=>{this.failedAlert(e.response.data)})},editForm(t){const e=JSON.stringify(t);V.putData("/barang",{barang:e}).then(a=>{this.successAlert(a.data)}).catch(a=>{this.failedAlert(a.response.data)})},del(t){this.barang={kategori_barang:t.kategori_barang,kode_barang:t.kode_barang,nama_barang:t.nama_barang,hs_code:t.hs_code,satuan:t.satuan,status:!1};const e=JSON.stringify(this.barang);V.deleteData("/barang",{barang:e}),this.$swal.fire({title:"Apakah anda yakin?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya"}).then(a=>{a.isConfirmed&&this.$swal.fire("Berhasil !","Data Berhasil Dihapus!","success")}).catch(function(a){console.log(a)})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[]},reset(){this.filtered.kategori_barang=[],this.selectCategory=[]}},mounted(){this.getData(),this.page(),this.cetak}}),Me=Object.assign(qe,{setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-checkbox"),T=i("v-div"),b=i("v-container"),_=i("v-sheet"),y=i("v-navigation-drawer"),D=i("v-responsive"),A=i("v-text-field"),U=i("v-list-item"),w=i("v-list"),B=i("v-menu"),p=i("v-row");return r(),P(C,null,[n(y,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[4]||(a[4]=u=>e.filter=u),location:"left",width:"320"},{default:l(()=>[n(_,{class:"py-5 bg-transparent"},{default:l(()=>[j("div",Ke,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=u=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(b,{class:"py-3 px-4"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kategori Barang")]),_:1}),n(k),(r(!0),P(C,null,N(e.category,(u,c)=>(r(),m(v,{key:c,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[1]||(a[1]=I=>e.filtered.kategori_barang=I),label:u,value:u,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),n(T,{class:"d-flex justify-end mt-12"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:a[2]||(a[2]=u=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:a[3]||(a[3]=u=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(b,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(p,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(D,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[j("div",ze,[n(o,{onClick:a[5]||(a[5]=u=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),n(H,{keyform:e.keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,screen:400,iTitle:e.actIcon[0].text,btncolor:e.actIcon[0].color,icon:e.actIcon[0].icon,iVariant:e.actIcon[0].variant,headers:e.headers,items:e.items,category:e.category,alpha:e.alpha,submitForm:e.submitForm},null,8,["keyform","tambah","noselect","onForm","iTitle","btncolor","icon","iVariant","headers","items","category","alpha","submitForm"])])]),_:1}),n(D,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[j("div",Ge,[n(A,{modelValue:e.search,"onUpdate:modelValue":a[6]||(a[6]=u=>e.search=u),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(B,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(w,null,{default:l(()=>[(r(!0),P(C,null,N(e.cetak,(u,c)=>(r(),m(U,{key:c,value:c,onClick:I=>e.print(c),density:"compact",class:"text-caption","prepend-icon":u.icon},{default:l(()=>[d(f(u.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(M,{windowWidth:e.windowWidth,keyform:e.keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",screen:400,headers:e.headers,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:e.actIcon[1].text,btncolor:e.actIcon[1].color,icon:e.actIcon[1].icon,iVariant:e.actIcon[1].variant,alpha:e.alpha,form:e.form},null,8,["windowWidth","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","form"])]),_:1})],64)}}});const He={key:0,class:"error-message text-body-2 text-white pt-3"},We={components:{},data(){return{pageTitle:null,message:"",username:"",password:""}},methods:{page(){return this.$emit("page",this.pageTitle)},handleLogin(){V.postLogin({username:this.username,password:this.password}).then(t=>{localStorage.setItem("token",t.data),window.location.href="/"}).catch(t=>{this.message=t.response.data})}},mounted(){this.page()}},Ze=Object.assign(We,{__name:"LoginView",setup(t){return(e,a)=>{const s=i("v-icon"),o=i("v-text-field"),k=i("v-btn"),v=i("v-form"),T=i("v-card"),b=i("v-row");return r(),m(b,{fluid:"",class:"d-flex flex-column justify-center align-center bg-indigo-custom vh-100"},{default:l(()=>[n(T,{class:"text-white bg-trasp rounded-0 d-flex flex-column justify-center border align-center elevation-0 py-12",width:"300"},{default:l(()=>[n(s,{size:"70"},{default:l(()=>[d("mdi-account")]),_:1}),n(v,{onSubmit:ee(e.handleLogin,["prevent"]),"validation-schema":e.schema,class:"text-white w-75 pt-6"},{default:l(()=>[n(o,{variant:"outlined",density:"compact",type:"text",id:"username",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=_=>e.username=_),name:"username",required:"",label:"Username"},null,8,["modelValue"]),n(o,{variant:"outlined",density:"compact",label:"Password",id:"password",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=_=>e.password=_),name:"password",required:"",type:"Password"},null,8,["modelValue"]),n(k,{type:"submit",block:"",height:"50",class:"elevation-0 rounded-0 bg-blue-custom"},{default:l(()=>[d("LOGIN")]),_:1})]),_:1},8,["onSubmit","validation-schema"]),e.message?(r(),P("div",He,f(e.message),1)):h("",!0)]),_:1})]),_:1})}}});const Ye={class:"d-flex align-center w-100"},Qe={class:"d-flex align-center justify-sm-end justify-start"},et=le({name:"CustomerView",props:["actIcon","cetak"],components:{TableVue:M,DialogCard:H,AppBar:L},data(){return{drawer:null,pageTitle:"DATA PELANGGAN",statusselect:!0,search:"",alpha:1,pilihcetak:"",category:["semua","Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"Kode Pelanggan",key:"kode_pelanggan",dis:!0},{title:"Nama",key:"nama"},{title:"Alamat",key:"alamat"},{title:"NPWP",key:"npwp"},{title:"",key:"actions",sortable:!1}],items:"",keyform:["kode_pelanggan","nama","alamat","npwp","status"],tambah:{kode_pelanggan:"",nama:"",alamat:"",npwp:"",status:!0}}},created(){V.getData("/pelanggan?status=true").then(t=>{this.items=t.data}).catch(()=>{window.location.href="/login"})},methods:{page(){return this.$emit("page",this.pageTitle)},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+t)},successAlert(t){this.$swal.fire("Berhasil !",t,"success")},failedAlert(t){this.$swal.fire("Gagal !",t,"error")},submitForm(t){const e=JSON.stringify(t);V.postData("/pelanggan",{pelanggan:e}).then(a=>{this.successAlert(a.data),window.location.href="/pelanggan"}).catch(a=>{this.failedAlert(a.response.data)})},editForm(t){console.log(t);const e=JSON.stringify(t);V.putData("/pelanggan",{pelanggan:e}).then(function(a){this.successAlert(a.data)}).catch(function(a){this.failedAlert(a.response.data)})},del(t){console.log(t),this.pelanggan={kode_pelanggan:t.kode_pelanggan,nama:t.kode_pelanggan,alamat:t.alamat,npwp:t.npwp,status:!1};const e=JSON.stringify(this.pelanggan);V.deleteData("/pelanggan",{pelanggan:e}),this.$swal.fire({title:"Apakah anda yakin?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya"}).then(a=>{a.isConfirmed&&this.$swal.fire("Berhasil !","Data Berhasil Dihapus!","success")}).catch(function(a){this.failedAlert(a.response.data)})}},mounted(){this.page()}}),tt=Object.assign(et,{setup(t){return(e,a)=>{const s=i("v-responsive"),o=i("v-text-field"),k=i("v-btn"),v=i("v-list-item"),T=i("v-list"),b=i("v-menu"),_=i("v-row"),y=i("v-container");return r(),m(y,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(_,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(s,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[j("div",Ye,[n(H,{keyform:e.keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,screen:400,iTitle:e.actIcon[0].text,btncolor:e.actIcon[0].color,icon:e.actIcon[0].icon,iVariant:e.actIcon[0].variant,headers:e.headers,items:e.items,category:e.category,alpha:e.alpha},null,8,["keyform","tambah","noselect","onForm","iTitle","btncolor","icon","iVariant","headers","items","category","alpha"])])]),_:1}),n(s,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[j("div",Qe,[n(o,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=D=>e.search=D),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl ms-2 border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(k,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(b,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(T,null,{default:l(()=>[(r(!0),P(C,null,N(e.cetak,(D,A)=>(r(),m(v,{key:A,value:A,onClick:U=>e.print(A),density:"compact",class:"text-caption","prepend-icon":D.icon},{default:l(()=>[d(f(D.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(M,{keyform:e.keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",screen:400,headers:e.headers,items:e.items,search:e.search,category:e.category,iTitle:e.actIcon[1].text,btncolor:e.actIcon[1].color,icon:e.actIcon[1].icon,iVariant:e.actIcon[1].variant,alpha:e.alpha,form:e.form},null,8,["keyform","noselect","onEdit","onDel","headers","items","search","category","iTitle","btncolor","icon","iVariant","alpha","form"])]),_:1})}}});const at={class:"d-flex"},nt={props:["actIcon","cetak"],components:{TableVue:M,AppBar:L},data(){return{drawer:!1,pageTitle:"DATA SUPPLIER",search:"",alpha:0,headers:[{title:"Kode Supplier",align:"start",key:"kode_supplier",dis:!0},{title:"Nama",align:"start",key:"nama",dis:!0},{title:"Alamat",align:"start",key:"alamat",dis:!0},{title:"Kota",align:"start",key:"kota",dis:!0},{title:"Negara",align:"start",key:"negara",dis:!0},{title:"",align:"start",key:"actions",sortable:!1}],items:[],keyform:["kode_supplier","nama","alamat","kota","negara","status"],tambah:{kode_supplier:"",nama:"",alamat:"",kota:"",negara:"",status:!0}}},created(){V.getData("/supplier?status=true").then(t=>{this.items=t.data}).catch(()=>{window.location.href="/login"})},methods:{page(){return this.$emit("page",this.pageTitle)},suppCode(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].suppCode);return t},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+t)}},successAlert(t){this.$swal.fire("Berhasil !",t,"success")},failedAlert(t){this.$swal.fire("Gagal !",t,"error")},mounted(){this.page()}},lt=Object.assign(nt,{__name:"SupplierView",setup(t){return(e,a)=>{const s=i("v-text-field"),o=i("v-btn"),k=i("v-list-item"),v=i("v-list"),T=i("v-menu"),b=i("v-responsive"),_=i("v-row"),y=i("v-container");return r(),m(y,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(_,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(b,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[j("div",at,[n(s,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=D=>e.search=D),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(T,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(v,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(D,A)=>(r(),m(k,{key:A,value:A,onClick:U=>e.print(A),density:"compact",class:"text-caption","prepend-icon":D.icon},{default:l(()=>[d(f(D.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(M,{keyform:e.keyform,ishidden:!0,disabled:!0,noselect:!0,id:"tbl_exporttable_to_xls",screen:400,headers:e.headers,items:e.items,search:e.search,category:e.suppCode(),iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha},null,8,["keyform","headers","items","search","category","iTitle","btncolor","icon","iVariant","alpha"])]),_:1})}}});const it=j("p",{class:"h5 text-center text-blue-darken-4 mb-5"},"DETAILS USER",-1),ot=j("p",{class:"w-100 bg-blue-custom pa-1 text-center text-button text-white"},"JENIS OTORITAS",-1),st=le({props:["actIcon","cetak"],name:"UserView",components:{AppBar:L},data(){return{drawer:!1,pageTitle:"DATA USER",tab:null,username:"",password:"",otority:"",dialogotoritas:[],userselect:"admin",open:["barang","Laporan"],scrollInvoked:0,items:"",jns_otoritas:["Data Barang","Data Pelanggan","Data Supplier","Data User","Pembelian","Produksi","Penjualan","Pengiriman","Laporan"],user_otoritas:"",headers:[{title:"Username",key:"username"}],j_otoritas:[{title:"Data Barang",value:["Tambah Barang","Ubah Barang","Hapus Barang"]},{title:"Pelanggan",value:["Tambah Pelanggan Baru","Ubah Pelanggan","Hapus Pelanggan"]},{title:"Supplier",value:[]},{title:"User",value:[]},{title:"Pembelian",value:[]},{title:"Produksi",value:[]},{title:"Penjualan",value:[]},{title:"Pengiriman",value:[]},{title:"Laporan",value:["Laporan Stok Barang","Laporan Pemasukan","Laporan Produksi","Laporan Pengeluaran","Laporan Pengiriman","Laporan Log User"]}]}},created(){},computed:{},methods:{getUser(){V.getData("/user?status=true").then(t=>{this.items=t.data}).catch(()=>{window.location.href="/login"})},getOtoritas(){const t="/user_otoritas?",e={username:this.userselect};V.getData(t,{params:e}).then(a=>{this.user_otoritas=a.data}).catch(()=>{window.location.href="/login"})},page(){return this.$emit("page",this.pageTitle)},dataUser(t,e){this.username=t,this.password=e},onScroll(){this.scrollInvoked++},otoritas(){return{"Data Barang":[{jenisotoritas:this.user_otoritas[4].jenis_otoritas,status:this.user_otoritas[4].status},{jenisotoritas:this.user_otoritas[21].jenis_otoritas,status:this.user_otoritas[21].status},{jenisotoritas:this.user_otoritas[27].jenis_otoritas,status:this.user_otoritas[27].status},{jenisotoritas:this.user_otoritas[8].jenis_otoritas,status:this.user_otoritas[8].status}],"Data Pelanggan":[{jenisotoritas:this.user_otoritas[5].jenis_otoritas,status:this.user_otoritas[5].status},{jenisotoritas:this.user_otoritas[22].jenis_otoritas,status:this.user_otoritas[22].status},{jenisotoritas:this.user_otoritas[28].jenis_otoritas,status:this.user_otoritas[28].status},{jenisotoritas:this.user_otoritas[9].jenis_otoritas,status:this.user_otoritas[9].status}],"Data Supplier":[{jenisotoritas:this.user_otoritas[6].jenis_otoritas,status:this.user_otoritas[6].status}],"Data User":[{jenisotoritas:this.user_otoritas[7].jenis_otoritas,status:this.user_otoritas[7].status}],Pembelian:[{jenisotoritas:this.user_otoritas[17].jenis_otoritas,status:this.user_otoritas[17].status},{jenisotoritas:this.user_otoritas[23].jenis_otoritas,status:this.user_otoritas[23].status},{jenisotoritas:this.user_otoritas[0].jenis_otoritas,status:this.user_otoritas[0].status}],Produksi:[{jenisotoritas:this.user_otoritas[20].jenis_otoritas,status:this.user_otoritas[20].status},{jenisotoritas:this.user_otoritas[26].jenis_otoritas,status:this.user_otoritas[26].status},{jenisotoritas:this.user_otoritas[3].jenis_otoritas,status:this.user_otoritas[3].status}],Penjualan:[{jenisotoritas:this.user_otoritas[19].jenis_otoritas,status:this.user_otoritas[19].status},{jenisotoritas:this.user_otoritas[25].jenis_otoritas,status:this.user_otoritas[25].status},{jenisotoritas:this.user_otoritas[2].jenis_otoritas,status:this.user_otoritas[2].status}],Pengiriman:[{jenisotoritas:this.user_otoritas[18].jenis_otoritas,status:this.user_otoritas[18].status},{jenisotoritas:this.user_otoritas[24].jenis_otoritas,status:this.user_otoritas[24].status},{jenisotoritas:this.user_otoritas[1].jenis_otoritas,status:this.user_otoritas[1].status}],Laporan:[{jenisotoritas:this.user_otoritas[10].jenis_otoritas,status:this.user_otoritas[10].status},{jenisotoritas:this.user_otoritas[16].jenis_otoritas,status:this.user_otoritas[16].status},{jenisotoritas:this.user_otoritas[12].jenis_otoritas,status:this.user_otoritas[12].status},{jenisotoritas:this.user_otoritas[15].jenis_otoritas,status:this.user_otoritas[15].status},{jenisotoritas:this.user_otoritas[14].jenis_otoritas,status:this.user_otoritas[14].status},{jenisotoritas:this.user_otoritas[13].jenis_otoritas,status:this.user_otoritas[13].status},{jenisotoritas:this.user_otoritas[11].jenis_otoritas,status:this.user_otoritas[11].status}]}},userotoritas(t,e){for(let a=0;a<this.user_otoritas.length;a++)for(let s=0;s<this.j_otoritas.length;s++)for(let o=0;o<this.jns_otoritas.length;o++)if(t==this.user_otoritas[a].username&&e==this.jns_otoritas[o]&&this.j_otoritas[s].title==e)return this.j_otoritas[s].value},updt(){this.getOtoritas(),this.getUser()}},mounted(){this.page(),this.getOtoritas(),this.getUser()}}),rt=Object.assign(st,{setup(t){return(e,a)=>{const s=i("v-btn"),o=i("v-list-item"),k=i("v-divider"),v=i("v-list"),T=i("v-card"),b=i("v-col"),_=i("v-text-field"),y=i("v-checkbox"),D=i("v-span"),A=i("v-dialog"),U=i("v-row"),w=i("v-container"),B=he("scroll");return r(),m(w,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(U,{class:"d-flex w-100"},{default:l(()=>[n(b,null,{default:l(()=>[n(T,{class:"elevation-0 pa-3 vh-75 rounded-lg bg-transparent","min-width":"250"},{default:l(()=>[n(s,{class:"rounded-xl bg-blue-custom text-white elevation-0 text-caption",height:"42",width:"150"},{default:l(()=>[d("Tambah Baru")]),_:1}),n(v,{class:"bg-transparent"},{default:l(()=>[n(o,{class:"text-caption font-weight-bold"},{default:l(()=>[d(" KODE USER ")]),_:1}),n(k),(r(!0),P(C,null,N(e.items,(p,u)=>(r(),m(o,{key:u,class:"text-caption",density:"compact",onClick:c=>e.userselect=p.username},{default:l(()=>[d(f(p.username),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),n(b,{cols:"4"},{default:l(()=>[n(T,{class:"elevation-0 pt-5 h-100 rounded-lg bg-grey-lighten-4","min-width":"320","max-width":"300"},{default:l(()=>[it,n(_,{label:"Username",modelValue:e.userselect,"onUpdate:modelValue":a[0]||(a[0]=p=>e.userselect=p),density:"compact",variant:"outlined",class:"w-75 mx-auto",readonly:""},null,8,["modelValue"]),n(_,{label:"Password",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=p=>e.password=p),type:"password",density:"compact",variant:"outlined",class:"w-75 mx-auto",readonly:""},null,8,["modelValue"]),ot,ce((r(),m(v,{class:"overflow-y-auto bg-transparent","max-height":"300"},{default:l(()=>[(r(!0),P(C,null,N(e.jns_otoritas,(p,u)=>(r(),m(o,{key:u,class:"text-caption",density:"compact",onClick:c=>e.dialogotoritas[u]=!0},{default:l(()=>[n(y,{density:"compact",class:"mb-n7",label:p,"model-value":!0,readonly:""},null,8,["label"]),n(A,{modelValue:e.dialogotoritas[u],"onUpdate:modelValue":c=>e.dialogotoritas[u]=c,onUpdate:e.dialogotoritas,"max-width":"400"},{default:l(()=>[n(T,{class:"pa-5"},{default:l(()=>[n(D,{class:"text-caption font-weight-bold"},{default:l(()=>[d("Otoritas")]),_:1}),n(k),(r(!0),P(C,null,N(e.userotoritas("admin",p),(c,I)=>(r(),m(y,{class:"text-caption mb-n7",density:"compact",key:I,label:c,"model-value":!0,readonly:""},null,8,["label"]))),128))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","onUpdate"])]),_:2},1032,["onClick"]))),128))]),_:1})),[[B,e.onScroll,void 0,{self:!0}]])]),_:1})]),_:1})]),_:1})]),_:1})}}}),dt={name:"DialogCard2",props:["hiddenbtn","btn","itemDetail","pemasukan","penjualan","produksi","barang","tambah","inputbahan","pembeliandetl","getbarang"],data(){return{search:"",dialog:!1,dialogchild:[],newbarang:this.barang,newproduksi:this.getbarang,dialItem:"",pemasukan_item:[],penjualan_detail:{jumlah:"",nilai:"",harga_jual:""}}},setup(){const t={kode_barang:"",nama_barang:"",hs_code:"",jumlah:"",jumlah_diterima:"",satuan:"",nilai:"",no_urut:"",status:"",harga_jual:""},e=be({...t}),s=fe({kode_barang:{required:q},nama_barang:{required:q},hs_code:{required:q},jumlah:{required:q},jumlah_diterima:{required:q},satuan:{required:q},nilai:{required:q},no_urut:{required:q},harga_jual:{required:q}},e);function o(){s.value.$reset();for(const[k,v]of Object.entries(t))e[k]=v}return{state:e,clear:o,v$:s}},computed:{terjual(){return this.penjualan_detail.jumlah*this.penjualan_detail.harga_jual},filteredItems(){return this.tambah?this.getbarang.filter(t=>t.nama_barang.toLowerCase().includes(this.search.toLowerCase())):this.barang.filter(t=>t.nama_barang.toLowerCase().includes(this.search.toLowerCase()))},masuk(){return{}}},methods:{pemasukanItem(t,e){this.state.no_urut=1,this.state.hs_code=t.hs_code,this.state.satuan=t.satuan,this.pemasukan?this.pemasukan_item.push({no_pembelian:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.state.jumlah,jumlah_diterima:this.state.jumlah_diterima,satuan:this.state.satuan,nilai:this.state.nilai,no_urut:this.state.no_urut}):this.produksi?this.pemasukan_item.push({no_produksi:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.state.jumlah,satuan:this.state.satuan,no_urut:this.state.no_urut,nilai:this.state.nilai}):this.penjualan&&this.pemasukan_item.push({no_penjualan:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_terkirim:0,satuan:this.state.satuan,harga_jual:this.penjualan_detail.harga_jual,total_terjual:this.terjual,no_urut:this.state.no_urut}),this.$emit("pemasukanitem",this.pemasukan_item),this.clear(),this.penjualan_detail={jumlah:"",nilai:"",harga_jual:""},this.dialogchild[e]=!1,this.dialog=!1}}};function ut(t,e,a,s,o,k){const v=i("v-btn"),T=i("v-card-title"),b=i("v-text-field"),_=i("v-list-item"),y=i("v-span"),D=i("v-div"),A=i("v-card"),U=i("v-dialog"),w=i("v-for"),B=i("v-list");return r(),m(U,{modelValue:o.dialog,"onUpdate:modelValue":e[7]||(e[7]=p=>o.dialog=p)},{activator:l(({props:p})=>[n(v,J(p,{onUpdate:o.dialog,variant:"tonal",class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"40",disabled:this.getbarang==""||this.inputbahan==""}),{default:l(()=>[d(" Tambah Barang ")]),_:2},1040,["onUpdate","disabled"])]),default:l(()=>[n(A,{class:"py-5 px-5 rounded-xl"},{default:l(()=>[n(T,{class:"text-center mb-3"},{default:l(()=>[d("Stok Barang")]),_:1}),n(b,{id:"input",modelValue:o.search,"onUpdate:modelValue":e[0]||(e[0]=p=>o.search=p),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),n(B,null,{default:l(()=>[(r(!0),P(C,null,N(k.filteredItems,(p,u)=>(r(),m(w,{key:u},{default:l(()=>[n(U,{onUpdate:o.dialogchild,width:"400",modelValue:o.dialogchild[u],"onUpdate:modelValue":c=>o.dialogchild[u]=c},{activator:l(({props:c})=>[n(_,J(c,{class:"mx-3",onClick:I=>s.state.nama_barang=p.nama_barang}),{default:l(()=>[d(f(p.nama_barang),1)]),_:2},1040,["onClick"])]),default:l(()=>[n(A,{class:"px-7 py-5 w-100 mx-auto rounded-xl"},{default:l(()=>[n(y,{class:"text-button text-center font-weight-bold"},{default:l(()=>[d(f(p.nama_barang),1)]),_:2},1024),n(y,{class:"text-button mt-n2 mb-3 text-center"},{default:l(()=>[d(f(p.kode_barang),1)]),_:2},1024),j("form",{onSubmit:e[6]||(e[6]=ee((...c)=>t.submit&&t.submit(...c),["prevent"])),ref_for:!0,ref:"form"},[a.penjualan?h("",!0):(r(),m(b,{key:0,modelValue:s.state.jumlah,"onUpdate:modelValue":e[1]||(e[1]=c=>s.state.jumlah=c),label:"Jumlah",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:a.hiddenbtn,"error-messages":s.v$.jumlah.$errors.map(c=>c.$message),onInput:s.v$.jumlah.$touch,onBlur:s.v$.jumlah.$touch},null,8,["modelValue","disabled","error-messages","onInput","onBlur"])),a.penjualan?(r(),m(b,{key:1,modelValue:o.penjualan_detail.jumlah,"onUpdate:modelValue":e[2]||(e[2]=c=>o.penjualan_detail.jumlah=c),label:"Jumlah",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:a.hiddenbtn},null,8,["modelValue","disabled"])):h("",!0),!a.tambah&&!a.penjualan?(r(),m(b,{key:2,modelValue:s.state.jumlah_diterima,"onUpdate:modelValue":e[3]||(e[3]=c=>s.state.jumlah_diterima=c),label:"Jumlah Diterima",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:a.hiddenbtn,"error-messages":s.v$.jumlah_diterima.$errors.map(c=>c.$message),onInput:s.v$.jumlah_diterima.$touch,onBlur:s.v$.jumlah_diterima.$touch},null,8,["modelValue","disabled","error-messages","onInput","onBlur"])):h("",!0),!a.tambah&&!a.penjualan?(r(),m(b,{key:3,modelValue:s.state.nilai,"onUpdate:modelValue":e[4]||(e[4]=c=>s.state.nilai=c),label:"Nilai Total",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:a.hiddenbtn,"error-messages":s.v$.nilai.$errors.map(c=>c.$message),onInput:s.v$.nilai.$touch,onBlur:s.v$.nilai.$touch},null,8,["modelValue","disabled","error-messages","onInput","onBlur"])):h("",!0),!a.tambah&&this.penjualan?(r(),m(b,{key:4,modelValue:o.penjualan_detail.harga_jual,"onUpdate:modelValue":e[5]||(e[5]=c=>o.penjualan_detail.harga_jual=c),label:"Harga",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:a.hiddenbtn},null,8,["modelValue","disabled"])):h("",!0),!a.tambah&&this.penjualan?(r(),m(b,{key:5,"model-value":k.terjual,label:"Total Harga",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):h("",!0),n(D,{class:"d-inline w-100"},{default:l(()=>[n(v,{onClick:c=>o.dialogchild[u]=!1,variant:"tonal",class:"rounded-xl text-caption elevation-0 w-auto"},{default:l(()=>[d("Batal")]),_:2},1032,["onClick"]),n(v,{type:"submit",onClick:c=>k.pemasukanItem(p,u),class:"rounded-xl text-caption elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[d("Simpan")]),_:2},1032,["onClick"])]),_:2},1024)],544)]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Q=ie(dt,[["render",ut]]);const mt={key:8,class:"d-flex w-100"},pt={components:{DialogCard2:Q,VDataTable:O},props:["pembelianbaru","namaPelanggan","groupbarang","batalbtn","pemasukan","alamatBongkar","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,confirmdialog:!1,dialogkodeg:!1,valid:!1,detaildial:[],arr:[],tipe_dokumen:["BC23","BC40"],searched:"",barang:"",namasupplier:"",dataitem:this.items,nama_supplier:this.namaSupplier,nama_pelanggan:this.namaPelanggan,tujuan_bongkar:this.namaTujuan,pembelian_input:"",pembelian_detail:[this.pembelian],inputdata:this.datainput,kurs:"",pemasukan_detail:"",penjualan:this.pengeluaran,required:[t=>t?!0:"harus diisi !"]}},created(){if(this.kirim,this.pembelian_detail,V.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>{window.location.href="/login"}),this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("del",this.dataitem,this.pembelian)},totalharga(t){if(this.dataitem.no_penjualan==t)return this.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},async validate(){const{valid:t}=await this.$refs.form.validate();t&&this.$emit("inputhead",this.inputdata,this.pembelian_input)}},mounted(){this.edit,this.namaSupplier,this.namaPelanggan,this.pembelian_detail}},K=Object.assign(pt,{__name:"ScreenDialog",setup(t){return(e,a)=>{const s=i("v-btn"),o=i("v-icon"),k=i("v-toolbar-title"),v=i("v-spacer"),T=i("v-toolbar"),b=i("v-text-field"),_=i("v-col"),y=i("v-row"),D=i("v-card-title"),A=i("v-list-item"),U=i("v-for"),w=i("v-list"),B=i("v-card"),p=i("v-dialog"),u=i("v-select"),c=i("v-div"),I=i("v-card-subtitle"),R=i("v-label"),E=i("v-responsive"),X=i("v-form"),S=i("v-container");return r(),m(p,{modelValue:e.dialog,"onUpdate:modelValue":a[33]||(a[33]=g=>e.dialog=g),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:g})=>[t.edit?h("",!0):(r(),m(s,J({key:0},g,{class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"42"}),{default:l(()=>[d(" Tambah Baru ")]),_:2},1040)),t.edit?(r(),m(s,J({key:1},g,{class:"text-body-2 rounded-lg",color:t.btncolor,icon:t.icon,variant:t.iVariant,height:"30",width:"30"}),null,16,["color","icon","variant"])):h("",!0)]),default:l(()=>[n(B,{class:"bg-grey-lighten-5"},{default:l(()=>[n(T,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(s,{icon:"",dark:"",onClick:a[0]||(a[0]=g=>(e.pembelian_input=[],e.dialog=!1)),size:"small"},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(k,{class:"text-button mt-1"},{default:l(()=>[d(f("DETAIL "+t.pageTitle),1)]),_:1}),n(v)]),_:1}),n(S,{class:"mt-5"},{default:l(()=>[t.edit?(r(),m(y,{key:0},{default:l(()=>[n(_,null,{default:l(()=>[n(b,{label:e.penjualan?"No Penjualan":t.kirim?"No Pengiriman":"No Pemasukan","model-value":e.penjualan?e.dataitem.no_penjualan:t.kirim?e.dataitem.no_pengiriman:e.dataitem.no_pembelian,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["label","model-value"]),n(b,{label:e.penjualan?"Tgl Penjualan":t.kirim?"Tgl Pengiriman":"Tgl Pemasukan","model-value":e.penjualan?e.dataitem.tgl_penjualan:t.kirim?e.dataitem.tgl_pengiriman:e.dataitem.tgl_pembelian,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["label","model-value"]),!e.penjualan&&!t.kirim?(r(),m(b,{key:0,label:"Nama Supplier","model-value":e.nama_supplier,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0)]),_:1}),n(_,null,{default:l(()=>[t.kirim?(r(),m(b,{key:0,label:"Pelanggan","model-value":e.kode_pelanggan,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),t.kirim?(r(),m(b,{key:1,label:"Tujuan Bongkar","model-value":e.tujuan_bongkar,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),e.penjualan?(r(),m(b,{key:2,label:"Kode Group","model-value":e.dataitem.kode_group,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(b,{key:3,label:"Tipe Dokumen","model-value":e.dataitem.tipe_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(b,{key:4,label:"No Dokumen","model-value":e.dataitem.no_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(b,{key:5,label:"Tgl Dokumen","model-value":e.dataitem.tgl_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),e.penjualan?(r(),m(b,{key:6,label:"Tipe Dokumen","model-value":e.dataitem.tipe_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0)]),_:1}),n(_,null,{default:l(()=>[e.penjualan?(r(),m(b,{key:0,label:"No Dokumen","model-value":e.dataitem.no_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),e.penjualan?(r(),m(b,{key:1,label:"Tgl Dokumen","model-value":e.dataitem.tgl_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(b,{key:2,label:"No Invoice","model-value":e.dataitem.no_invoice,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(b,{key:3,label:"No BL","model-value":e.dataitem.no_bl,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(b,{key:4,label:"Mata Uang","model-value":e.dataitem.mata_uang,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(b,{key:5,label:"Kurs","model-value":e.kurs,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),t.kirim?(r(),m(b,{key:6,label:"Supir","model-value":e.dataitem.supir,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0),t.kirim?(r(),m(b,{key:7,label:"No Polisi","model-value":e.dataitem.no_polisi,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])):h("",!0)]),_:1})]),_:1})):h("",!0),n(X,{onSubmit:a[32]||(a[32]=ee(()=>{},["prevent"])),ref:"form"},{default:l(()=>[!t.edit&&t.pemasukan?(r(),m(y,{key:0},{default:l(()=>[n(_,null,{default:l(()=>[n(b,{label:"No Pemasukan",modelValue:e.inputdata.no_pembelian,"onUpdate:modelValue":a[1]||(a[1]=g=>e.inputdata.no_pembelian=g),variant:"outlined",density:"compact",class:"bg-grey-lighten-4 mb-5 border-0",style:{"min-width":"200px","max-width":"300px"},"hide-details":"",readonly:"",disabled:""},null,8,["modelValue"]),n(b,{type:"date",variant:"outlined",density:"compact",label:"Tgl Pemasukan",modelValue:e.inputdata.tgl_pembelian,"onUpdate:modelValue":a[2]||(a[2]=g=>e.inputdata.tgl_pembelian=g),rules:e.required,"hide-details":"",style:{"min-width":"200px","max-width":"300px"},color:"grey",class:"mb-5"},null,8,["modelValue","rules"]),t.edit?h("",!0):(r(),m(p,{key:0,modelValue:e.dialog4,"onUpdate:modelValue":a[6]||(a[6]=g=>e.dialog4=g)},{activator:l(({props:g})=>[n(b,J(g,{label:"Supplier",modelValue:e.namasupplier,"onUpdate:modelValue":a[3]||(a[3]=x=>e.namasupplier=x),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-5","hide-details":"",rules:e.required}),null,16,["modelValue","rules"])]),default:l(()=>[n(B,{class:"py-5 px-5 rounded-xl mx-auto",width:"400"},{default:l(()=>[n(s,{icon:"mdi-close",variant:"plain",onClick:a[4]||(a[4]=g=>e.dialog4=!1)}),t.kirim?h("",!0):(r(),m(D,{key:0,class:"text-center text-blue-darken-4 mb-3"},{default:l(()=>[d("SUPPLIER")]),_:1})),t.kirim?(r(),m(D,{key:1,class:"text-center text-blue-darken-4 mb-3"},{default:l(()=>[d("PELANGGAN")]),_:1})):h("",!0),n(b,{modelValue:e.searched,"onUpdate:modelValue":a[5]||(a[5]=g=>e.searched=g),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),n(w,null,{default:l(()=>[(r(!0),P(C,null,N(e.filtersupplier,(g,x)=>(r(),m(U,{key:x},{default:l(()=>[t.kirim?h("",!0):(r(),m(A,{key:0,style:{cursor:"pointer"},onClick:G=>(e.inputdata.kode_supplier=g.kode_supplier,e.namasupplier=g.nama,e.dialog4=!1)},{default:l(()=>[d(f(g.nama),1)]),_:2},1032,["onClick"])),t.kirim?(r(),m(A,{key:1,style:{cursor:"pointer"},onClick:G=>(e.inputdata.kode_pelanggan=g.kode_pelanggan,e.dialog4=!1)},{default:l(()=>[d(f(g.nama),1)]),_:2},1032,["onClick"])):h("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))]),_:1}),n(_,null,{default:l(()=>[n(u,{label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[7]||(a[7]=g=>e.inputdata.tipe_dokumen=g),items:e.tipe_dokumen,rules:e.required,variant:"outlined",density:"compact",class:"mb-5","hide-details":"",style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","items","rules"]),n(b,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[8]||(a[8]=g=>e.inputdata.no_dokumen=g),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:e.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),n(b,{type:"date",variant:"outlined",density:"compact",label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[9]||(a[9]=g=>e.inputdata.tgl_dokumen=g),rules:e.required,"hide-details":"",style:{"min-width":"200px","max-width":"300px"},color:"grey",class:"mb-5"},null,8,["modelValue","rules"])]),_:1}),n(_,null,{default:l(()=>[n(b,{label:"No Invoice",modelValue:e.inputdata.no_invoice,"onUpdate:modelValue":a[10]||(a[10]=g=>e.inputdata.no_invoice=g),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:e.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),n(b,{label:"No BL",modelValue:e.inputdata.no_bl,"onUpdate:modelValue":a[11]||(a[11]=g=>e.inputdata.no_bl=g),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:e.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),n(b,{label:"Mata Uang",modelValue:e.inputdata.mata_uang,"onUpdate:modelValue":a[12]||(a[12]=g=>e.inputdata.mata_uang=g),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:e.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),n(b,{label:"Kurs",modelValue:e.inputdata.kurs,"onUpdate:modelValue":a[13]||(a[13]=g=>e.inputdata.kurs=g),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:e.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"])]),_:1})]),_:1})):h("",!0),!t.edit&&t.pengeluaran?(r(),m(y,{key:1},{default:l(()=>[n(_,null,{default:l(()=>[n(b,{label:"No Pengeluaran",modelValue:e.inputdata.no_penjualan,"onUpdate:modelValue":a[14]||(a[14]=g=>e.inputdata.no_penjualan=g),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",disabled:"",class:"bg-grey-lighten-4 mb-6","hide-details":""},null,8,["modelValue"]),n(b,{label:"Tgl Keluar",type:"date",modelValue:e.inputdata.tgl_penjualan,"onUpdate:modelValue":a[15]||(a[15]=g=>e.inputdata.tgl_penjualan=g),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-6","hide-details":"",rules:e.required},null,8,["modelValue","rules"])]),_:1}),n(_,null,{default:l(()=>[n(p,{modelValue:e.dialog4,"onUpdate:modelValue":a[19]||(a[19]=g=>e.dialog4=g)},{activator:l(({props:g})=>[n(b,J(g,{label:"Pelanggan",modelValue:e.inputdata.kode_pelanggan,"onUpdate:modelValue":a[16]||(a[16]=x=>e.inputdata.kode_pelanggan=x),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-5","hide-details":"",rules:e.required}),null,16,["modelValue","rules"])]),default:l(()=>[n(B,{class:"py-5 px-5 rounded-xl mx-auto",width:"400"},{default:l(()=>[n(s,{icon:"mdi-close",variant:"plain",onClick:a[17]||(a[17]=g=>e.dialog4=!1)}),n(D,{class:"text-center text-blue-darken-4 mb-3"},{default:l(()=>[d("PELANGGAN")]),_:1}),n(b,{modelValue:e.searched,"onUpdate:modelValue":a[18]||(a[18]=g=>e.searched=g),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",rules:e.required,density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),n(w,null,{default:l(()=>[(r(!0),P(C,null,N(e.filtersupplier,(g,x)=>(r(),m(U,{key:x},{default:l(()=>[n(A,{style:{cursor:"pointer"},onClick:G=>(e.inputdata.kode_pelanggan=g.kode_pelanggan,e.dialog4=!1)},{default:l(()=>[d(f(g.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(p,{modelValue:e.dialogkodeg,"onUpdate:modelValue":a[23]||(a[23]=g=>e.dialogkodeg=g)},{activator:l(({props:g})=>[n(b,J({label:"Kode Group"},g,{modelValue:e.inputdata.kode_group,"onUpdate:modelValue":a[20]||(a[20]=x=>e.inputdata.kode_group=x),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",rules:e.required,"hide-details":""}),null,16,["modelValue","rules"])]),default:l(()=>[n(B,{class:"py-5 px-5 rounded-xl mx-auto",width:"400"},{default:l(()=>[n(s,{icon:"mdi-close",variant:"plain",onClick:a[21]||(a[21]=g=>e.dialogkodeg=!1)}),n(D,{class:"text-center text-blue-darken-4 mb-3"},{default:l(()=>[d("KODE GROUP")]),_:1}),n(b,{modelValue:e.searched,"onUpdate:modelValue":a[22]||(a[22]=g=>e.searched=g),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",rules:e.required,density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),n(w,null,{default:l(()=>[(r(!0),P(C,null,N(e.filterkodegroup,(g,x)=>(r(),m(U,{key:x},{default:l(()=>[n(A,{style:{cursor:"pointer"},onClick:G=>(e.inputdata.kode_group=g.kode_group,e.dialogkodeg=!1)},{default:l(()=>[d(f(g.kode_group),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(_,null,{default:l(()=>[n(u,{label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[24]||(a[24]=g=>e.inputdata.tipe_dokumen=g),items:e.tipe_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},rules:e.required,"hide-details":"",class:"mb-5"},null,8,["modelValue","items","rules"]),n(b,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[25]||(a[25]=g=>e.inputdata.no_dokumen=g),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},rules:e.required,"hide-details":"",class:"mb-5"},null,8,["modelValue","rules"]),n(b,{label:"Tgl Dokumen",type:"date",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[26]||(a[26]=g=>e.inputdata.tgl_dokumen=g),style:{"min-width":"200px","max-width":"300px"},class:"mb-5",variant:"outlined",density:"compact","hide-details":"",rules:e.required},null,8,["modelValue","rules"])]),_:1})]),_:1})):h("",!0),t.edit?h("",!0):(r(),m(c,{key:2,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center"},{default:l(()=>[n(Q,{onReset:e.reset,barang:e.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pemasukan:t.pemasukan,penjualan:e.penjualan,btn:t.btn,width:"400"},null,8,["onReset","barang","itemDetail","onPemasukanitem","pemasukan","penjualan","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),n($(O),{headers:t.headDetails,items:t.edit?e.pembelian_detail:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 px-5",height:"150"},se({bottom:l(()=>[]),"item.actions":l(({item:g,index:x})=>[n(p,{modelValue:e.detaildial[x],"onUpdate:modelValue":G=>e.detaildial[x]=G},{activator:l(({props:G})=>[n(s,J(G,{class:"text-body-2 rounded-lg",color:t.actIcon[3].color,icon:t.actIcon[3].icon,variant:"plain",height:"30",width:"30"}),null,16,["color","icon"])]),default:l(()=>[n(E,{class:"bg-white mx-auto px-7 pb-7 pt-5 rounded-xl",width:"400"},{default:l(()=>[n(s,{onClick:G=>e.detaildial[x]=!1,icon:"mdi-close",variant:"text"},null,8,["onClick"]),n(D,{class:"text-center mt-n5"},{default:l(()=>[d(f(g.raw.nama_barang),1)]),_:2},1024),n(I,{class:"text-center mb-2"},{default:l(()=>[d(f(g.raw.hs_code),1)]),_:2},1024),n(R,null,{default:l(()=>[d("Jumlah")]),_:1}),n(b,{variant:"outlined",density:"compact",value:e.numb(g.raw.jumlah),active:"true",readonly:"","hide-details":"",class:"mb-1"},null,8,["value"]),!e.penjualan&&!t.kirim&&!e.pen?(r(),m(R,{key:0},{default:l(()=>[d("Jumlah diterima")]),_:1})):h("",!0),e.penjualan&&!t.kirim?(r(),m(R,{key:1},{default:l(()=>[d("Jumlah Terkirim")]),_:1})):h("",!0),!t.kirim&&!t.edit?(r(),m(b,{key:2,variant:"outlined",density:"compact",value:e.penjualan?e.numb(g.raw.jumlah_terkirim):e.numb(g.raw.jumlah_diterima),readonly:"","hide-details":"",class:"mb-1"},null,8,["value"])):h("",!0),t.pemasukan&&t.edit?(r(),m(b,{key:3,value:e.numb(g.raw.jumlah),variant:"outlined",density:"compact",readonly:"","hide-details":"",class:"mb-1"},null,8,["value"])):h("",!0),!e.penjualan&&!t.kirim?(r(),m(R,{key:4},{default:l(()=>[d("Total Nilai")]),_:1})):h("",!0),e.penjualan&&!t.kirim?(r(),m(R,{key:5},{default:l(()=>[d("Harga Jual")]),_:1})):h("",!0),!t.kirim&&!t.edit?(r(),m(b,{key:6,variant:"outlined",density:"compact",value:e.penjualan?e.numb(g.raw.harga_jual):e.numb(g.raw.nilai),readonly:"","hide-details":"",class:"mb-4"},null,8,["value"])):h("",!0),t.pemasukan&&t.edit?(r(),m(b,{key:7,value:e.numb(g.raw.nilai),variant:"outlined",density:"compact",readonly:"","hide-details":"",class:"mb-1"},null,8,["value"])):h("",!0),t.edit?h("",!0):(r(),P("div",mt,[n(s,{onClick:G=>(e.deleteditem(g.raw),e.detaildial[x]=!1),hidden:t.disable,variant:"tonal",class:"text-caption rounded-xl elevation-0 w-25"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick","hidden"]),n(s,{hidden:t.disable,color:"blue-darken-4",class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[d("Simpan")]),_:1},8,["hidden"])]))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},[e.penjualan==!1||t.kirim?{name:"item.jumlah",fn:l(({item:g})=>[j("td",null,f(e.numb(g.raw.jumlah)),1)]),key:"0"}:void 0,e.penjualan==!1?{name:"item.jumlah_diterima",fn:l(({item:g})=>[j("td",null,f(e.numb(g.raw.jumlah_diterima)),1)]),key:"1"}:void 0,e.penjualan==!1?{name:"item.nilai",fn:l(({item:g})=>[j("td",null,f(e.numb(g.raw.nilai)),1)]),key:"2"}:void 0,e.penjualan?{name:"item.jumlah_terkirim",fn:l(({item:g})=>[j("td",null,f(e.numb(g.raw.jumlah_terkirim)),1)]),key:"3"}:void 0,e.penjualan?{name:"item.harga_jual",fn:l(({item:g})=>[j("td",null,f(e.numb(g.raw.harga_jual)),1)]),key:"4"}:void 0,e.penjualan?{name:"item.total_terjual",fn:l(({item:g})=>[j("td",null,f(e.numb(g.raw.total_terjual)),1)]),key:"5"}:void 0,t.kirim?{name:"item.tipe_dokumen",fn:l(()=>[j("td",null,f(t.dokumenpjl.tipe_dokumen),1)]),key:"6"}:void 0,t.kirim?{name:"item.no_dokumen",fn:l(()=>[j("td",null,f(t.dokumenpjl.no_dokumen),1)]),key:"7"}:void 0]),1032,["headers","items"]),t.edit?h("",!0):(r(),m(s,{key:3,onClick:e.validate,hidden:t.disable,class:"float-end text-body-2 text-white elevation-0 rounded-xl",height:"42",width:"150",color:"#ff6e40"},{default:l(()=>[d("Simpan")]),_:1},8,["onClick","hidden"])),!t.pengeluaran&&!t.edit?(r(),m(s,{key:4,onClick:a[27]||(a[27]=g=>e.dialog=!1),class:"float-end rounded-xl text-body-2 me-2",height:"42",width:"150",variant:"outlined",color:"grey-darken-2"},{default:l(()=>[d("Batal")]),_:1})):h("",!0),t.edit?(r(),m(s,{key:5,onClick:a[28]||(a[28]=g=>e.confirmdialog=!0),size:"large",class:"float-end rounded-xl text-body-2 me-2",height:"42",width:"150",variant:"tonal"},{default:l(()=>[d("Batal "+f(t.batalbtn),1)]),_:1})):h("",!0),n(p,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[31]||(a[31]=g=>e.confirmdialog=g),transition:"dialog-bottom-transition",width:"400"},{default:l(()=>[n(B,{class:"rounded-xl"},{default:l(()=>[n(D,{class:"text-center my-7"},{default:l(()=>[d("Apakah Anda Yakin ?")]),_:1}),n(y,{"no-gutters":""},{default:l(()=>[n(_,null,{default:l(()=>[n(s,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:a[29]||(a[29]=g=>e.confirmdialog=!1)},{default:l(()=>[d(" Tidak ")]),_:1})]),_:1}),n(_,null,{default:l(()=>[n(s,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:a[30]||(a[30]=g=>(e.inputdata=[],e.confirm(),e.dialog3=!1,e.dialog=!1,e.confirmdialog=!1))},{default:l(()=>[d(" Ya ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const gt={class:"d-flex align-center"},ct={class:"d-flex align-center w-100"},ht={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},bt={components:{ScreenDialog:K,VDataTable:O,AppBar:L},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,dialog2:!1,pageTitle:"PEMASUKAN BARANG",btn:"Tambah Barang",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,pemasukan_item:"",pembelian_head:"",pdetail:"",tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pemasukan",key:"no_pembelian"},{title:"Tanggal Masuk",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Mata Uang",key:"mata_uang"},{title:"Total Nilai",key:"total_nilai"},{title:"Total Nilai(Rp)",key:"rp"},{key:"actions",sortable:!1}],items:"",supplier:"",pembeliandetl:"",filtered:{selectdokumen:[],periode:[]},headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions",sortable:!1}],details:[],itemDetail:[{name:"Jumlah",key:"jumlah"},{name:"Jumlah Diterima",key:"received"},{name:"Nilai Total",key:"total"}],datainput:{no_pembelian:"",tgl_pembelian:"",tgl_input:this.today(),kode_supplier:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",no_invoice:"",no_bl:"",mata_uang:"",kurs:"",user_input:"admin",status:"true"}}},created(){let t=new Date().toJSON().slice(0,10);return this.filtered.periode=this.periode=[t,t]},methods:{today(){return new Date().toJSON().slice(0,10)},page(){return this.$emit("page",this.pageTitle)},getPembelian(){const t="/pembelian_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.items=a.data}).catch(a=>{console.log(a)})},inputhead(t,e){const a=JSON.stringify(t),s=JSON.stringify(e);console.log({pembelian_head:a,pembelian_detail:s})},del(t,e){this.pembelian_head={no_pembelian:t.no_pembelian,tgl_pembelian:t.tgl_pembelian,kode_supplier:t.kode_supplier,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,no_invoice:t.no_invoice,no_bl:t.no_bl,mata_uang:t.mata_uang,kurs:t.kurs,user_input:"admin",user_batal:"admin",status:"false"},this.pdetail=[{no_pembelian:e.no_pembelian,kode_barang:e.kode_barang,nama_barang:e.nama_barang,hs_code:e.hs_code,jumlah:e.jumlah,jumlah_diterima:e.jumlah_diterima,satuan:e.satuan,nilai:e.nilai,no_urut:e.no_urut}];const a=JSON.stringify(this.pembelian_head),s=JSON.stringify(this.pdetail);console.log({pembelian_head:a,pembelian_detail:s})},selected(){return this.getPembelian(),this.getPembelianDetail()},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},getSupplier(){const t="/supplier";V.getData(t).then(e=>{this.supplier=e.data}).catch(e=>{console.log(e)})},namaSupplier(t){for(let e=0;e<this.supplier.length;e++)if(this.supplier[e].kode_supplier==t)return this.supplier[e].nama},getPembelianDetail(){const t="/pembelian_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>this.pembeliandetl=a.data).catch(a=>{console.log(a)})},pembelian(t){for(let e=0;e<this.pembeliandetl.length;e++)if(this.pembeliandetl[e].no_pembelian==t)return this.pembeliandetl[e]},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},totalnilai(t){let e=t.kurs,a=t.total_nilai;return e*a},reset(){this.filtered.periode=this.today(),this.filtered.selectdokumen=[],this.today(),this.selectdokumen=[],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.getPembelian(),this.getSupplier()}},ft=W();Z(()=>{const t=new Date;ft.value=[t,t]});const kt=Object.assign(bt,{__name:"InItems",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-text-field"),T=i("v-container"),b=i("v-checkbox"),_=i("v-div"),y=i("v-sheet"),D=i("v-navigation-drawer"),A=i("v-responsive"),U=i("v-list-item"),w=i("v-list"),B=i("v-menu"),p=i("v-row");return r(),P(C,null,[n(D,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[6]||(a[6]=u=>e.filter=u),location:"left",width:"320"},{default:l(()=>[n(y,{class:"rounded-xl py-5"},{default:l(()=>[j("div",gt,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=u=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(T,{class:"mb-n10"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(k),n(v,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[1]||(a[1]=u=>e.filtered.periode[0]=u),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(v,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[2]||(a[2]=u=>e.filtered.periode[1]=u),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),n(T,null,{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(k),(r(!0),P(C,null,N(e.tipedokumen,(u,c)=>(r(),m(b,{key:c,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[3]||(a[3]=I=>e.filtered.selectdokumen=I),label:u,value:u,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),n(_,{class:"d-flex justify-end mt-12"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:a[4]||(a[4]=u=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:a[5]||(a[5]=u=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(T,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(p,{"no-gutters":"",class:"rounded-t-xl align-center mt-n4 mb-2"},{default:l(()=>[n(A,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[j("div",ct,[n(o,{onClick:a[7]||(a[7]=u=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),n(K,{batalbtn:"Pemasukan",datainput:e.datainput,onInputhead:e.inputhead,pemasukan:!0,supplier:e.supplier,edit:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:e.details,headers:e.headers,items:e.pilihtipe(),pembeliandetl:e.pembeliandetl,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon,pageTitle:e.pageTitle},null,8,["datainput","onInputhead","supplier","itemDetail","datatext","btn","headDetails","details","headers","items","pembeliandetl","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","pageTitle"])])]),_:1}),n(A,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[j("div",ht,[n(v,{modelValue:e.search,"onUpdate:modelValue":a[8]||(a[8]=u=>e.search=u),density:"compact",variant:"text",class:"w-75 text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(B,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(w,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(u,c)=>(r(),m(U,{key:c,value:c,onClick:I=>e.print(c),density:"compact",class:"text-caption","prepend-icon":u.icon},{default:l(()=>[d(f(u.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(y,{class:"rounded-b-xl"},{default:l(()=>[n($(O),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 rounded-b-xl",height:"63vh"},{"item.kode_supplier":l(({item:u})=>[j("td",null,f(e.namaSupplier(u.raw.kode_supplier)),1)]),"item.actions":l(({item:u})=>[n(K,{batalbtn:"Pemasukan",onDel:e.del,namaSupplier:e.namaSupplier(u.raw.kode_supplier),pembelian:e.pembelian(u.raw.no_pembelian),edit:!0,pemasukan:!0,penjualan:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:e.details,headers:e.headers,items:u.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha,actIcon:t.actIcon,pageTitle:e.pageTitle},null,8,["onDel","namaSupplier","pembelian","itemDetail","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","pageTitle"])]),"item.total_nilai":l(({item:u})=>[j("td",null,f(e.numb(u.raw.total_nilai)),1)]),"item.rp":l(({item:u})=>[j("td",null,f(e.numb(e.totalnilai(u.raw))),1)]),_:1},8,["items","headers","search"])]),_:1})]),_:1})],64)}}}),vt={components:{VDataTable:O,DialogCard2:Q},props:["headers","headItem","edit","getbarang","produksi","detailbahan","groupbarang","detailbarang","select_kode","produksi_bahan","produksi_barang","item","items","category","icon","actIcon","btncolor","alpha","iVariant","screen","details","disable"],data(){return{dialog:!1,dialog2:!1,dialogbhn:[],dialogbrg:[],confirmdialog:!1,dialog5:!1,searched:"",inputbahan:"",inputbarang:"",masuk:"",inputproduksi:{no_produksi:"",kode_group:"",tgl_produksi:"",tgl_input:"",tgl_batal:"",user_input:"admin",user_batal:"",status:!0},btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},created(){let t=new Date().toJSON().slice(0,10);return this.inputproduksi.tgl_input=t},computed:{filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{bahanmasuk(t){this.inputbahan=t},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},deleteditem(t,e){let a=[];e=="bahan"?a=this.inputbahan:e=="barang"&&(a=this.inputbarang);for(let s=0;s<a.length;s++)t==a[s]&&a.splice(s,1)},confirm(){this.$emit("del",this.item,this.produksi_bahan,this.produksi_barang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t)return this.$emit("inputhead",this.inputproduksi,this.inputbahan,this.inputbarang)}},mounted(){}},ae=Object.assign(vt,{__name:"ScreenDialog2",setup(t){return(e,a)=>{const s=i("v-btn"),o=i("v-icon"),k=i("v-toolbar-title"),v=i("v-spacer"),T=i("v-toolbar"),b=i("v-lable"),_=i("v-text-field"),y=i("v-col"),D=i("v-label"),A=i("v-card-title"),U=i("v-list-item"),w=i("v-for"),B=i("v-list"),p=i("v-card"),u=i("v-dialog"),c=i("v-row"),I=i("v-form"),R=i("v-span"),E=i("v-div"),X=i("v-container");return r(),m(u,{modelValue:e.dialog,"onUpdate:modelValue":a[14]||(a[14]=S=>e.dialog=S),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:S})=>[t.edit?(r(),m(s,J({key:0},S,{class:"text-body-2 rounded-lg",color:t.actIcon[3].color,icon:t.actIcon[3].icon,variant:t.actIcon[3].variant,size:"small"}),null,16,["color","icon","variant"])):h("",!0),t.edit?h("",!0):(r(),m(s,J({key:1},S,{class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"42"}),{default:l(()=>[d(" Tambah Baru ")]),_:2},1040))]),default:l(()=>[n(p,null,{default:l(()=>[n(T,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(s,{icon:"",dark:"",onClick:a[0]||(a[0]=S=>e.dialog=!1),size:"small"},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(k,{class:"text-button"},{default:l(()=>[d("DETAIL PRODUKSI")]),_:1}),n(v)]),_:1}),n(X,null,{default:l(()=>[n(I,{onSubmit:a[7]||(a[7]=ee(()=>{},["prevent"])),ref:"form",class:"mb-5 mt-1"},{default:l(()=>[n(c,{class:"row border-sm rounded-lg"},{default:l(()=>[n(y,{class:"w-100"},{default:l(()=>[n(b,{class:"text-body-2"},{default:l(()=>[d("No Produksi")]),_:1}),t.edit?(r(),m(_,{key:0,density:"compact",disabled:"",class:"bg-grey-lighten-4",variant:"outlined",value:t.item.no_produksi,"hide-details":""},null,8,["value"])):h("",!0),t.edit?h("",!0):(r(),m(_,{key:1,density:"compact",disabled:"",class:"bg-grey-lighten-4",variant:"outlined","hide-details":"",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":a[1]||(a[1]=S=>e.inputproduksi.no_produksi=S)},null,8,["modelValue"]))]),_:1}),n(y,{class:"w-100"},{default:l(()=>[n(D,{class:"text-body-2"},{default:l(()=>[d("Tgl Produksi")]),_:1}),t.edit?h("",!0):(r(),m(_,{key:0,type:"date",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":a[2]||(a[2]=S=>e.inputproduksi.tgl_produksi=S),variant:"outlined","hide-details":"",rules:e.required,density:"compact"},null,8,["modelValue","rules"])),t.edit?(r(),m(_,{key:1,type:"date",density:"compact",readonly:"",variant:"outlined",rules:e.required,value:t.item.tgl_produksi},null,8,["rules","value"])):h("",!0)]),_:1}),n(y,{class:"w-100"},{default:l(()=>[n(D,{class:"text-body-2"},{default:l(()=>[d("Kode Group")]),_:1}),t.edit?(r(),m(_,{key:0,value:t.item.kode_group,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",rules:e.required},null,8,["value","rules"])):h("",!0),t.edit?h("",!0):(r(),m(u,{key:1,modelValue:e.dialog5,"onUpdate:modelValue":a[6]||(a[6]=S=>e.dialog5=S)},{activator:l(({props:S})=>[n(_,J(S,{modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":a[3]||(a[3]=g=>e.inputproduksi.kode_group=g),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",rules:e.required}),null,16,["modelValue","rules"])]),default:l(()=>[n(p,{class:"py-5 px-5 rounded-xl mx-auto",width:"400"},{default:l(()=>[n(s,{icon:"mdi-close",variant:"plain",onClick:a[4]||(a[4]=S=>e.dialog5=!1)}),n(A,{class:"text-center text-blue-darken-4 mb-3"},{default:l(()=>[d("KODE GROUP")]),_:1}),n(_,{modelValue:e.searched,"onUpdate:modelValue":a[5]||(a[5]=S=>e.searched=S),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),n(B,null,{default:l(()=>[(r(!0),P(C,null,N(e.filterkodegroup,(S,g)=>(r(),m(w,{key:g},{default:l(()=>[n(U,{style:{cursor:"pointer"},onClick:x=>(e.input_kodegroup(S.kode_group),e.inputproduksi.kode_barang=S.kode_barang,e.dialog5=!1)},{default:l(()=>[d(f(S.kode_group),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))]),_:1})]),_:1})]),_:1},512),n(c,null,{default:l(()=>[n(y,{class:"border-sm rounded-lg me-sm-3 me-0 mb-lg-0 mb-3"},{default:l(()=>[t.edit?h("",!0):(r(),m(Q,{key:0,produksi:t.produksi,btn:e.btn[0],width:"400",barang:t.detailbahan,tambah:!0,getbarang:t.select_kode,kodebarang:e.inputproduksi.kode_barang,onPemasukanitem:e.bahanmasuk},null,8,["produksi","btn","barang","getbarang","kodebarang","onPemasukanitem"])),n($(O),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbahan:e.inputbahan,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 py-3 px-5 text-caption",height:"40vh"},{bottom:l(()=>[]),"item.jumlah":l(({item:S})=>[j("td",null,f(e.numb(S.raw.jumlah)),1)]),"item.actions":l(({item:S,index:g})=>[n(u,{onUpdate:e.dialogchild,modelValue:e.dialogbhn[g],"onUpdate:modelValue":x=>e.dialogbhn[g]=x},{activator:l(({props:x})=>[n(s,J(x,{icon:t.actIcon[3].icon,color:t.actIcon[3].color,variant:t.actIcon[3].variant}),null,16,["icon","color","variant"])]),default:l(()=>[n(p,{class:"px-7 py-5 mx-auto rounded-xl w-100","max-width":"400"},{default:l(()=>[n(R,{class:"text-button text-center font-weight-bold"},{default:l(()=>[d(f(S.raw.nama_barang),1)]),_:2},1024),n(R,{class:"text-button mt-n2 mb-3 text-center"},{default:l(()=>[d(f(S.raw.kode_barang),1)]),_:2},1024),t.edit?(r(),m(_,{key:0,modelValue:S.raw.jumlah,"onUpdate:modelValue":x=>S.raw.jumlah=x,label:"Jumlah",variant:"outlined",density:"compact",readonly:""},null,8,["modelValue","onUpdate:modelValue"])):h("",!0),t.edit?h("",!0):(r(),m(_,{key:1,modelValue:S.raw.jumlah,"onUpdate:modelValue":x=>S.raw.jumlah=x,label:"Jumlah",variant:"outlined",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])),t.edit?h("",!0):(r(),m(E,{key:2,class:"d-inline w-100"},{default:l(()=>[n(s,{onClick:x=>(e.deleteditem(S.raw,"bahan"),e.dialogbhn[g]=!1),variant:"tonal",class:"text-caption rounded-xl elevation-0 w-auto me-3"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick"]),n(s,{type:"submit",onClick:x=>e.dialogbhn[g]=!1,class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[d("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items"])]),_:1}),n(y,{class:"border-sm rounded-lg"},{default:l(()=>[t.edit?h("",!0):(r(),m(Q,{key:0,produksi:t.produksi,btn:e.btn[1],width:"400",barang:t.detailbarang,getbarang:t.getbarang,inputbahan:e.inputbahan,tambah:!0,kodebarang:e.inputproduksi.kode_barang,onPemasukanitem:e.barangmasuk},null,8,["produksi","btn","barang","getbarang","inputbahan","kodebarang","onPemasukanitem"])),n($(O),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 py-3 px-5 text-caption",height:"40vh"},{bottom:l(()=>[]),"item.jumlah":l(({item:S})=>[j("td",null,f(e.numb(S.raw.jumlah)),1)]),"item.actions":l(({item:S,index:g})=>[n(u,{onUpdate:e.dialogbrg,modelValue:e.dialogbrg[g],"onUpdate:modelValue":x=>e.dialogbrg[g]=x},{activator:l(({props:x})=>[n(s,J(x,{icon:t.actIcon[3].icon,color:t.actIcon[3].color,variant:t.actIcon[3].variant}),null,16,["icon","color","variant"])]),default:l(()=>[n(p,{class:"px-7 py-5 mx-auto rounded-xl w-100","max-width":"400"},{default:l(()=>[n(R,{class:"text-button text-center font-weight-bold"},{default:l(()=>[d(f(S.raw.nama_barang),1)]),_:2},1024),n(R,{class:"text-button mt-n2 mb-3 text-center"},{default:l(()=>[d(f(S.raw.kode_barang),1)]),_:2},1024),n(_,{modelValue:S.raw.jumlah,"onUpdate:modelValue":x=>S.raw.jumlah=x,label:"Jumlah",variant:"outlined",density:"compact",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),t.edit?h("",!0):(r(),m(E,{key:0,class:"d-inline w-100"},{default:l(()=>[n(s,{onClick:x=>(e.deleteditem(S.raw,"barang"),e.dialogbrg=!1),variant:"tonal",class:"text-caption rounded-xl elevation-0 w-auto me-3"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick"]),n(s,{type:"submit",onClick:a[8]||(a[8]=x=>e.dialogbrg=!1),class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[d("Simpan")]),_:1})]),_:2},1024))]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),n(c,{class:"float-end"},{default:l(()=>[t.edit?(r(),m(s,{key:0,class:"mt-3 rounded-xl elevation-0 text-caption",height:"42",width:"150",variant:"tonal",onClick:a[9]||(a[9]=S=>e.confirmdialog=!0)},{default:l(()=>[d("Batal Produksi")]),_:1})):h("",!0),t.edit?h("",!0):(r(),m(s,{key:1,class:"mt-3 rounded-xl elevation-0 text-caption",height:"42",width:"150",variant:"tonal",onClick:a[10]||(a[10]=S=>(e.inputbarang=e.inputbahan="",e.dialog=!1))},{default:l(()=>[d("Batal")]),_:1})),t.edit?h("",!0):(r(),m(s,{key:2,class:"ms-3 mt-3 rounded-xl elevation-0 bg-blue-custom text-white text-caption",height:"42",width:"150",onClick:e.validate},{default:l(()=>[d("Simpan")]),_:1},8,["onClick"])),n(u,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[13]||(a[13]=S=>e.confirmdialog=S),transition:"dialog-bottom-transition",width:"400"},{default:l(()=>[n(p,{class:"rounded-xl"},{default:l(()=>[n(A,{class:"text-center my-7"},{default:l(()=>[d("Apakah Anda Yakin ?")]),_:1}),n(c,{"no-gutters":""},{default:l(()=>[n(y,null,{default:l(()=>[n(s,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:a[11]||(a[11]=S=>e.confirmdialog=!1)},{default:l(()=>[d(" Tidak ")]),_:1})]),_:1}),n(y,null,{default:l(()=>[n(s,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:a[12]||(a[12]=S=>(e.inputbahan=e.inputbarang=[],e.confirm(),e.dialog=!1,e.confirmdialog=!1))},{default:l(()=>[d(" Ya ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),_t={class:"d-flex align-center"},yt={class:"d-flex align-center w-100"},wt={class:"d-flex justify-sm-end justify-start"},jt={components:{ScreenDialog2:ae,VDataTable:O,AppBar:L},props:["actIcon","cetak"],data(){return{filter:!1,drawer:null,search:"",periode:[],dialog2:!1,pageTitle:"PRODUKSI BARANG",selectCategory:"semua",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,headers:[{title:"Nomor Produksi",key:"no_produksi"},{title:"Tgl Produksi",key:"tgl_produksi"},{title:"Kode Group",key:"kode_group"},{title:"Bahan Baku",key:"bahan_baku"},{title:"Jumlah Bahan Baku",key:"jumlah"},{title:"Barang Jadi",key:"barang_jadi"},{title:"Jumlah Barang Jadi",key:"jml_barang_jadi"},{title:"",key:"actions",sortable:!1}],filtered:{periode:[]},items:"",detailbahan:"",detailbarang:"",groupbarang:"",getbarang:"",getbahan:"",select_kode:[],headItem:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}]}},created(){this.today();let t=new Date().toJSON().slice(0,10);return this.filtered.periode=[t,t]},methods:{getProduksihead(){const t="/produksi_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.items=a.data}).catch(a=>{console.log(a)})},getProduksiBahan(){const t="/produksi_detail_bahan?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.detailbahan=a.data}).catch(a=>{console.log(a)})},getProduksiBarang(){const t="/produksi_detail_barang?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.detailbarang=a.data}).catch(a=>{console.log(a)})},getGroupBarang(){const t="/group_barang?";V.getData(t).then(e=>{this.groupbarang=e.data}).catch(e=>{console.log(e)})},getBarang(){V.getData("/barang?status=true").then(t=>{this.getbarang=t.data}).catch(()=>{window.location.href="/login"})},inputhead(t,e,a){const s=JSON.stringify(t),o=JSON.stringify(e),k=JSON.stringify(a);console.log({produksi_head:s,produksi_detail_bahan:o,produksi_detail_barang:k})},del(t,e,a){this.produksi_head={no_produksi:t.no_produksi,tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:t.tgl_batal,user_batal:"admin",status:"false"},this.produksi_detail_bahan=[{no_produksi:e.no_produksi,no_urut:e.no_urut,kode_barang:e.kode_barang,nama_barang:e.nama_barang,hs_code:e.hs_code,jumlah:e.jumlah,satuan:e.satuan,nilai:e.nilai}],this.produksi_detail_barang=[{no_produksi:a.no_produksi,no_urut:a.no_urut,kode_barang:a.kode_barang,nama_barang:a.nama_barang,hs_code:a.hs_code,jumlah:a.jumlah,satuan:a.satuan,nilai:a.nilai}];const s=JSON.stringify(this.produksi_head),o=JSON.stringify(e),k=JSON.stringify(a);console.log({produksi_head:s,produksi_detail_bahan:o,produksi_detail_barang:k})},selected(){return this.getProduksihead(),this.getProduksiBahan(),this.getProduksiBarang()},bahanbaku(t){for(let e=0;e<this.detailbahan.length;e++)if(this.detailbahan[e].no_produksi==t)return this.detailbahan[e].nama_barang},jumlah(t){for(let e=0;e<this.detailbahan.length;e++)if(this.detailbahan[e].no_produksi==t)return this.detailbahan[e].jumlah},barangjadi(t){for(let e=0;e<this.detailbarang.length;e++)if(this.detailbarang[e].no_produksi==t)return this.detailbarang[e].nama_barang},jumlahbarang(t){for(let e=0;e<this.detailbarang.length;e++)if(this.detailbarang[e].no_produksi==t)return this.detailbarang[e].jumlah},satuan(t){for(let e=0;e<this.detailbarang.length;e++)if(this.detailbarang[e].no_produksi==t)return this.detailbarang[e].satuan},kodebarang(t){for(let e=0;e<this.detailbarang.length;e++)if(this.detailbarang[e].no_produksi==t)return this.detailbarang[e].kode_barang},kodebahan(t){for(let e=0;e<this.detailbahan.length;e++)if(this.detailbahan[e].no_produksi==t)return this.detailbahan[e].kode_barang},input_kodegroup(t){let e="";for(let a=0;a<this.groupbarang.length;a++)this.groupbarang[a].kode_group==t&&(e=this.groupbarang[a].kode_barang);for(let a=0;a<this.getbarang.length;a++)if(e==this.getbarang[a].kode_barang)return this.select_kode=[this.getbarang[a]]},detail(t,e){let a="";e=="bahan"?a=this.detailbahan:e=="barang"&&(a=this.detailbarang);for(let s=0;s<a.length;s++)if(t==a[s].no_produksi)return a[s]},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},page(){return this.$emit("page",this.pageTitle)},today(){let t=new Date().toJSON().slice(0,10);return this.periode=[t,t]},reset(){this.filtered.periode=this.today(),this.today(),this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected()}},mounted(){this.getProduksihead(),this.getProduksiBahan(),this.getProduksiBarang(),this.getGroupBarang(),this.getBarang(),this.page()}},Tt=W();Z(()=>{const t=new Date;Tt.value=[t,t]});const Vt=Object.assign(jt,{__name:"ProductView",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-text-field"),T=i("v-div"),b=i("v-container"),_=i("v-sheet"),y=i("v-navigation-drawer"),D=i("v-responsive"),A=i("v-list-item"),U=i("v-list"),w=i("v-menu"),B=i("v-row");return r(),P(C,null,[n(y,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[5]||(a[5]=p=>e.filter=p),location:"left",width:"320"},{default:l(()=>[n(_,{class:"rounded-xl py-5 h-500 bg-white"},{default:l(()=>[j("div",_t,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=p=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(b,{class:"pt-3 px-4"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(k),n(v,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[1]||(a[1]=p=>e.filtered.periode[0]=p),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(v,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[2]||(a[2]=p=>e.filtered.periode[1]=p),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(T,{class:"d-flex justify-end pt-12"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-12 me-2 bg-grey-lighten-2",height:"42",onClick:a[3]||(a[3]=p=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-12",color:"orange-lighten-1",height:"42",onClick:a[4]||(a[4]=p=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(b,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(B,{"no-gutters":"",class:"rounded-t-xl align-start mt-n4 mb-2"},{default:l(()=>[n(D,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[j("div",yt,[n(o,{onClick:a[6]||(a[6]=p=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),n(ae,{headers:e.headItem,items:e.items,groupbarang:e.groupbarang,getbarang:e.getbarang,onInput_kodegroup:e.input_kodegroup,onInputhead:e.inputhead,produksi:!0,select_kode:e.select_kode,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon},null,8,["headers","items","groupbarang","getbarang","onInput_kodegroup","onInputhead","select_kode","iTitle","btncolor","icon","iVariant","alpha","actIcon"])])]),_:1}),n(D,{class:"me-sm-0 ms-sm-auto ms-0 me-auto mt-md-2 mt-0",width:"200","max-width":"450"},{default:l(()=>[j("div",wt,[n(v,{modelValue:e.search,"onUpdate:modelValue":a[7]||(a[7]=p=>e.search=p),density:"compact",variant:"text",class:"w-75 text-indigo-darken-4 rounded-xl border me-2 text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(w,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(U,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(p,u)=>(r(),m(A,{key:u,value:u,onClick:c=>e.print(u),density:"compact",class:"text-caption","prepend-icon":p.icon},{default:l(()=>[d(f(p.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(_,{class:"rounded-b-xl"},{default:l(()=>[n($(O),{id:"tbl_exporttable_to_xls","items-per-page":"10",headers:e.headers,items:e.items,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 rounded-b-xl",height:"63vh"},{"item.bahan_baku":l(({item:p})=>[j("td",null,f(e.bahanbaku(p.raw.no_produksi)),1)]),"item.jumlah":l(({item:p})=>[j("td",null,f(e.jumlah(p.raw.no_produksi)),1)]),"item.barang_jadi":l(({item:p})=>[j("td",null,f(e.barangjadi(p.raw.no_produksi)),1)]),"item.jml_barang_jadi":l(({item:p})=>[j("td",null,f(e.jumlahbarang(p.raw.no_produksi)),1)]),"item.satuan":l(({item:p})=>[j("td",null,f(e.satuan(p.raw.no_produksi)),1)]),"item.kodebarang":l(({item:p})=>[j("td",null,f(e.kodebarang(p.raw.no_produksi)),1)]),"item.kodebahan":l(({item:p})=>[j("td",null,f(e.kodebahan(p.raw.no_produksi)),1)]),"item.actions":l(({item:p})=>[n(ae,{batalbtn:e.Produksi,edit:!0,produksi_bahan:e.detail(p.raw.no_produksi,"bahan"),produksi_barang:e.detail(p.raw.no_produksi,"barang"),detailbahan:[{kode_barang:e.kodebahan(p.raw.no_produksi),nama_barang:e.bahanbaku(p.raw.no_produksi),jumlah:e.jumlah(p.raw.no_produksi),satuan:e.satuan(p.raw.no_produksi)}],detailbarang:[{kode_barang:e.kodebarang(p.raw.no_produksi),nama_barang:e.barangjadi(p.raw.no_produksi),jumlah:e.jumlahbarang(p.raw.no_produksi),satuan:e.satuan(p.raw.no_produksi)}],onDel:e.del,headItem:e.headItem,item:p.raw,details:e.details,headers:e.headers,items:e.items,search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[1].text,btncolor:t.actIcon[1].color,icon:t.actIcon[1].icon,iVariant:t.actIcon[1].variant,alpha:e.alpha,actIcon:t.actIcon,disable:!0},null,8,["batalbtn","produksi_bahan","produksi_barang","detailbahan","detailbarang","onDel","headItem","item","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon"])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})],64)}}}),Dt={class:"d-flex align-center"},At={class:"d-flex align-center w-100"},St={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},Pt={components:{ScreenDialog:K,VDataTable:O,AppBar:L},props:["cetak","actIcon"],data(){return{filter:!1,drawer:null,search:"",periode:"",checkStatus:[],pelanggan:"",dialog2:!1,pageTitle:"PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,filtered:{selectdokumen:[],periode:[],status:[]},tipedokumen:["BC25","BC41"],status:[{title:"menunggu",key:"open"},{title:"selesai",key:"close"}],headers:[{title:"Nomor Pengeluaran",key:"no_penjualan"},{title:"Tanggal Keluar",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Pelanggan",key:"kode_pelanggan"},{title:"Kode Group",key:"kode_group"},{title:"Total Penjualan",key:"total_penjualan"},{title:"",key:"actions",sortable:!1}],penjualan_head:"",penjualan_detail:"",headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Terjual",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],groupbarang:"",datainput:{no_penjualan:"",tgl_penjualan:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",kode_pelanggan:"",kode_group:"",total_penjualan:"",tgl_input:"",user_input:"",tgl_batal:"",user_batal:"",status:""}}},created(){this.today();let t=new Date().toJSON().slice(0,10);return this.filtered.periode=[t,t]},computed:{pilihtipe(){return this.selectdokumen.length===0?this.penjualan_head:this.penjualan_head.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},tglinput(){return new Date().toJSON().slice(0,10)}},methods:{today(){let t=new Date().toJSON().slice(0,10);return this.periode=[t,t]},getPenjualanHead(){const t="/penjualan_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.penjualan_head=a.data}).catch(a=>{console.log(a)})},getPenjualanDetail(){const t="/penjualan_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.penjualan_detail=a.data}).catch(a=>{console.log(a)})},getGroupBarang(){const t="/group_barang?";V.getData(t).then(e=>{this.groupbarang=e.data}).catch(e=>{console.log(e)})},getPelanggan(){const t="/pelanggan";V.getData(t).then(e=>{this.pelanggan=e.data}).catch(e=>{console.log(e)})},inputhead(t,e){let a={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:e[0].total_terjual,tgl_input:this.tglinput,user_input:"admin",tgl_batal:t.tgl_batal,user_batal:t.user_batal,status:"open"};const s=JSON.stringify(a),o=JSON.stringify(e);console.log({penjualan_head:s,penjualan_detail:o})},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},penjualan(t){for(let e=0;e<this.penjualan_detail.length;e++)if(this.penjualan_detail[e].no_penjualan==t)return this.penjualan_detail[e]},selected(){this.getPenjualanHead(),this.getPenjualanDetail(),this.getPelanggan()},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},statuspenjualan(){for(let t=1;t<this.status.length;t++)this.checkStatus==this.status[t].title&&(this.checkStatus=this.status[t].key)},checkstatus(){var t=this.pilihtipe;return this.checkStatus.length===0?t:t.filter(e=>this.checkStatus.includes(e.status))},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=this.today(),this.filtered.periode=this.today(),this.filtered.selectdokumen=[],this.filtered.status=[],this.today(),this.selectdokumen=[],this.checkStatus=[],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.checkStatus=this.filtered.status,this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.selected(),this.getPenjualanHead(),this.getPenjualanDetail(),this.getPelanggan(),this.penjualan(),this.getGroupBarang(),this.pilihtipe}},Ut=W();Z(()=>{const t=new Date;Ut.value=[t,t]});const Ct=Object.assign(Pt,{__name:"OutItem",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-text-field"),T=i("v-container"),b=i("v-checkbox"),_=i("v-div"),y=i("v-sheet"),D=i("v-navigation-drawer"),A=i("v-responsive"),U=i("v-list-item"),w=i("v-list"),B=i("v-menu"),p=i("v-row");return r(),P(C,null,[n(D,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[7]||(a[7]=u=>e.filter=u),location:"left",width:"320"},{default:l(()=>[n(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[j("div",Dt,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=u=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(T,{class:"mb-n7"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(k),n(v,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[1]||(a[1]=u=>e.filtered.periode[0]=u),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(v,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[2]||(a[2]=u=>e.filtered.periode[1]=u),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),n(T,null,{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(k),n(_,{class:"d-flex"},{default:l(()=>[(r(!0),P(C,null,N(e.tipedokumen,(u,c)=>(r(),m(b,{key:c,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[3]||(a[3]=I=>e.filtered.selectdokumen=I),label:u,value:u,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1})]),_:1}),n(T,null,{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Status")]),_:1}),n(k),n(_,{class:"d-flex"},{default:l(()=>[(r(!0),P(C,null,N(e.status,(u,c)=>(r(),m(b,{key:c,modelValue:e.filtered.status,"onUpdate:modelValue":a[4]||(a[4]=I=>e.filtered.status=I),label:u.title,value:u.key,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),n(_,{class:"d-flex justify-end mt-12 pt-12"},{default:l(()=>[n(o,{class:"elevation-0 text-small me-2 bg-grey-lighten-2",height:"42",onClick:a[5]||(a[5]=u=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small",color:"orange-lighten-1",height:"42",onClick:a[6]||(a[6]=u=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(T,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(p,{"no-gutters":"",class:"rounded-t-xl align-start mt-n4 mb-2"},{default:l(()=>[n(A,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[j("div",At,[n(o,{onClick:a[8]||(a[8]=u=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),n(K,{batalbtn:"Pengeluaran",datainput:e.datainput,pengeluaran:!0,groupbarang:e.groupbarang,supplier:e.pelanggan,datatext:e.datatext,pageTitle:e.pageTitle,btn:e.btn,headDetails:e.headDetails,details:e.details,headers:e.headers,items:e.checkstatus(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon,onInputhead:e.inputhead},null,8,["datainput","groupbarang","supplier","datatext","pageTitle","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","onInputhead"])])]),_:1}),n(A,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[j("div",St,[n(v,{modelValue:e.search,"onUpdate:modelValue":a[9]||(a[9]=u=>e.search=u),density:"compact",variant:"text",class:"w-75 text-indigo-darken-4 rounded-xl border me-2 text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(B,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(w,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(u,c)=>(r(),m(U,{key:c,value:c,onClick:I=>e.print(c),density:"compact",class:"text-caption","prepend-icon":u.icon},{default:l(()=>[d(f(u.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(y,{class:"rounded-b-xl"},{default:l(()=>[n($(O),{id:"tbl_exporttable_to_xls","items-per-page":"10",headers:e.headers,items:e.checkstatus(),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 rounded-b-xl",height:"63vh"},{"item.total_penjualan":l(({item:u})=>[j("td",null,f(e.numb(u.raw.total_penjualan)),1)]),"item.actions":l(({item:u})=>[n(K,{batalbtn:"Pengeluaran",namaPelanggan:e.namaPelanggan(u.raw.kode_pelanggan),pembelian:e.penjualan(u.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:e.headDetails,items:u.raw,details:e.details,headers:e.headers,search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha,actIcon:t.actIcon,disable:!0},null,8,["namaPelanggan","pembelian","pageTitle","headDetails","items","details","headers","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon"])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})],64)}}}),Bt={class:"d-flex align-center"},It={class:"d-flex align-center w-100"},xt={class:"d-flex align-center justify-sm-end justify-start"},Nt={components:{ScreenDialog:K,VDataTable:O,AppBar:L},props:["actIcon","cetak"],data(){return{drawer:null,search:"",filter:!1,periode:[],checkStatus:"menunggu",dialog2:!1,pageTitle:"PENGIRIMAN BARANG",selectCategory:"",btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,category:["semua","Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"No Pengiriman",key:"no_pengiriman"},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"kode_pelanggan"},{title:"Tujuan Bongkar",key:"kode_alamat_bongkar"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"",key:"actions",sortable:!1}],filtered:{periode:[]},pengirimanHead:"",penjualanHead:"",pengirimanDetail:"",pelanggan:"",alamatBongkar:"",headDetails:[{title:"No Penjualan",key:"no_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],datainput:{no_pengiriman:"",tgl_pengiriman:"",nama_pelanggan:"",tujuan_bongkar:"",supir:"",no_polisi:""}}},created(){this.today();let t=new Date().toJSON().slice(0,10);return this.filtered.periode=[t,t]},methods:{today(){let t=new Date().toJSON().slice(0,10);return this.periode=[t,t]},page(){return this.$emit("page",this.pageTitle)},getPengirimanHead(){const t="/pengiriman_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.pengirimanHead=a.data}).catch(a=>{console.log(a)})},getPengirimanDetail(){const t="/pengiriman_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.pengirimanDetail=a.data}).catch(a=>{console.log(a)})},getPenjualanHead(){const t="/penjualan_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.penjualanHead=a.data}).catch(a=>{console.log(a)})},dokumenpjl(t){let e="";for(let a=0;a<this.pengirimanDetail.length;a++)this.pengirimanDetail[a].no_pengiriman==t&&(e=this.pengirimanDetail[a].no_penjualan);for(let a=0;a<this.penjualanHead.length;a++)if(this.penjualanHead[a].no_penjualan==e)return this.penjualanHead[a]},getPelanggan(){const t="/pelanggan";V.getData(t).then(e=>{this.pelanggan=e.data}).catch(e=>{console.log(e)})},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},tujuanBongkar(){const t="/alamat_bongkar";V.getData(t).then(e=>{this.alamatBongkar=e.data}).catch(e=>{console.log(e)})},Penjualandetl(t){for(let e=0;e<this.pengirimanDetail.length;e++)if(this.pengirimanDetail[e].no_pengiriman==t)return this.pengirimanDetail[e]},namaTujuan(t){for(let e=0;e<this.alamatBongkar.length;e++)if(this.alamatBongkar[e].kode_pelanggan==t)return this.alamatBongkar[e].nama},selected(){this.getPengirimanHead(),this.getPengirimanDetail(),this.getPenjualanHead()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},reset(){this.filtered.periode=this.today(),this.today(),this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected()},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()}},mounted(){this.page(),this.getPengirimanHead(),this.getPengirimanDetail(),this.getPelanggan(),this.tujuanBongkar(),this.getPenjualanHead()}},Lt=W();Z(()=>{const t=new Date;Lt.value=[t,t]});const Et=Object.assign(Nt,{__name:"SendView",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-text-field"),T=i("v-container"),b=i("v-div"),_=i("v-sheet"),y=i("v-navigation-drawer"),D=i("v-responsive"),A=i("v-list-item"),U=i("v-list"),w=i("v-menu"),B=i("v-row");return r(),P(C,null,[n(y,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[5]||(a[5]=p=>e.filter=p),location:"left",width:"320"},{default:l(()=>[n(_,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[j("div",Bt,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=p=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(T,{class:"pt-3 px-4"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(k),n(v,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[1]||(a[1]=p=>e.filtered.periode[0]=p),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(v,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[2]||(a[2]=p=>e.filtered.periode[1]=p),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),n(T,{class:"py-3 px-4"},{default:l(()=>[n(b,{class:"d-flex justify-end"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:a[3]||(a[3]=p=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-5",color:"orange-lighten-1",height:"42",onClick:a[4]||(a[4]=p=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(T,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(B,{"no-gutters":"",class:"rounded-t-xl align-start mt-n4 mb-2"},{default:l(()=>[n(D,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[j("div",It,[n(o,{onClick:a[6]||(a[6]=p=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),n(K,{kirim:!0,edit:!1,supplier:e.pelanggan,alamatBongkar:e.alamatBongkar,datainput:e.datainput,pageTitle:e.pageTitle,btn:e.btn,headDetails:e.headers,details:e.items,headers:e.headers,items:e.items,search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon,datatext:e.datatext},null,8,["supplier","alamatBongkar","datainput","pageTitle","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","datatext"])])]),_:1}),n(D,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[j("div",xt,[n(v,{modelValue:e.search,"onUpdate:modelValue":a[7]||(a[7]=p=>e.search=p),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border me-2 text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(w,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(U,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(p,u)=>(r(),m(A,{key:u,value:u,onClick:c=>e.print(u),density:"compact",class:"text-caption","prepend-icon":p.icon},{default:l(()=>[d(f(p.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(_,{class:"p-4 rounded-b-xl"},{default:l(()=>[n($(O),{id:"tbl_exporttable_to_xls","items-per-page":"10",headers:e.headers,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 px-5 rounded-b-xl h-75",height:"63vh"},{"item.kode_pelanggan":l(({item:p})=>[j("td",null,f(e.namaPelanggan(p.raw.kode_pelanggan)),1)]),"item.kode_alamat_bongkar":l(({item:p})=>[j("td",null,f(e.namaTujuan(p.raw.kode_alamat_bongkar)),1)]),"item.actions":l(({item:p})=>[n(K,{batalbtn:"Pengiriman",kirim:!0,edit:!0,namaPelanggan:e.namaPelanggan(p.raw.kode_pelanggan),namaTujuan:e.namaTujuan(p.raw.kode_alamat_bongkar),pembelian:e.Penjualandetl(p.raw.no_pengiriman),dokumenpjl:e.dokumenpjl(p.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:e.headDetails,headers:e.headers,items:p.raw,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha,actIcon:t.actIcon,disable:!0},null,8,["namaPelanggan","namaTujuan","pembelian","dokumenpjl","pageTitle","headDetails","headers","items","iTitle","btncolor","icon","iVariant","alpha","actIcon"])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})],64)}}});const $t={class:"d-flex align-center"},Rt={class:"d-flex"},Ot={components:{TableVue:M,AppBar:L},props:["page","actIcon","cetak"],data(){return{drawer:null,search:"",searched:"",group_barang:[],filter:!1,dialoggb:!1,pageTitle:"LAPORAN STOK BARANG",selectCategory:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",alpha:1,category:["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions",sortable:!1}],items:"",barang:"",filtered:{kategori_barang:[],group_barang:[]}}},computed:{filterkodegroup(){return this.items.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))},selected(){if(this.selectCategory.length===0)return this.items;{let t=[],e=this.barang.filter(a=>this.selectCategory.includes(a.kategori_barang));for(let a=0;a<e.length;a++)t.push(e[a].kode_barang);return this.items.filter(a=>t.includes(a.kode_barang))}}},methods:{data(){let t=this.selected;return this.group_barang.length===0?t:t.filter(e=>this.group_barang.includes(e.kode_group))},addKodeGroup(t){return this.filtered.group_barang.push(t)},pages(){return this.$emit("page",this.pageTitle)},getData(){V.getData("/group_barang").then(t=>{this.items=t.data}).catch(()=>{window.location.href="/login"})},getDataBarang(){V.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>{window.location.href="/login"})},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,a=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:a,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},kodegroup(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].kode_group);return t},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[],this.group_barang=this.filtered.group_barang},reset(){this.filtered.group_barang=[],this.filtered.kategori_barang=[],this.selectCategory=[],this.group_barang=[]}},mounted(){this.getData(),this.getDataBarang(),this.pages()}},Jt=Object.assign(Ot,{__name:"StockReport",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-checkbox"),T=i("v-container"),b=i("v-combobox"),_=i("v-div"),y=i("v-sheet"),D=i("v-navigation-drawer"),A=i("v-responsive"),U=i("v-text-field"),w=i("v-list-item"),B=i("v-list"),p=i("v-menu"),u=i("v-row");return r(),P(C,null,[n(D,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[5]||(a[5]=c=>e.filter=c),location:"left",width:"320"},{default:l(()=>[n(y,{class:"rounded-xl py-5"},{default:l(()=>[j("div",$t,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=c=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(T,{class:"py-3 px-4"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kategori Barang")]),_:1}),n(k),(r(!0),P(C,null,N(e.category,(c,I)=>(r(),m(v,{key:I,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[1]||(a[1]=R=>e.filtered.kategori_barang=R),label:c,value:c,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),n(T,null,{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Group Barang")]),_:1}),n(k),n(b,{items:e.kodegroup(),modelValue:e.filtered.group_barang,"onUpdate:modelValue":a[2]||(a[2]=c=>e.filtered.group_barang=c),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto h-50","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"]),n(_,{class:"d-flex justify-end mt-5"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:a[3]||(a[3]=c=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:a[4]||(a[4]=c=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(T,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(u,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(A,null,{default:l(()=>[n(o,{onClick:a[6]||(a[6]=c=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),n(A,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[j("div",Rt,[n(U,{modelValue:e.search,"onUpdate:modelValue":a[7]||(a[7]=c=>e.search=c),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(p,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(B,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(c,I)=>(r(),m(w,{key:I,value:I,onClick:R=>e.print(I),density:"compact",class:"text-caption","prepend-icon":c.icon},{default:l(()=>[d(f(c.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(M,{id:"tbl_exporttable_to_xls",barang:e.barang,screen:400,headers:e.headers,items:e.data(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[1].text,btncolor:t.actIcon[1].color,icon:t.actIcon[1].icon,iVariant:t.actIcon[1].variant,alpha:e.alpha,laporanstok:!0},null,8,["barang","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha"])]),_:1})],64)}}}),Ft={class:"d-flex align-center"},Xt={class:"d-flex"},Kt={components:{VDataTable:O,ScreenDialog:K,AppBar:L},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,pageTitle:"LAPORAN PEMASUKAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pembelian",key:"no_pembelian"},{title:"Tanggal Pembelian",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"nama"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Total Nilai",key:"total_nilai"},{title:"",key:"actions",sortable:!1}],items:"",pembeliandetl:"",barang:"",supplier:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.today()},methods:{page(){return this.$emit("page",this.pageTitle)},today(){let t=new Date().toJSON().slice(0,10);return this.periode=this.filtered.periode=[t,t]},getPembelian(){const t="/pembelian_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.items=a.data}).catch(a=>{console.log(a)})},getPembelianDetail(){const t="/pembelian_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>this.pembeliandetl=a.data).catch(a=>{console.log(a)})},getSupplier(){const t="/supplier";V.getData(t).then(e=>{this.supplier=e.data}).catch(e=>{console.log(e)})},getData(){V.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>{window.location.href="/login"})},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.getPembelian(),this.getPembelianDetail(),this.getSupplier(),this.getData()},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.supplier.length;a++)if(t==this.supplier[a].kode_supplier)return this.supplier[a].nama}if(e=="total")return this.numb(t);if(e==="kategori"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="diterima"){for(let a=0;a<this.pembeliandetl.length;a++)for(let s=0;s<this.barang.length;s++)if(t==this.pembeliandetl[a].no_pembelian){if(e=="diterima")return this.numb(this.pembeliandetl[a].jumlah_diterima);if(this.pembeliandetl[a].kode_barang==this.barang[s].kode_barang){if(e=="kategori")return this.barang[s].kategori_barang;if(e=="namabrg")return this.barang[s].nama_barang;if(e=="hscode")return this.barang[s].hs_code;if(e=="satuan")return this.barang[s].satuan}}}},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,nama:this.dataTable(this.items[e].kode_supplier,"nama"),kategori_barang:this.dataTable(this.items[e].no_pembelian,"kategori"),nama_barang:this.dataTable(this.items[e].no_pembelian,"namabrg"),hs_code:this.dataTable(this.items[e].no_pembelian,"hscode"),satuan:this.dataTable(this.items[e].no_pembelian,"satuan"),jumlah_diterima:this.dataTable(this.items[e].no_pembelian,"diterima"),total_nilai:this.dataTable(this.items[e].total_nilai,"total")});return t},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"potrait",unit:"in",format:"a4"});let e=this.pageTitle,a=this.headers;t.setFontSize(14).text(e,.5,.5).setFont("Arial",20),t.autoTable({columns:a,body:this.printdata(),margin:{left:.1,top:.75,right:.1}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},reset(){this.filtered.selectdokumen=[],this.today(),this.selectdokumen=[],this.getPembelian()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page()}},zt=W();Z(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));zt.value=[t,e]});const Gt=Object.assign(Kt,{__name:"InReport",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-text-field"),T=i("v-container"),b=i("v-checkbox"),_=i("v-div"),y=i("v-sheet"),D=i("v-navigation-drawer"),A=i("v-responsive"),U=i("v-list-item"),w=i("v-list"),B=i("v-menu"),p=i("v-row");return r(),P(C,null,[n(D,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[6]||(a[6]=u=>e.filter=u),location:"left",width:"320"},{default:l(()=>[n(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[j("div",Ft,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=u=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(T,{class:"mb-n10"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(k),n(v,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[1]||(a[1]=u=>e.filtered.periode[0]=u),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(v,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[2]||(a[2]=u=>e.filtered.periode[1]=u),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),n(T,null,{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(k),(r(!0),P(C,null,N(e.tipedokumen,(u,c)=>(r(),m(b,{key:c,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[3]||(a[3]=I=>e.filtered.selectdokumen=I),label:u,value:u,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),n(_,{class:"d-flex justify-end mt-12"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:a[4]||(a[4]=u=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:a[5]||(a[5]=u=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(T,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(p,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(A,null,{default:l(()=>[n(o,{onClick:a[7]||(a[7]=u=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),n(A,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[j("div",Xt,[n(v,{modelValue:e.search,"onUpdate:modelValue":a[8]||(a[8]=u=>e.search=u),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(B,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(w,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(u,c)=>(r(),m(U,{key:c,value:c,onClick:I=>e.print(c),density:"compact",class:"text-caption","prepend-icon":u.icon},{default:l(()=>[d(f(u.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(y,{class:"rounded-b-xl"},{default:l(()=>[n($(O),{id:"tbl_exporttable_to_xls","items-per-page":"5",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 rounded-b-xl",height:"63vh"},{"item.nama":l(({item:u})=>[d(f(e.dataTable(u.raw.kode_supplier,"nama")),1)]),"item.kategori_barang":l(({item:u})=>[d(f(e.dataTable(u.raw.no_pembelian,"kategori")),1)]),"item.nama_barang":l(({item:u})=>[d(f(e.dataTable(u.raw.no_pembelian,"namabrg")),1)]),"item.hs_code":l(({item:u})=>[d(f(e.dataTable(u.raw.no_pembelian,"hscode")),1)]),"item.satuan":l(({item:u})=>[d(f(e.dataTable(u.raw.no_pembelian,"satuan")),1)]),"item.jumlah_diterima":l(({item:u})=>[d(f(e.dataTable(u.raw.no_pembelian,"diterima")),1)]),"item.total_nilai":l(({item:u})=>[d(f(e.dataTable(u.raw.total_nilai,"total")),1)]),"item.actions":l(({item:u})=>[n(K,{batalbtn:"Pemasukan",onDel:e.del,namaSupplier:e.dataTable(u.raw.kode_supplier,"nama"),pembelian:e.pembeliandetl,barang:e.barang,edit:!0,penjualan:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:e.details,headers:e.headers,items:u.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha,actIcon:t.actIcon,pageTitle:e.pageTitle},null,8,["onDel","namaSupplier","pembelian","barang","itemDetail","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","pageTitle"])]),_:1},8,["items","headers","search"])]),_:1})]),_:1})],64)}}}),qt={class:"d-flex align-center"},Mt={class:"d-flex"},Ht={components:{AppBar:L},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,pageTitle:"LAPORAN PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC25","BC41"],headers:[{title:"Nomor Penjualan",key:"no_penjualan"},{title:"Tgl Penjualan",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Tgl Dokumen",key:"tgl_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah",key:"jumlah"},{title:"",key:"actions",sortable:!1}],items:"",pjldetail:"",pelanggan:"",barang:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.today()},methods:{today(){let t=new Date().toJSON().slice(0,10);return this.periode=this.filtered.periode=[t,t]},getPenjualan(){const t="/penjualan_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.items=a.data}).catch(a=>{console.log(a)})},getPenjualanDetail(){const t="/penjualan_detail",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.pjldetail=a.data}).catch(a=>{console.log(a)})},getPelanggan(){const t="/pelanggan";V.getData(t).then(e=>{this.pelanggan=e.data}).catch(e=>{console.log(e)})},getData(){V.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>{window.location.href="/login"})},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},updt(){this.getPenjualan(),this.getPenjualanDetail()},page(){return this.$emit("page",this.pageTitle)},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.pelanggan.length;a++)if(t==this.pelanggan[a].kode_pelanggan)return this.pelanggan[a].nama}if(e=="total")return this.numb(t);if(e=="kategori"||e=="kodebrg"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="jumlah"){for(let a=0;a<this.pjldetail.length;a++)for(let s=0;s<this.barang.length;s++)if(t==this.pjldetail[a].no_penjualan){if(e=="kodebrg")return this.pjldetail[a].kode_barang;if(e=="kategori"){if(this.pjldetail[a].kode_barang==this.barang[s].kode_barang)return this.barang[s].kategori_barang}else{if(e=="namabrg")return this.pjldetail[a].nama_barang;if(e=="hscode")return this.pjldetail[a].hs_code;if(e=="satuan")return this.pjldetail[a].satuan;if(e=="jumlah")return this.numb(this.pjldetail[a].jumlah)}}}},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"potrait",unit:"in",format:"a4"});let e=this.pageTitle,a=this.headers;t.setFontSize(14).text(e,.5,.5).setFont("Arial",20),t.autoTable({columns:a,body:this.printdata(),margin:{left:.1,top:.75,right:.1}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_penjualan:this.items[e].no_penjualan,tgl_penjualan:this.items[e].tgl_penjualan,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,tgl_dokumen:this.items[e].tgl_dokumen,nama:this.dataTable(this.items[e].kode_pelanggan,"nama"),kode_group:this.dataTable(this.items[e].no_penjualan,"kodebrg"),kategori_barang:this.dataTable(this.items[e].no_penjualan,"kategori"),nama_barang:this.dataTable(this.items[e].no_penjualan,"namabrg"),hs_code:this.dataTable(this.items[e].no_penjualan,"hscode"),satuan:this.dataTable(this.items[e].no_penjualan,"satuan"),jumlah:this.dataTable(this.items[e].no_penjualan,"jumlah")});return t},reset(){this.filtered.selectdokumen=[],this.today(),this.selectdokumen=[],this.getPenjualan()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.getData(),this.getPelanggan()}},Wt=W();Z(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));Wt.value=[t,e]});const Zt=Object.assign(Ht,{__name:"OutReport",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-text-field"),T=i("v-container"),b=i("v-checkbox"),_=i("v-div"),y=i("v-sheet"),D=i("v-navigation-drawer"),A=i("v-responsive"),U=i("v-list-item"),w=i("v-list"),B=i("v-menu"),p=i("v-row");return r(),P(C,null,[n(D,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[6]||(a[6]=u=>e.filter=u),location:"left",width:"320"},{default:l(()=>[n(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[j("div",qt,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=u=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(T,{class:"mb-n10"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(k),n(v,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[1]||(a[1]=u=>e.filtered.periode[0]=u),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(v,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[2]||(a[2]=u=>e.filtered.periode[1]=u),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),n(T,null,{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(k),(r(!0),P(C,null,N(e.tipedokumen,(u,c)=>(r(),m(b,{key:c,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[3]||(a[3]=I=>e.filtered.selectdokumen=I),label:u,value:u,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),n(_,{class:"d-flex justify-end mt-12"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:a[4]||(a[4]=u=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:a[5]||(a[5]=u=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(T,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(p,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(A,null,{default:l(()=>[n(o,{onClick:a[7]||(a[7]=u=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),n(A,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[j("div",Mt,[n(v,{modelValue:e.search,"onUpdate:modelValue":a[8]||(a[8]=u=>e.search=u),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(B,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(w,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(u,c)=>(r(),m(U,{key:c,value:c,onClick:I=>e.print(c),density:"compact",class:"text-caption","prepend-icon":u.icon},{default:l(()=>[d(f(u.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(y,{class:"rounded-b-xl"},{default:l(()=>[n($(O),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 rounded-b-xl",height:"63vh"},{"item.nama":l(({item:u})=>[d(f(e.dataTable(u.raw.kode_pelanggan,"nama")),1)]),"item.kategori_barang":l(({item:u})=>[d(f(e.dataTable(u.raw.no_penjualan,"kategori")),1)]),"item.kode_barang":l(({item:u})=>[d(f(e.dataTable(u.raw.no_penjualan,"kodebrg")),1)]),"item.nama_barang":l(({item:u})=>[d(f(e.dataTable(u.raw.no_penjualan,"namabrg")),1)]),"item.hs_code":l(({item:u})=>[d(f(e.dataTable(u.raw.no_penjualan,"hscode")),1)]),"item.satuan":l(({item:u})=>[d(f(e.dataTable(u.raw.no_penjualan,"satuan")),1)]),"item.jumlah":l(({item:u})=>[d(f(e.dataTable(u.raw.no_penjualan,"jumlah")),1)]),_:1},8,["items","headers","search"])]),_:1})]),_:1})],64)}}}),Yt={class:"d-flex align-center"},Qt={class:"d-flex"},ea={components:{AppBar:L},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,pageTitle:"LAPORAN LOG USER",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,datauser:["admin","beacukai"],headers:[{title:"Tanggal",key:"tanggal"},{title:"Username",key:"username"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"}],selectuser:[],items:"",user:"",filtered:{selectuser:[],periode:[]}}},created(){this.today()},methods:{today(){let t=new Date().toJSON().slice(0,10);return this.periode=this.filtered.periode=[t,t]},getUser(){const t="/user?";V.getData(t).then(e=>{this.user=e.data}).catch(e=>{console.log(e)})},getLogUser(){const t="/log_user?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};V.getData(t,{params:e}).then(a=>{this.items=a.data}).catch(a=>{console.log(a)})},selected(){return this.selectuser.length===0?this.items:this.items.filter(t=>this.selectuser.includes(t.username))},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new z({orientation:"potrait",unit:"in",format:"a4"});let e=this.pageTitle,a=this.headers;t.setFontSize(14).text(e,.5,.5).setFont("Arial",20),t.autoTable({columns:a,body:this.items,margin:{left:.1,top:.75,right:.1}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,a){var s=document.getElementById("tbl_exporttable_to_xls"),o=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return a?XLSX.write(o,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(o,e||this.pageTitle+"."+(t||"xlsx"))},page(){return this.$emit("page",this.pageTitle)},updt(){this.getUser(),this.getLogUser()},reset(){this.filtered.selectuser=[],this.today(),this.selectuser=[],this.getLogUser()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectuser=this.filtered.selectuser,this.selectuser?this.selectuser==[]&&(this.selectuser=[]):this.selectuser=[]}},mounted(){this.page()}},ta=W();Z(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));ta.value=[t,e]});const aa=Object.assign(ea,{__name:"LogView",setup(t){return(e,a)=>{const s=i("v-span"),o=i("v-btn"),k=i("v-divider"),v=i("v-text-field"),T=i("v-container"),b=i("v-checkbox"),_=i("v-div"),y=i("v-sheet"),D=i("v-navigation-drawer"),A=i("v-responsive"),U=i("v-list-item"),w=i("v-list"),B=i("v-menu"),p=i("v-row"),u=i("v-data-table");return r(),P(C,null,[n(D,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":a[6]||(a[6]=c=>e.filter=c),location:"left",width:"320"},{default:l(()=>[n(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[j("div",Yt,[n(s,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1}),n(o,{size:"small",icon:"mdi-close",onClick:a[0]||(a[0]=c=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),n(T,{class:"mb-n10"},{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(k),n(v,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[1]||(a[1]=c=>e.filtered.periode[0]=c),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),n(v,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[2]||(a[2]=c=>e.filtered.periode[1]=c),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),n(T,null,{default:l(()=>[n(s,{class:"text-caption text-weight-bold"},{default:l(()=>[d("User")]),_:1}),n(k),(r(!0),P(C,null,N(e.datauser,(c,I)=>(r(),m(b,{key:I,modelValue:e.filtered.selectuser,"onUpdate:modelValue":a[3]||(a[3]=R=>e.filtered.selectuser=R),label:c,value:c,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),n(_,{class:"d-flex justify-end mt-12"},{default:l(()=>[n(o,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:a[4]||(a[4]=c=>e.reset())},{default:l(()=>[d("Reset")]),_:1}),n(o,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:a[5]||(a[5]=c=>e.filterdata())},{default:l(()=>[d("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(T,null,{default:l(()=>[e.pageTitle!=null?(r(),m(L,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):h("",!0),n(p,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(A,null,{default:l(()=>[n(o,{onClick:a[7]||(a[7]=c=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),n(A,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[j("div",Qt,[n(v,{modelValue:e.search,"onUpdate:modelValue":a[8]||(a[8]=c=>e.search=c),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),n(o,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),n(B,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[n(w,null,{default:l(()=>[(r(!0),P(C,null,N(t.cetak,(c,I)=>(r(),m(U,{key:I,value:I,onClick:R=>e.print(I),density:"compact",class:"text-caption","prepend-icon":c.icon},{default:l(()=>[d(f(c.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),n(y,{class:"rounded-b-xl"},{default:l(()=>[n(u,{id:"tbl_exporttable_to_xls","items-per-page":e.selected().length,items:e.selected(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 rounded-b-xl",height:"75vh"},{bottom:l(()=>[]),_:1},8,["items-per-page","items","headers","search"])]),_:1}),n(M,{id:"tbl_exporttable_to_xls",headers:e.headers,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[1].text,btncolor:t.actIcon[1].color,icon:t.actIcon[1].icon,iVariant:t.actIcon[1].variant,alpha:e.alpha},null,8,["headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha"])]),_:1})],64)}}}),ne=ke({history:ve(),routes:[{path:"/",redirect:{name:"itemsView"},meta:{middleware:[te]}},{path:"/login",name:"login",component:Ze},{path:"/items",name:"itemsView",component:Me,meta:{middleware:[te]}},{path:"/customers",name:"customers",component:tt,meta:{middleware:[te]}},{path:"/suppliers",name:"suppliers",component:lt},{path:"/users",name:"users",component:rt},{path:"/in",name:"initems",component:kt},{path:"/production",name:"productions",component:Vt},{path:"/out",name:"outitems",component:Ct},{path:"/send",name:"send",component:Et},{path:"/stock-report",name:"stockreport",component:Jt},{path:"/in-report",name:"inreport",component:Gt},{path:"/out-report",name:"outreport",component:Zt},{path:"/log-report",name:"log",component:aa}]});ne.beforeEach((t,e,a)=>{if(!t.meta.middleware)return a();const s=t.meta.middleware,o={from:e,next:a,router:ne,to:t};return s[0]({...o,next:de(o,s,1)})});function de(t,e,a){const s=e[a];return s?()=>{const o=de(t,e,a+1);s({...t,next:o})}:t.next}const na=_e({theme:{defaultTheme:"light"},icons:{defaultSet:"mdi"},components:ye,directives:we});async function la(){(await je(()=>import("./webfontloader-22b94f08.js").then(e=>e.w),["assets/webfontloader-22b94f08.js","assets/vendor-7f826795.js","assets/vendor-d6f22218.css"])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}la();const oe=Te(xe);oe.use(ne);oe.use(na);oe.mount("#app");
