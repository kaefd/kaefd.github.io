import{r as o,o as u,c as m,w as l,a,m as O,b as s,u as F,V as z,t as p,d as b,e as V,f as C,g as E,F as N,h as ne,i as we,j as he,E as Z,n as be,k as je,l as Te,p as xe,q as Ve,s as Q,v as le,x as ie,y as De,z as Ae,A as Se,R as W,B as Pe,C as Ue,D as Ce,G as Be,H as Ie,I as Ne,_ as Le,J as Ee}from"./vendor-a6a08437.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const g of i)if(g.type==="childList")for(const c of g.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const g={};return i.integrity&&(g.integrity=i.integrity),i.referrerPolicy&&(g.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?g.credentials="include":i.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function r(i){if(i.ep)return;i.ep=!0;const g=n(i);fetch(i.href,g)}})();const Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABGlBMVEX///8njcEOIkB/yL0WdakAFDgbir97sNKCyr13fYl/s9Rtp59vq6JspZwnir0nh7hpn5dYq79ysadlmJAngrEmfaoAgrxyw7d3ua8LEC8pk8lilIwmfqwmeKMmdJwAACIAbqUAZqEMGTcAADEAAC0AGzwVJkMADTXx9voAACgAGDrh6vErfK17wLZfjIWHrcpzocLF1uTj8vC74NrJy89TnskbXYWqy+Gztryoq7IYUXYUPmAeapTm5+kwO1K20Nyn2c+izMabvrmVsa4AXp9frLRVgXqU0Mc3ia1dlLtVnq1IibSy3NWiv9VMlKllpKU+iabR3+mAus2JjpjFx8xbY3JETWCWwNs3QlcVRGfY2t1nbXsAABWEiJOWSLhEAAAGNElEQVR4nO2a+VvaWBSGgSDihgwoKmKNWhUUXFqtWpc6S1sd7Uwdaxc7/v//xiS5gdzcJScqZJnne3++5+n5et5LTtJmMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwf+Pd+fn5rx6/efze5VXcPT6LzT/eG51OZ9aiUqmMj4+PTUxMlMvVanXeYsviw8RM3E0+i3be5BK6EctlO6Mbcb5ofIy7y2ewbebzF8WghB86hjHzOu4+n8zNUj6fN98HJawUDStiM+5On0rewQxIWLUDGqn1dMdkES+KmoRbWwYjpZ7uLuXdIf7Z0SScNboRU/nIcCdoR9TMsFzsJjSKcXf7BC69hPmLjjKh4ZFCTw+4gJanioSeo6n0tLmU5zErcsIxw0/cLT+Sq7yfaSlhVQhoXMfd86P4ZAoJLU/9Cec7YsJUebq5lBcxx/0Jx8WA6fK0LQVknvYSVsuKgCnydFt01BniX3xCydFUeapw1In4dy9htaIKmB5PlfksGr2EE5qAxnncvYdiR+Wo66mbUBcwHZ7uqh1lnrKEs0V9xLjbD4FugjbtipWwrHpQ9Ej+q+JlUELzs50wKGDyPQ1wlHk6VlY+KFLjaTNogg4TugdFSjy9ohKan/W/Mt0hJvlVUVq4JZY2z6mESf701gy+hPYItzMZMmGCPZ0iR9i2Tr2aSa2nYRy1z6XWU83CzTv6iZ1Mq6eql0I/V+7JlHqqfCn0O9pzL4SnyVttbmhHD7zTtKfJe1UkFTUvudO0p4n7pKF9KfQS+s5fp81TYuG2L+GuvyJlntILt7kjlKTM08CXQoZUc00/MpLj6QH9oLiRq8iXjOR4Gm7hlgjh6XnUUTSI/woj01bWvU6Lp2EXbpmPRZJoo6g5NdsSCz5OxN/RLve/kPwTaRY1Z2+ypVJp0mLKptGYtnCSvehS08zQKi0Q1HbVpRFyuzI3KUdc4COWsnV9KUUt7lfF+8Vc7rjuJpxkCYWIU9ls4Zu2lEpY2I88k5/cai63LHra4D1dcCah8HTNKSUj1g7k0ggZWc9ZzE0FXEW3UX1poj39sphzWLM9FaboeuretMKoULrXK020p+usS1s29VV80RtRTdjbhrxSMmJ8nt512+Q8FSJyjfpKf3ql7eR6etjK9bBkU13FEjeJYX1pQj1tcl26nopPRd/jjnt4N1/ypW/p31PV02bwfN3g2szNNbJ8RMfThjAKfSkZUbMVDZQjfg4+T3sRRdmGdaVkwoJ6Kxoop4v+Lh3ZfJ5Ol8Q+XU+VpVTE6D09WxXalDxV7Jw1p/S7XLognxVLo/b0dkXssutpL6JqEvua0hyZULEVDZR7UTTB00llQGfJVJf+SJqna5JojmzWw7s7ROkSuhGbst5hPVV8zRoYI+uqLplsbkRdn+2WunKZTBilp3sq0ThPS/qA2fqbZXVpCE/F7X1w6CbIZLMTBvRZP9aUntCrTVSeegu3gqwTMajPyTmNAIFVbIrRBDzU3CRPtuBW6yfL6toQnzSG6faeTzMooO0p2edzPI3i05t/a1ZMkerSmnGiPRW3ZrnN4wI5xBNNRLp08J5KW7PEytE3OqLa0427A7J04J6qNxKO1e+ZDNWl5emyqvZlM7NPRxzsJw3l1uyjdZrJbNbIIao8bR1av2Nk6WA/aSi3Zv8YjuxzITz9IU1x6KddGsLTQX56Uy/cHBt37GCd7DMr1Q6x0lg91S7c3gjdP5z2NLsgeLq4x0rj9FS7cPdofemeDeHp22W+dH2kW3pARhyYp+QE2U1iPNLT1TWvNDZPAxdulpA7HcLTNufp4r1XGpengQs363KPP0/Lxnm6csuX7sbiaZPa1nLrD/4KWrb6WtfRM3/pMO1p/z+9UQu37yaxvxPa04br6eKpUEvvp333lFy4fTeJEcJT9kmDrQk8tKf9/vQWYuG+latCerrxVS6N3NNQC7dECE+nLE9bqt9++mHT109v9MIt3SSHUJ7aC7fMTaSe3v87RNCSbhJjn/ofQYX66p26dLRG/m+i/n16exiheNBUNodJdnT7yfAoSd8SAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBf+Q8QCvZQtLoBxwAAAABJRU5ErkJggg==";function H({next:t,router:e}){return localStorage.getItem("token")==null?e.push({path:"/login"}):t()}const Oe={components:{VDataTable:z},props:["kode_group","barang","kode_barang","stokbarang","groupbarang"],data(){return{dialog:!1,dialogbrg:!1,logbrg:"",log_brg:"",headers:[{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],subheaders:[{title:"Tanggal",key:"tanggal"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"},{title:"Stok Awal",key:"stok_masuk"},{title:"Stok Keluar",key:"stok_keluar"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}]}},created(){},computed:{items(){let t=[];for(let e=0;e<this.stokbarang.length;e++)for(let n=0;n<this.barang.length;n++)this.stokbarang[e].kode_barang==this.kode_barang&&this.stokbarang[e].kode_barang==this.barang[n].kode_barang&&t.push({kode_group:"",kategori_barang:this.barang[n].kategori_barang,kode_barang:this.kode_barang,nama_barang:this.barang[n].nama_barang,hs_code:this.barang[n].hs_code,satuan:this.barang[n].satuan,stok_akhir:this.stokbarang[e].stok_akhir});return t}},methods:{kodegroup(t){let e=[];for(let n=0;n<this.groupbarang.length;n++)this.groupbarang[n].kode_barang==t&&e.push(this.groupbarang[n].kode_group);return e},logbarang(){const t="/log_barang?";P.getData(t).then(e=>{this.logbrg=e.data}).catch(e=>this.$router.push("login"))},log(t,e){let n=[];for(let r=0;r<this.logbrg.length;r++)this.logbrg[r].kode_group==t&&this.logbrg[r].kode_barang==e&&n.push(this.logbrg[r]);this.log_brg=n}},mounted(){this.logbarang()}},fe=Object.assign(Oe,{__name:"LogBarang",setup(t){return(e,n)=>{const r=o("v-icon"),i=o("v-btn"),g=o("v-toolbar-title"),c=o("v-spacer"),j=o("v-toolbar"),S=o("v-sheet"),x=o("v-card"),y=o("v-dialog"),_=o("v-container");return u(),m(y,{modelValue:e.dialog,"onUpdate:modelValue":n[3]||(n[3]=k=>e.dialog=k),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:k})=>[a(i,O(k,{class:"text-body-2 rounded-lg",icon:"",variant:"text",color:"grey-darken-2",size:"small"}),{default:l(()=>[a(r,{size:"20"},{default:l(()=>[s("mdi-dots-vertical")]),_:1})]),_:2},1040)]),default:l(()=>[a(x,{class:"bg-grey-lighten-5 w-100"},{default:l(()=>[a(j,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[a(i,{icon:"",dark:"",onClick:n[0]||(n[0]=k=>e.dialog=!1),size:"small"},{default:l(()=>[a(r,null,{default:l(()=>[s("mdi-close")]),_:1})]),_:1}),a(g,{class:"text-button"},{default:l(()=>[s("DETAIL STOK BARANG")]),_:1}),a(c)]),_:1}),a(_,null,{default:l(()=>[a(S,null,{default:l(()=>[a(F(z),{"items-per-page":"10",headers:e.headers,items:e.items,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3",height:"63vh"},{bottom:l(()=>[]),"item.kode_group":l(({item:k,index:f})=>[s(p(e.kodegroup(k.raw.kode_barang)[f]),1)]),"item.actions":l(({item:k,index:f})=>[a(i,{onClick:T=>(e.dialogbrg=!0,e.log(e.kodegroup(k.raw.kode_barang)[f],k.raw.kode_barang)),class:"text-body-2 rounded-lg",icon:"",variant:"text",color:"grey-darken-2",size:"small"},{default:l(()=>[a(r,{size:"20"},{default:l(()=>[s("mdi-dots-vertical")]),_:1})]),_:2},1032,["onClick"]),a(y,{modelValue:e.dialogbrg,"onUpdate:modelValue":n[2]||(n[2]=T=>e.dialogbrg=T),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{default:l(()=>[a(j,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[a(i,{icon:"",dark:"",onClick:n[1]||(n[1]=T=>e.dialogbrg=!1),size:"small"},{default:l(()=>[a(r,null,{default:l(()=>[s("mdi-close")]),_:1})]),_:1}),a(g,{class:"text-button"},{default:l(()=>[s("DETAIL LOG BARANG")]),_:1}),a(c)]),_:1}),a(x,null,{default:l(()=>[a(S,null,{default:l(()=>[a(F(z),{"items-per-page":"10",headers:e.subheaders,items:e.log_brg,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3",height:"63vh"},{bottom:l(()=>[]),_:1},8,["headers","items","search"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const oe=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Je={props:["keyform","tambah","disabled","ishidden","editbtn","hapus","headers","items","category","btncolor","iTitle","icon","iVariant","alpha","screen","item","submitForm","form","noselect","intable"],data(){return{dialog:!1,categoryName:"",edit:this.form,data:this.tambah,valid:!0}},computed:{},methods:{submit(){this.item==null?this.$emit("form",this.data):this.$emit("edit",this.edit),this.dialog=!1},del(t){this.$emit("del",t)}}},Fe={key:0},Ke={key:1};function Ge(t,e,n,r,i,g){const c=o("v-btn"),j=o("v-icon"),S=o("v-responsive"),x=o("v-toolbar-title"),y=o("v-toolbar"),_=o("v-divider"),k=o("v-label"),f=o("v-select"),T=o("v-text-field"),L=o("v-for"),w=o("v-container"),d=o("v-col"),h=o("v-row"),D=o("v-card"),I=o("v-dialog");return u(),m(I,{modelValue:i.dialog,"onUpdate:modelValue":e[6]||(e[6]=R=>i.dialog=R),scrim:!1,transition:"dialog-bottom-transition",width:n.screen},{activator:l(({props:R})=>[n.intable?b("",!0):(u(),m(c,O({key:0},R,{class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"42",width:"150"}),{default:l(()=>[s(" Tambah Data ")]),_:2},1040)),n.intable?(u(),m(S,{key:1,width:"100"},{default:l(()=>[n.editbtn&&!n.ishidden?(u(),m(c,O({key:0},R,{class:"text-caption",variant:"text"}),{default:l(()=>[a(j,{class:"ms-n3 me-2"},{default:l(()=>[s("mdi-pencil")]),_:1}),s(" Edit Data ")]),_:2},1040)):b("",!0),n.editbtn&&n.ishidden?(u(),m(c,O({key:1},R,{class:"text-caption",variant:"text"}),{default:l(()=>[s(" Lihat Detail ")]),_:2},1040)):b("",!0),n.hapus?(u(),m(c,{key:2,class:"text-caption",block:"",variant:"text","prepend-icon":"mdi-delete",hidden:n.ishidden},{default:l(()=>[s(" Hapus Data ")]),_:1},8,["hidden"])):b("",!0)]),_:2},1024)):b("",!0)]),default:l(()=>[a(D,{class:"rounded-xl"},{default:l(()=>[V("form",{ref:"form",onSubmit:e[5]||(e[5]=ne((...R)=>g.submit&&g.submit(...R),["prevent"]))},[a(y,{class:"bg-white text-center"},{default:l(()=>[a(x,null,{default:l(()=>[s(p(n.iTitle),1)]),_:1})]),_:1}),a(_),a(w,{class:"w-75"},{default:l(()=>[this.noselect==!1?(u(),C("div",Fe,[a(k,null,{default:l(()=>[s(p(n.headers[0].title),1)]),_:1}),this.item==null?(u(),m(f,{key:0,items:n.category.slice(this.alpha,n.category.length),density:"compact",variant:"outlined",modelValue:i.data[n.keyform[0]],"onUpdate:modelValue":e[0]||(e[0]=R=>i.data[n.keyform[0]]=R),required:""},null,8,["items","modelValue"])):b("",!0),this.item!=null?(u(),m(f,{key:1,items:n.category.slice(this.alpha,n.category.length),density:"compact",variant:"outlined",modelValue:i.edit[n.keyform[0]],"onUpdate:modelValue":e[1]||(e[1]=R=>i.edit[n.keyform[0]]=R),value:Object.values(n.item.raw)[0]},null,8,["items","modelValue","value"])):b("",!0)])):b("",!0),this.noselect==!0?(u(),C("div",Ke,[this.item==null?(u(),m(T,{key:0,label:n.headers[0].title,density:"compact",variant:"outlined",modelValue:i.data[n.keyform[0]],"onUpdate:modelValue":e[2]||(e[2]=R=>i.data[n.keyform[0]]=R),required:""},null,8,["label","modelValue"])):b("",!0),this.item!=null?(u(),m(T,{key:1,label:n.headers[0].title,density:"compact",variant:"outlined",modelValue:i.edit[n.keyform[0]],"onUpdate:modelValue":e[3]||(e[3]=R=>i.edit[n.keyform[0]]=R),readonly:n.headers[0].dis},null,8,["label","modelValue","readonly"])):b("",!0)])):b("",!0),(u(!0),C(N,null,E(n.headers.slice(1,n.headers.length-1),(R,M)=>(u(),m(L,{key:M},{default:l(()=>[this.item==null?(u(),m(T,{key:0,label:R.title,density:"compact",variant:"outlined",modelValue:i.data[n.keyform[M+1]],"onUpdate:modelValue":Y=>i.data[n.keyform[M+1]]=Y,required:""},null,8,["label","modelValue","onUpdate:modelValue"])):b("",!0),this.item!=null?(u(),m(T,{key:1,label:R.title,density:"compact",variant:"outlined",modelValue:i.edit[n.keyform[M+1]],"onUpdate:modelValue":Y=>i.edit[n.keyform[M+1]]=Y,readonly:n.headers[M+1].dis},null,8,["label","modelValue","onUpdate:modelValue","readonly"])):b("",!0)]),_:2},1024))),128))]),_:1}),a(h,{"no-gutters":""},{default:l(()=>[a(d,{hidden:n.disabled},{default:l(()=>[a(c,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[4]||(e[4]=R=>i.dialog=!1)},{default:l(()=>[s(" batal ")]),_:1})]),_:1},8,["hidden"]),a(d,{hidden:n.disabled},{default:l(()=>[a(c,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0"},{default:l(()=>[s(" simpan ")]),_:1})]),_:1},8,["hidden"])]),_:1})],544)]),_:1})]),_:1},8,["modelValue","width"])}const ae=oe(Je,[["render",Ge]]),ze={components:{VDataTable:z,DialogCard:ae,LogBarang:fe},props:["loading","stokbarang","barang","groupbarang","laporanstok","disabled","keyform","headers","items","search","category","btncolor","iTitle","icon","iVariant","alpha","screen","form","noselect","ishidden"],data(){return{dialog:!1,totaldata:this.items.length,confirmdialog:[]}},methods:{dialogTable(t){return console.log(t)},edit(t){return this.$emit("edit",t)},del(t){return this.confirmdialog=!1,this.$emit("del",t)},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},slotitem(t,e){for(let n=0;n<this.barang.length;n++)if(t==this.barang[n].kode_barang){if(e=="k")return this.barang[n].kategori_barang;if(e=="nm")return this.barang[n].nama_barang;if(e=="hc")return this.barang[n].hs_code;if(e=="s")return this.barang[n].satuan}},sumStok(t){let e=[];for(let n=0;n<this.stokbarang.length;n++)this.stokbarang[n].kode_barang==t&&e.push(this.stokbarang[n].stok_akhir);return this.numb(e.reduce((n,r)=>n+r,0))}},computed:{row(){let t=[];for(let e=0;e<this.headers.length;e++){let n=this.headers[e].value;t.push(n)}return t},datadef(t){return this.$emit("def",t)}},mounted(){}},$=Object.assign(ze,{__name:"TableVue",setup(t){return(e,n)=>{const r=o("v-icon"),i=o("v-list-item"),g=o("v-list"),c=o("v-menu"),j=o("v-btn"),S=o("v-card-title"),x=o("v-col"),y=o("v-row"),_=o("v-card"),k=o("v-dialog"),f=o("v-sheet");return u(),m(f,{height:"90%"},{default:l(()=>[a(F(z),{"items-per-page":"10",headers:t.headers,items:t.items,search:t.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 h-100",height:"100%"},we({_:2},[t.laporanstok?{name:"item.kategori_barang",fn:l(({item:T})=>[s(p(e.slotitem(T.raw.kode_barang,"k")),1)]),key:"0"}:void 0,t.laporanstok?{name:"item.nama_barang",fn:l(({item:T})=>[s(p(e.slotitem(T.raw.kode_barang,"nm")),1)]),key:"1"}:void 0,t.laporanstok?{name:"item.hs_code",fn:l(({item:T})=>[s(p(e.slotitem(T.raw.kode_barang,"hc")),1)]),key:"2"}:void 0,t.laporanstok?{name:"item.satuan",fn:l(({item:T})=>[s(p(e.slotitem(T.raw.kode_barang,"s")),1)]),key:"3"}:void 0,t.laporanstok?void 0:{name:"item.actions",fn:l(({item:T,index:L})=>[a(j,{size:"small",variant:"text",color:"grey-darken-2"},{default:l(()=>[a(r,null,{default:l(()=>[s("mdi-dots-vertical")]),_:1}),a(c,{activator:"parent",transition:"slide-y-transition"},{default:l(()=>[a(g,{density:"compact",class:"px-3"},{default:l(()=>[a(i,{class:"pa-0"},{default:l(()=>[a(ae,{editbtn:"true",ishidden:t.ishidden,keyform:t.keyform,intable:!0,disabled:t.disabled,noselect:t.noselect,form:T.raw,onEdit:e.edit,onDel:e.del,item:T,screen:t.screen,headers:t.headers,items:t.items,category:t.category,btncolor:t.btncolor,icon:t.icon,iTitle:t.iTitle,iVariant:t.iVariant,alpha:t.alpha},null,8,["ishidden","keyform","disabled","noselect","form","onEdit","onDel","item","screen","headers","items","category","btncolor","icon","iTitle","iVariant","alpha"])]),_:2},1024),t.ishidden?b("",!0):(u(),m(i,{key:0,class:"pa-0",onClick:w=>e.confirmdialog[L]=!0},{default:l(()=>[a(ae,{hapus:"true",ishidden:t.ishidden,keyform:t.keyform,intable:!0,disabled:t.disabled,noselect:t.noselect,form:T.raw,onEdit:e.edit,onDel:e.del,item:T,screen:t.screen,headers:t.headers,items:t.items,category:t.category,btncolor:t.btncolor,icon:t.icon,iTitle:t.iTitle,iVariant:t.iVariant,alpha:t.alpha},null,8,["ishidden","keyform","disabled","noselect","form","onEdit","onDel","item","screen","headers","items","category","btncolor","icon","iTitle","iVariant","alpha"])]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024)]),_:2},1024),a(k,{modelValue:e.confirmdialog[L],"onUpdate:modelValue":w=>e.confirmdialog[L]=w,transition:"dialog-bottom-transition",width:"350"},{default:l(()=>[a(_,{class:"rounded-xl"},{default:l(()=>[a(S,{class:"text-center my-7"},{default:l(()=>[s("Apakah Anda Yakin ?")]),_:1}),a(y,{"no-gutters":""},{default:l(()=>[a(x,null,{default:l(()=>[a(j,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:w=>e.confirmdialog[L]=!1},{default:l(()=>[s(" Tidak ")]),_:2},1032,["onClick"])]),_:2},1024),a(x,null,{default:l(()=>[a(j,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:w=>e.del(T.raw)},{default:l(()=>[s(" Ya ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),key:"4"},t.laporanstok?{name:"item.stok_akhir",fn:l(({item:T})=>[s(p(e.sumStok(T.raw.kode_barang)),1)]),key:"5"}:void 0,t.laporanstok?{name:"item.actions",fn:l(({item:T})=>[a(fe,{headers:t.headers,barang:t.barang,groupbarang:t.groupbarang,stokbarang:t.stokbarang,item:T.raw,kode_group:T.raw.kode_group,kode_barang:T.raw.kode_barang},null,8,["headers","barang","groupbarang","stokbarang","item","kode_group","kode_barang"])]),key:"6"}:void 0]),1032,["headers","items","search"])]),_:1})}}});const Xe={id:"account"},Me=V("span",{class:"text-caption"},"Admin",-1),He={class:"d-flex flex-column align-center bg-white rounded-xl"},qe={props:["pageTitle"],data(){return{menu:[{title:"Ubah Password",value:"changepass"},{title:"Logout",value:"logout"}],title:this.pageTitle}},methods:{logout(){P.logout()}}},K=Object.assign(qe,{__name:"AppBar",setup(t){return(e,n)=>{const r=o("v-title"),i=o("v-spacer"),g=o("v-icon"),c=o("v-avatar"),j=o("v-span"),S=o("v-btn"),x=o("v-divider"),y=o("v-card"),_=o("v-menu"),k=o("v-container"),f=o("v-app-bar");return u(),m(f,{class:"elevation-0 border-bottom bg-grey-lighten-5 py-1"},{default:l(()=>[a(k,{class:"d-flex align-center"},{default:l(()=>[a(r,{class:"text-button"},{default:l(()=>[s(p(t.pageTitle),1)]),_:1}),a(i),V("div",Xe,[a(c,null,{default:l(()=>[a(g,{color:"grey-darken-1",size:"large"},{default:l(()=>[s("mdi-account-circle")]),_:1})]),_:1}),Me,a(g,{size:"20"},{default:l(()=>[s("mdi-chevron-down")]),_:1})]),a(_,{activator:"#account"},{default:l(()=>[a(y,{width:"300",class:"rounded-xl pa-2 bg-grey-lighten-3 border"},{default:l(()=>[V("div",He,[a(c,{size:"100"},{default:l(()=>[a(g,{size:"80"},{default:l(()=>[s("mdi-account-circle")]),_:1})]),_:1}),a(j,null,{default:l(()=>[s("Admin")]),_:1}),a(S,{class:"d-flex justify-start align-left rounded-b-xl elevation-0 mt-5",block:"",size:"60"},{default:l(()=>[a(g,{color:"grey-darken-3 me-2 mt-n1 ms-6",size:"19"},{default:l(()=>[s("mdi-key")]),_:1}),a(j,{class:"text-body-2"},{default:l(()=>[s("Ganti Password")]),_:1})]),_:1})]),a(S,{onClick:n[0]||(n[0]=T=>e.logout()),variant:"text",class:"d-flex justify-start align-left rounded-xl elevation-0 text-body-2",block:"",size:"60"},{default:l(()=>[a(g,{size:"20",class:"me-2 ms-6"},{default:l(()=>[s("mdi-logout")]),_:1}),a(j,null,{default:l(()=>[s("Log out")]),_:1})]),_:1}),a(x)]),_:1})]),_:1})]),_:1})]),_:1})}}}),We={class:"d-flex align-center"},Ye={class:"d-flex align-center w-100"},Ze={class:"d-flex align-center justify-sm-end justify-start"},Qe=he({components:{AppBar:K,TableVue:$,DialogCard:ae},name:"itemsView",props:["actIcon","cetak"],data(){return{search:"",filter:!1,pageTitle:"DATA BARANG",selectCategory:[],btnTitle:"Tambah Data",alpha:1,pilihcetak:"",statusselect:!1,show:!1,category:["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{key:"actions",align:"center",sortable:!1}],items:"",keyform:["kategori_barang","kode_barang","nama_barang","hs_code","satuan","status"],tambah:{kategori_barang:"",kode_barang:"",nama_barang:"",hs_code:"",satuan:"",status:!0},filtered:{kategori_barang:[]}}},created(){this.windowWidth},methods:{getData(){P.getData("/barang?status=true").then(t=>{this.items=t.data}).catch(()=>this.$router.push("login"))},selected(){return this.selectCategory.length===0?this.items:this.items.filter(t=>this.selectCategory.includes(t.kategori_barang))},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});let e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+t)},successAlert(t){this.$swal.fire("Berhasil !",t,"success")},failedAlert(t){this.$swal.fire("Gagal !",t,"error")},submitForm(t){P.postData("/barang",{barang:t}).then(e=>{this.successAlert(e.data),window.location.href="/"}).catch(e=>{this.failedAlert(e.response.data)})},editForm(t){const e=JSON.stringify(t);P.putData("/barang",{barang:e}).then(n=>{this.successAlert(n.data)}).catch(n=>{this.failedAlert(n.response.data)})},del(t){this.barang={kategori_barang:t.kategori_barang,kode_barang:t.kode_barang,nama_barang:t.nama_barang,hs_code:t.hs_code,satuan:t.satuan,status:!1};const e=JSON.stringify(this.barang);P.deleteData("/barang",{barang:e}),this.$swal.fire({title:"Apakah anda yakin?",text:"",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya"}).then(n=>{n.isConfirmed&&this.$swal.fire("Berhasil !","Data Berhasil Dihapus!","success")}).catch(function(n){console.log(n)})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[]},reset(){this.filtered.kategori_barang=[],this.selectCategory=[]}},mounted(){this.getData(),this.page(),this.cetak}}),$e=Object.assign(Qe,{setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-checkbox"),j=o("v-div"),S=o("v-container"),x=o("v-sheet"),y=o("v-navigation-drawer"),_=o("v-responsive"),k=o("v-text-field"),f=o("v-list-item"),T=o("v-list"),L=o("v-menu"),w=o("v-row");return u(),C(N,null,[a(y,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[4]||(n[4]=d=>e.filter=d),permanent:"",location:"left",width:"320"},{default:l(()=>[a(x,{class:"py-5 bg-transparent"},{default:l(()=>[V("div",We,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=d=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(S,{class:"py-3 px-4"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Kategori Barang")]),_:1}),a(g),(u(!0),C(N,null,E(e.category,(d,h)=>(u(),m(c,{key:h,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":n[1]||(n[1]=D=>e.filtered.kategori_barang=D),label:d,value:d,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),a(j,{class:"d-flex justify-end mt-12"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:n[2]||(n[2]=d=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:n[3]||(n[3]=d=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(S,{class:"pt-9 h-100"},{default:l(()=>[a(w,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[a(_,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[V("div",Ye,[a(i,{onClick:n[5]||(n[5]=d=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),a(ae,{keyform:e.keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,screen:400,iTitle:e.actIcon[0].text,btncolor:e.actIcon[0].color,icon:e.actIcon[0].icon,iVariant:e.actIcon[0].variant,headers:e.headers,items:e.items,category:e.category,alpha:e.alpha,submitForm:e.submitForm},null,8,["keyform","tambah","noselect","onForm","iTitle","btncolor","icon","iVariant","headers","items","category","alpha","submitForm"])])]),_:1}),a(_,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[V("div",Ze,[a(k,{modelValue:e.search,"onUpdate:modelValue":n[6]||(n[6]=d=>e.search=d),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(L,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(T,null,{default:l(()=>[(u(!0),C(N,null,E(e.cetak,(d,h)=>(u(),m(f,{key:h,value:h,onClick:D=>e.print(h),density:"compact",class:"text-caption","prepend-icon":d.icon},{default:l(()=>[s(p(d.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a($,{windowWidth:e.windowWidth,keyform:e.keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",screen:400,headers:e.headers,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:e.actIcon[1].text,btncolor:e.actIcon[1].color,icon:e.actIcon[1].icon,iVariant:e.actIcon[1].variant,alpha:e.alpha,form:e.form},null,8,["windowWidth","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","form"])]),_:1})],64)}}}),et="/assets/just_logo-b2ce2bdc.png",tt="/assets/USER1-9b9d0393.png",at="/assets/USER-778b9647.png",nt="/assets/PASS1-56cf358c.png",lt="/assets/PASS-bdd62e1b.png";const it=V("img",{src:et,class:"bg-img"},null,-1),ot=V("h4",{class:"text-center text-h4 font-weight-bold mb-7"},"USER LOGIN",-1),st={key:0,src:tt,class:"ms-3 mb-2 me-5",style:{width:"20px",height:"25px"}},rt={key:1,src:at,class:"ms-3 mb-2 me-5",style:{width:"20px",height:"25px"}},dt={key:0,src:nt,class:"ms-3 mb-2 me-5",style:{width:"20px",height:"25px"}},ut={key:1,src:lt,class:"ms-3 mb-2 me-5",style:{width:"20px",height:"25px"}},mt={key:0,class:"error-message text-body-2 text-red pt-3"},gt={components:{},data(){return{pageTitle:null,message:"",username:"",password:"",user:!1,pass:!1}},methods:{page(){return this.$emit("page",this.pageTitle)},handleLogin(){P.postLogin({username:this.username,password:this.password}).then(t=>{localStorage.setItem("token",t.data),window.location.href="/"}).catch(t=>{this.message=t.response.data})}},mounted(){this.page()}},pt=Object.assign(gt,{__name:"LoginView",setup(t){return(e,n)=>{const r=o("v-div"),i=o("v-row"),g=o("v-span"),c=o("v-text-field"),j=o("v-btn"),S=o("v-form"),x=o("v-card"),y=o("v-container");return u(),m(y,{fluid:"",class:"d-flex justify-space-between h-100 w-100 overflow-hidden"},{default:l(()=>[a(i,{position:"absolute",class:"ms-n15p"},{default:l(()=>[a(r,{class:"circle-1"})]),_:1}),a(r,{class:"d-flex flex-column justify-space-between align-end"},{default:l(()=>[a(r,{class:"d-flex flex-column justify-space-between"},{default:l(()=>[a(r,{class:"circle-3"}),a(r,{class:"circle-4"})]),_:1}),a(r,{class:"circle-2"})]),_:1}),a(r,{class:"d-flex justify-end align-center absolute m-center"},{default:l(()=>[it,a(x,{class:"rounded-xlarger pa-11 card-login elevation-5 d-flex flex-column justify-space-between"},{default:l(()=>[ot,a(S,{onSubmit:ne(e.handleLogin,["prevent"]),"validation-schema":e.schema},{default:l(()=>[a(g,{class:"text-h6 font-weight-medium text-blue-custom"},{default:l(()=>[s("Username")]),_:1}),a(r,null,{default:l(()=>[a(c,{modelValue:e.username,"onUpdate:modelValue":n[0]||(n[0]=_=>e.username=_),onClick:n[1]||(n[1]=_=>(e.user=!e.user,e.pass=!1)),class:be(["rounded-lg text-body-2 mb-2",e.user?"bg-blue-lighten-3":""]),variant:e.user?"plain":"underlined",density:"compact","hide-details":""},{default:l(()=>[e.user?(u(),C("img",st)):b("",!0),e.user?b("",!0):(u(),C("img",rt))]),_:1},8,["modelValue","variant","class"])]),_:1}),a(g,{class:"text-h6 font-weight-medium text-blue-custom mt-7"},{default:l(()=>[s("Password")]),_:1}),a(r,null,{default:l(()=>[a(c,{modelValue:e.password,"onUpdate:modelValue":n[2]||(n[2]=_=>e.password=_),class:be(["rounded-lg text-body-2 mb-2",e.pass?"bg-blue-lighten-3":""]),onClick:n[3]||(n[3]=_=>(e.pass=!e.pass,e.user=!1)),variant:e.pass?"plain":"underlined",density:"compact","hide-details":""},{default:l(()=>[e.pass?(u(),C("img",dt)):b("",!0),e.pass?b("",!0):(u(),C("img",ut))]),_:1},8,["modelValue","variant","class"])]),_:1}),a(j,{class:"d-block w-50 mx-auto mt-5",color:"grey","hide-details":"",type:"submit"},{default:l(()=>[s(" login ")]),_:1}),e.message?(u(),C("div",mt,p(e.message),1)):b("",!0)]),_:1},8,["onSubmit","validation-schema"])]),_:1})]),_:1})]),_:1})}}});const ct={class:"d-flex align-center w-100"},ht={class:"d-flex align-center justify-sm-end justify-start"},_t=he({name:"CustomerView",props:["actIcon","cetak"],components:{TableVue:$,DialogCard:ae,AppBar:K},data(){return{drawer:null,pageTitle:"DATA PELANGGAN",statusselect:!0,confirmdialog:!1,search:"",alpha:1,pilihcetak:"",category:["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"Kode Pelanggan",key:"kode_pelanggan",dis:!0},{title:"Nama",key:"nama"},{title:"Alamat",key:"alamat"},{title:"NPWP",key:"npwp"},{title:"",key:"actions",sortable:!1}],items:"",keyform:["kode_pelanggan","nama","alamat","npwp","status"],tambah:{kode_pelanggan:"",nama:"",alamat:"",npwp:"",status:!0}}},created(){P.getData("/pelanggan?status=true").then(t=>{this.items=t.data}).catch(()=>this.$router.push("login"))},methods:{page(){return this.$emit("page",this.pageTitle)},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+t)},successAlert(t){this.$swal.fire("Berhasil !",t,"success")},failedAlert(t){this.$swal.fire("Gagal !",t,"error")},submitForm(t){const e=JSON.stringify(t);P.postData("/pelanggan",{pelanggan:e}).then(n=>{this.successAlert(n.data),window.location.href="/pelanggan"}).catch(n=>{this.failedAlert(n.response.data)})},editForm(t){console.log(t);const e=JSON.stringify(t);P.putData("/pelanggan",{pelanggan:e}).then(function(n){this.successAlert(n.data)}).catch(function(n){this.failedAlert(n.response.data)})},del(t){console.log(t),this.pelanggan={kode_pelanggan:t.kode_pelanggan,nama:t.kode_pelanggan,alamat:t.alamat,npwp:t.npwp,status:!1};const e=JSON.stringify(this.pelanggan);console.log(e)}},mounted(){this.page()}}),bt=Object.assign(_t,{setup(t){return(e,n)=>{const r=o("v-responsive"),i=o("v-text-field"),g=o("v-btn"),c=o("v-list-item"),j=o("v-list"),S=o("v-menu"),x=o("v-row"),y=o("v-container");return u(),C(N,null,[e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(y,{class:"pt-9 h-100"},{default:l(()=>[a(x,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[a(r,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[V("div",ct,[a(ae,{keyform:e.keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,screen:400,iTitle:e.actIcon[0].text,btncolor:e.actIcon[0].color,icon:e.actIcon[0].icon,iVariant:e.actIcon[0].variant,headers:e.headers,items:e.items,category:e.category,alpha:e.alpha},null,8,["keyform","tambah","noselect","onForm","iTitle","btncolor","icon","iVariant","headers","items","category","alpha"])])]),_:1}),a(r,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[V("div",ht,[a(i,{modelValue:e.search,"onUpdate:modelValue":n[0]||(n[0]=_=>e.search=_),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl ms-2 border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(g,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(S,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(j,null,{default:l(()=>[(u(!0),C(N,null,E(e.cetak,(_,k)=>(u(),m(c,{key:k,value:k,onClick:f=>e.print(k),density:"compact",class:"text-caption","prepend-icon":_.icon},{default:l(()=>[s(p(_.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a($,{keyform:e.keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",screen:400,headers:e.headers,items:e.items,search:e.search,category:e.category,iTitle:e.actIcon[1].text,btncolor:e.actIcon[1].color,icon:e.actIcon[1].icon,iVariant:e.actIcon[1].variant,alpha:e.alpha,form:e.form},null,8,["keyform","noselect","onEdit","onDel","headers","items","search","category","iTitle","btncolor","icon","iVariant","alpha","form"])]),_:1})],64)}}});const ft={class:"d-flex"},kt={props:["actIcon","cetak"],components:{TableVue:$,AppBar:K},data(){return{drawer:!1,pageTitle:"DATA SUPPLIER",search:"",alpha:0,headers:[{title:"Kode Supplier",align:"start",key:"kode_supplier",dis:!0},{title:"Nama",align:"start",key:"nama",dis:!0},{title:"Alamat",align:"start",key:"alamat",dis:!0},{title:"Kota",align:"start",key:"kota",dis:!0},{title:"Negara",align:"start",key:"negara",dis:!0},{title:"",align:"start",key:"actions",sortable:!1}],items:[],keyform:["kode_supplier","nama","alamat","kota","negara","status"],tambah:{kode_supplier:"",nama:"",alamat:"",kota:"",negara:"",status:!0}}},created(){P.getData("/supplier?status=true").then(t=>{this.items=t.data}).catch(()=>this.$router.push("login"))},methods:{page(){return this.$emit("page",this.pageTitle)},suppCode(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].suppCode);return t},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+t)}},successAlert(t){this.$swal.fire("Berhasil !",t,"success")},failedAlert(t){this.$swal.fire("Gagal !",t,"error")},mounted(){this.page()}},vt=Object.assign(kt,{__name:"SupplierView",setup(t){return(e,n)=>{const r=o("v-text-field"),i=o("v-btn"),g=o("v-list-item"),c=o("v-list"),j=o("v-menu"),S=o("v-responsive"),x=o("v-row"),y=o("v-container");return u(),C(N,null,[e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(y,{class:"h-100 pt-9"},{default:l(()=>[a(x,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[a(S,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[V("div",ft,[a(r,{modelValue:e.search,"onUpdate:modelValue":n[0]||(n[0]=_=>e.search=_),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(j,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(c,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(_,k)=>(u(),m(g,{key:k,value:k,onClick:f=>e.print(k),density:"compact",class:"text-caption","prepend-icon":_.icon},{default:l(()=>[s(p(_.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a($,{keyform:e.keyform,ishidden:!0,disabled:!0,noselect:!0,id:"tbl_exporttable_to_xls",screen:400,headers:e.headers,items:e.items,search:e.search,category:e.suppCode(),iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha},null,8,["keyform","headers","items","search","category","iTitle","btncolor","icon","iVariant","alpha"])]),_:1})],64)}}});const yt=V("p",{class:"h5 text-center text-blue-darken-4 mb-5"},"DETAILS USER",-1),wt=V("p",{class:"w-100 bg-blue-custom pa-1 text-center text-button text-white"},"JENIS OTORITAS",-1),jt=he({props:["actIcon","cetak"],name:"UserView",components:{AppBar:K},data(){return{drawer:!1,pageTitle:"DATA USER",tab:null,username:"",password:"",otority:"",dialogotoritas:[],userselect:"admin",open:["barang","Laporan"],scrollInvoked:0,items:"",jns_otoritas:["Data Barang","Data Pelanggan","Data Supplier","Data User","Pembelian","Produksi","Penjualan","Pengiriman","Laporan"],user_otoritas:"",headers:[{title:"Username",key:"username"}],j_otoritas:[{title:"Data Barang",value:["Tambah Barang","Ubah Barang","Hapus Barang"]},{title:"Pelanggan",value:["Tambah Pelanggan Baru","Ubah Pelanggan","Hapus Pelanggan"]},{title:"Supplier",value:[]},{title:"User",value:[]},{title:"Pembelian",value:[]},{title:"Produksi",value:[]},{title:"Penjualan",value:[]},{title:"Pengiriman",value:[]},{title:"Laporan",value:["Laporan Stok Barang","Laporan Pemasukan","Laporan Produksi","Laporan Pengeluaran","Laporan Pengiriman","Laporan Log User"]}]}},created(){},computed:{},methods:{getUser(){P.getData("/user?status=true").then(t=>{this.items=t.data}).catch(()=>this.$router.push("login"))},getOtoritas(){const t="/user_otoritas?",e={username:this.userselect};P.getData(t,{params:e}).then(n=>{this.user_otoritas=n.data}).catch(()=>this.$router.push("login"))},page(){return this.$emit("page",this.pageTitle)},dataUser(t,e){this.username=t,this.password=e},onScroll(){this.scrollInvoked++},otoritas(){return{"Data Barang":[{jenisotoritas:this.user_otoritas[4].jenis_otoritas,status:this.user_otoritas[4].status},{jenisotoritas:this.user_otoritas[21].jenis_otoritas,status:this.user_otoritas[21].status},{jenisotoritas:this.user_otoritas[27].jenis_otoritas,status:this.user_otoritas[27].status},{jenisotoritas:this.user_otoritas[8].jenis_otoritas,status:this.user_otoritas[8].status}],"Data Pelanggan":[{jenisotoritas:this.user_otoritas[5].jenis_otoritas,status:this.user_otoritas[5].status},{jenisotoritas:this.user_otoritas[22].jenis_otoritas,status:this.user_otoritas[22].status},{jenisotoritas:this.user_otoritas[28].jenis_otoritas,status:this.user_otoritas[28].status},{jenisotoritas:this.user_otoritas[9].jenis_otoritas,status:this.user_otoritas[9].status}],"Data Supplier":[{jenisotoritas:this.user_otoritas[6].jenis_otoritas,status:this.user_otoritas[6].status}],"Data User":[{jenisotoritas:this.user_otoritas[7].jenis_otoritas,status:this.user_otoritas[7].status}],Pembelian:[{jenisotoritas:this.user_otoritas[17].jenis_otoritas,status:this.user_otoritas[17].status},{jenisotoritas:this.user_otoritas[23].jenis_otoritas,status:this.user_otoritas[23].status},{jenisotoritas:this.user_otoritas[0].jenis_otoritas,status:this.user_otoritas[0].status}],Produksi:[{jenisotoritas:this.user_otoritas[20].jenis_otoritas,status:this.user_otoritas[20].status},{jenisotoritas:this.user_otoritas[26].jenis_otoritas,status:this.user_otoritas[26].status},{jenisotoritas:this.user_otoritas[3].jenis_otoritas,status:this.user_otoritas[3].status}],Penjualan:[{jenisotoritas:this.user_otoritas[19].jenis_otoritas,status:this.user_otoritas[19].status},{jenisotoritas:this.user_otoritas[25].jenis_otoritas,status:this.user_otoritas[25].status},{jenisotoritas:this.user_otoritas[2].jenis_otoritas,status:this.user_otoritas[2].status}],Pengiriman:[{jenisotoritas:this.user_otoritas[18].jenis_otoritas,status:this.user_otoritas[18].status},{jenisotoritas:this.user_otoritas[24].jenis_otoritas,status:this.user_otoritas[24].status},{jenisotoritas:this.user_otoritas[1].jenis_otoritas,status:this.user_otoritas[1].status}],Laporan:[{jenisotoritas:this.user_otoritas[10].jenis_otoritas,status:this.user_otoritas[10].status},{jenisotoritas:this.user_otoritas[16].jenis_otoritas,status:this.user_otoritas[16].status},{jenisotoritas:this.user_otoritas[12].jenis_otoritas,status:this.user_otoritas[12].status},{jenisotoritas:this.user_otoritas[15].jenis_otoritas,status:this.user_otoritas[15].status},{jenisotoritas:this.user_otoritas[14].jenis_otoritas,status:this.user_otoritas[14].status},{jenisotoritas:this.user_otoritas[13].jenis_otoritas,status:this.user_otoritas[13].status},{jenisotoritas:this.user_otoritas[11].jenis_otoritas,status:this.user_otoritas[11].status}]}},userotoritas(t,e){for(let n=0;n<this.user_otoritas.length;n++)for(let r=0;r<this.j_otoritas.length;r++)for(let i=0;i<this.jns_otoritas.length;i++)if(t==this.user_otoritas[n].username&&e==this.jns_otoritas[i]&&this.j_otoritas[r].title==e)return this.j_otoritas[r].value},updt(){this.getOtoritas(),this.getUser()}},mounted(){this.page(),this.getOtoritas(),this.getUser()}}),Tt=Object.assign(jt,{setup(t){return(e,n)=>{const r=o("v-btn"),i=o("v-list-item"),g=o("v-divider"),c=o("v-list"),j=o("v-card"),S=o("v-col"),x=o("v-text-field"),y=o("v-checkbox"),_=o("v-span"),k=o("v-dialog"),f=o("v-row"),T=o("v-container"),L=Te("scroll");return u(),m(T,null,{default:l(()=>[e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(f,{class:"d-flex w-100"},{default:l(()=>[a(S,null,{default:l(()=>[a(j,{class:"elevation-0 pa-3 vh-75 rounded-lg bg-transparent","min-width":"250"},{default:l(()=>[a(r,{class:"rounded-xl bg-blue-custom text-white elevation-0 text-caption",height:"42",width:"150"},{default:l(()=>[s("Tambah Baru")]),_:1}),a(c,{class:"bg-transparent"},{default:l(()=>[a(i,{class:"text-caption font-weight-bold"},{default:l(()=>[s(" KODE USER ")]),_:1}),a(g),(u(!0),C(N,null,E(e.items,(w,d)=>(u(),m(i,{key:d,class:"text-caption",density:"compact",onClick:h=>e.userselect=w.username},{default:l(()=>[s(p(w.username),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),a(S,{cols:"4"},{default:l(()=>[a(j,{class:"elevation-0 pt-5 h-100 rounded-lg bg-grey-lighten-4","min-width":"320","max-width":"300"},{default:l(()=>[yt,a(x,{label:"Username",modelValue:e.userselect,"onUpdate:modelValue":n[0]||(n[0]=w=>e.userselect=w),density:"compact",variant:"outlined",class:"w-75 mx-auto",readonly:""},null,8,["modelValue"]),a(x,{label:"Password",modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=w=>e.password=w),type:"password",density:"compact",variant:"outlined",class:"w-75 mx-auto",readonly:""},null,8,["modelValue"]),wt,je((u(),m(c,{class:"overflow-y-auto bg-transparent","max-height":"300"},{default:l(()=>[(u(!0),C(N,null,E(e.jns_otoritas,(w,d)=>(u(),m(i,{key:d,class:"text-caption",density:"compact",onClick:h=>e.dialogotoritas[d]=!0},{default:l(()=>[a(y,{density:"compact",class:"mb-n7",label:w,"model-value":!0,readonly:""},null,8,["label"]),a(k,{modelValue:e.dialogotoritas[d],"onUpdate:modelValue":h=>e.dialogotoritas[d]=h,onUpdate:e.dialogotoritas,"max-width":"400"},{default:l(()=>[a(j,{class:"pa-5"},{default:l(()=>[a(_,{class:"text-caption font-weight-bold"},{default:l(()=>[s("Otoritas")]),_:1}),a(g),(u(!0),C(N,null,E(e.userotoritas("admin",w),(h,D)=>(u(),m(y,{class:"text-caption mb-n7",density:"compact",key:D,label:h,"model-value":!0,readonly:""},null,8,["label"]))),128))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","onUpdate"])]),_:2},1032,["onClick"]))),128))]),_:1})),[[L,e.onScroll,void 0,{self:!0}]])]),_:1})]),_:1})]),_:1})]),_:1})}}}),xt={name:"DialogCard2",props:["hiddenbtn","btn","itemDetail","pemasukan","nokirim","belumkirim","kodegroup","kodebarang","belumkirim_detail","blmkirim","penjualan","pengeluaran","pengiriman","produksi","barang","tambah","inputbahan","pembeliandetl","getbarang"],data(){return{search:"",dialog:!1,dialogchild:[],newbarang:this.barang,newproduksi:this.getbarang,groupbarang:"",bahan:this.inputbahan,dialItem:"",pjl:"",pemasukan_item:[],penjualan_detail:{jumlah:"",nilai:"",harga_jual:""}}},setup(){const t={kode_barang:"",nama_barang:"",hs_code:"",jumlah:"",jumlah_diterima:"",satuan:"",nilai:"",no_urut:"",status:"",harga_jual:""},e=xe({...t}),r=Ve({kode_barang:{required:Q},nama_barang:{required:Q},hs_code:{required:Q},jumlah:{required:Q},jumlah_diterima:{required:Q},satuan:{required:Q},nilai:{required:Q},no_urut:{required:Q},harga_jual:{required:Q}},e);function i(){r.value.$reset();for(const[g,c]of Object.entries(t))e[g]=c}return{state:e,clear:i,v$:r}},computed:{terjual(){return this.numb(this.penjualan_detail.jumlah*this.penjualan_detail.harga_jual)},filteredItems(){return!this.tambah&&!this.blmkirim?this.barang.filter(t=>t.nama_barang.toLowerCase().includes(this.search.toLowerCase())):this.blmkirim&&!this.tambah?this.belumkirim_detail.filter(t=>t.no_penjualan.toLowerCase().includes(this.search.toLowerCase())):this.getbarang.filter(t=>t.nama_barang.toLowerCase().includes(this.search.toLowerCase()))},masuk(){return{}}},methods:{numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getgroupbarang(){P.getData("/group_Barang").then(t=>{this.groupbarang=t.data}).catch(()=>{window.location.href="/login"})},pjl_detail(t,e){for(let n=0;n<this.belumkirim.length;n++)if(this.belumkirim[n].no_penjualan==t){if(e=="tipe")return this.belumkirim[n].tipe_dokumen;if(e=="no")return this.belumkirim[n].no_dokumen;if(e=="kode")return this.belumkirim[n].kode_group}},stok(t,e){for(let n=0;n<this.groupbarang.length;n++)if(this.groupbarang[n].kode_group==t&&this.groupbarang[n].kode_barang==e)return this.numb(this.groupbarang[n].stok_akhir)},async api(){return new Promise(t=>{setTimeout(()=>{t(Array.from({length:10},(e,n)=>n+this.filteredItems.value.at(-1)+1))},1e3)})},async load({done:t}){const e=await this.api();this.filteredItems.push(...e),t("ok")},pemasukanItem(t,e){this.state.no_urut=1,this.state.hs_code=t.hs_code,this.state.satuan=t.satuan;let n="";if(this.pengiriman){for(let r=0;r<this.groupbarang.length;r++)if(this.groupbarang[r].kode_group==this.pjl_detail(t.no_penjualan,"kode"))for(let i=0;i<this.belumkirim_detail.length;i++)this.groupbarang[r].kode_barang==this.belumkirim_detail[i].kode_barang&&(n=this.groupbarang[r].nilai_akhir/this.groupbarang[r].stok_akhir)}if(this.pemasukan)this.pemasukan_item.push({no_pembelian:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.state.jumlah,jumlah_diterima:this.state.jumlah_diterima,satuan:this.state.satuan,nilai:this.state.nilai,no_urut:this.state.no_urut});else if(this.produksi){for(let r=0;r<this.groupbarang.length;r++)this.groupbarang[r].kode_group==this.kodegroup&&this.groupbarang[r].kode_barang==this.kodebarang&&(n=this.groupbarang[r].nilai_akhir/this.groupbarang[r].stok_akhir);this.pemasukan_item.push({no_produksi:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,satuan:this.state.satuan,no_urut:1,nilai:n})}else this.pengeluaran?this.pemasukan_item.push({no_penjualan:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_terkirim:0,satuan:this.state.satuan,harga_jual:this.penjualan_detail.harga_jual,total_terjual:this.terjual,no_urut:1}):this.pengiriman&&this.pemasukan_item.push({no_penjualan:t.no_penjualan,no_pengiriman:this.nokirim,kode_barang:t.kode_barang,nama_barang:t.nama_barang,kode_group:this.pjl_detail(t.no_penjualan,"kode"),tipe_dokumen:this.pjl_detail(t.no_penjualan,"tipe"),no_dokumen:this.pjl_detail(t.no_penjualan,"no"),hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_terkirim:this.penjualan_detail.jumlah_terkirim,satuan:this.state.satuan,no_urut:1,nilai:n});this.$emit("pemasukanitem",this.pemasukan_item),this.clear(),this.penjualan_detail={jumlah:"",nilai:"",harga_jual:""},this.dialogchild[e]=!1,this.dialog=!1}},mounted(){this.getgroupbarang(),this.bahan}},Vt=V("br",null,null,-1),Dt=V("br",null,null,-1),At=V("br",null,null,-1);function St(t,e,n,r,i,g){const c=o("v-btn"),j=o("v-card-title"),S=o("v-text-field"),x=o("v-list-item"),y=o("v-span"),_=o("v-div"),k=o("v-spacer"),f=o("v-divider"),T=o("v-card"),L=o("v-dialog"),w=o("v-infinite-scroll"),d=o("v-list");return u(),m(L,{modelValue:i.dialog,"onUpdate:modelValue":e[7]||(e[7]=h=>i.dialog=h)},{activator:l(({props:h})=>[a(c,O(h,{onUpdate:i.dialog,variant:"tonal",class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"40",disabled:n.getbarang==""||n.inputbahan==""}),{default:l(()=>[s(" Tambah Barang ")]),_:2},1040,["onUpdate","disabled"])]),default:l(()=>[a(T,{class:"py-5 px-2 rounded-xl"},{default:l(()=>[s(p(t.pembelian_input)+" ",1),n.blmkirim?(u(),m(j,{key:0,class:"text-center text-button font-weight-bold mb-3"},{default:l(()=>[s("PENGELUARAN BELUM TERKIRIM")]),_:1})):b("",!0),n.blmkirim?b("",!0):(u(),m(j,{key:1,class:"text-center text-button font-weight-bold mb-3"},{default:l(()=>[s("STOK BARANG")]),_:1})),a(S,{id:"input",modelValue:i.search,"onUpdate:modelValue":e[0]||(e[0]=h=>i.search=h),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),a(d,{class:"me-2"},{default:l(()=>[a(w,{items:g.filteredItems,onLoad:g.load},{default:l(()=>[(u(!0),C(N,null,E(g.filteredItems,(h,D)=>(u(),C(N,{key:h},[n.blmkirim?b("",!0):(u(),m(x,{key:0,class:"text-caption",density:"compact",onClick:I=>(i.dialogchild[D]=!0,r.state.nama_barang=h.nama_barang)},{default:l(()=>[s(p(h.nama_barang),1)]),_:2},1032,["onClick"])),n.blmkirim?(u(),m(x,{key:1,onClick:I=>i.dialogchild[D]=!0,class:"text-caption",density:"compact"},{default:l(()=>[a(_,{class:"d-flex"},{default:l(()=>[a(_,null,{default:l(()=>[a(y,{class:"font-weight-medium"},{default:l(()=>[s(p(g.pjl_detail(h.no_penjualan,"tipe"))+"-"+p(g.pjl_detail(h.no_penjualan,"no")),1)]),_:2},1024),s(),Vt,a(y,{class:"text-small"},{default:l(()=>[s(p(h.nama_barang)+" ("+p(g.pjl_detail(h.no_penjualan,"kode"))+") ",1),Dt,s(" Jumlah belum terkirim: "+p(g.numb(h.jumlah-h.jumlah_terkirim))+" ",1),At,s(" Stok barang: "+p(g.stok(g.pjl_detail(h.no_penjualan,"kode"),h.kode_barang)),1)]),_:2},1024)]),_:2},1024),a(k),a(y,{class:"font-weight-medium"},{default:l(()=>[s(p(h.no_penjualan),1)]),_:2},1024)]),_:2},1024),a(f)]),_:2},1032,["onClick"])):b("",!0),a(L,{onUpdate:i.dialogchild,width:"400",modelValue:i.dialogchild[D],"onUpdate:modelValue":I=>i.dialogchild[D]=I},{default:l(()=>[a(T,{class:"px-7 py-5 w-100 mx-auto rounded-xl"},{default:l(()=>[a(y,{class:"text-button text-center font-weight-bold"},{default:l(()=>[s(p(h.nama_barang),1)]),_:2},1024),a(y,{class:"text-button mt-n3 mb-3 text-center"},{default:l(()=>[s(p(h.kode_barang),1)]),_:2},1024),a(y,{class:"text-caption mt-n5 mb-3 text-center"},{default:l(()=>[s(p(h.hs_code),1)]),_:2},1024),V("form",{onSubmit:e[6]||(e[6]=ne((...I)=>t.submit&&t.submit(...I),["prevent"])),ref_for:!0,ref:"form"},[n.pemasukan?b("",!0):(u(),m(S,{key:0,modelValue:i.penjualan_detail.jumlah,"onUpdate:modelValue":e[1]||(e[1]=I=>i.penjualan_detail.jumlah=I),label:"Jumlah",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:n.hiddenbtn},null,8,["modelValue","disabled"])),n.pemasukan?(u(),m(S,{key:1,modelValue:r.state.jumlah,"onUpdate:modelValue":e[2]||(e[2]=I=>r.state.jumlah=I),label:"Jumlah",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:n.hiddenbtn},null,8,["modelValue","disabled"])):b("",!0),n.pemasukan?(u(),m(S,{key:2,modelValue:r.state.jumlah_diterima,"onUpdate:modelValue":e[3]||(e[3]=I=>r.state.jumlah_diterima=I),label:"Jumlah Diterima",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:n.hiddenbtn},null,8,["modelValue","disabled"])):b("",!0),n.pemasukan?(u(),m(S,{key:3,modelValue:r.state.nilai,"onUpdate:modelValue":e[4]||(e[4]=I=>r.state.nilai=I),label:"Nilai Total",variant:"outlined",density:"compact","hide-details":"",class:"mb-3"},null,8,["modelValue"])):b("",!0),!n.tambah&&n.pengeluaran?(u(),m(S,{key:4,modelValue:i.penjualan_detail.harga_jual,"onUpdate:modelValue":e[5]||(e[5]=I=>i.penjualan_detail.harga_jual=I),label:"Harga",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",disabled:n.hiddenbtn},null,8,["modelValue","disabled"])):b("",!0),!n.tambah&&n.pengeluaran?(u(),m(S,{key:5,"model-value":g.terjual,label:"Total Harga",variant:"outlined",density:"compact","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):b("",!0),a(_,{class:"d-inline w-100"},{default:l(()=>[a(c,{onClick:I=>i.dialogchild[D]=!1,variant:"tonal",class:"rounded-xl text-caption elevation-0"},{default:l(()=>[s("Batal")]),_:2},1032,["onClick"]),a(c,{type:"submit",onClick:I=>g.pemasukanItem(h,D),class:"rounded-xl text-caption elevation-0 bg-blue-darken-4 w-75 float-end"},{default:l(()=>[s("Simpan")]),_:2},1032,["onClick"])]),_:2},1024)],544)]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])],64))),128))]),_:1},8,["items","onLoad"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const se=oe(xt,[["render",St]]);const Pt={components:{DialogCard2:se,VDataTable:z},props:["pembelianbaru","namaPelanggan","groupbarang","batalbtn","penjualan","pemasukan","alamatBongkar","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,confirmdialog:!1,dialogkodeg:!1,valid:!1,detaildial:[],arr:[],tipe_dokumen:["BC23","BC40"],searched:"",barang:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:"",inputdata:this.datainput,kurs:"",pemasukan_detail:"",pembelian_detail:[this.pembelian],required:[t=>t?!0:"harus diisi !"]}},created(){if(P.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>this.$router.push("login")),this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("del",this.dataitem,this.pembelian)},totalharga(t){if(this.dataitem.no_penjualan==t)return this.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},async validate(){const{valid:t}=await this.$refs.form.validate();t&&this.$emit("inputhead",this.inputdata,this.pembelian_input)}},mounted(){this.detail,this.edit,this.dataitem,this.pembelian,this.$nextTick(()=>{this.nama_supplier=this.namaSupplier,this.nama_pelanggan=this.namaPelanggan,this.tujuan_bongkar=this.namaTujuan})}};function Ut(t,e,n,r,i,g){const c=o("v-btn"),j=o("v-icon"),S=o("v-toolbar-title"),x=o("v-spacer"),y=o("v-toolbar"),_=o("v-text-field"),k=o("v-col"),f=o("v-row"),T=o("v-card-title"),L=o("v-list-item"),w=o("v-for"),d=o("v-list"),h=o("v-card"),D=o("v-dialog"),I=o("v-select"),R=o("DialogCard2"),M=o("v-div"),Y=o("v-card-subtitle"),B=o("v-label"),X=o("v-responsive"),J=o("v-data-table"),ee=o("v-form"),re=o("v-container");return u(),m(D,{modelValue:i.dialog,"onUpdate:modelValue":e[20]||(e[20]=U=>i.dialog=U),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:U})=>[n.edit?b("",!0):(u(),m(c,O({key:0},U,{class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"42"}),{default:l(()=>[s(" Tambah Baru ")]),_:2},1040)),n.edit?(u(),m(c,O({key:1},U,{size:"small",variant:"text",color:"grey-darken-2"}),{default:l(()=>[a(j,null,{default:l(()=>[s(p(n.icon),1)]),_:1})]),_:2},1040)):b("",!0)]),default:l(()=>[a(h,null,{default:l(()=>[a(y,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[a(c,{icon:"",dark:"",onClick:e[0]||(e[0]=U=>(i.pembelian_input=[],i.inputdata=[],i.dialog=!1)),size:"small"},{default:l(()=>[a(j,null,{default:l(()=>[s("mdi-close")]),_:1})]),_:1}),a(S,{class:"text-button mt-1"},{default:l(()=>[s(p("DETAIL "+n.pageTitle),1)]),_:1}),a(x)]),_:1}),a(re,{class:"mt-5"},{default:l(()=>[n.edit?(u(),m(f,{key:0},{default:l(()=>[a(k,null,{default:l(()=>[a(_,{label:"No Pemasukan","model-value":n.items.no_pembelian,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(_,{label:"Tgl Pemasukan","model-value":n.items.tgl_pembelian,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(_,{label:"Nama Supplier","model-value":n.items.kode_supplier,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])]),_:1}),a(k,null,{default:l(()=>[a(_,{label:"Tipe Dokumen","model-value":n.items.tipe_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(_,{label:"No Dokumen","model-value":n.items.no_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(_,{label:"Tgl Dokumen","model-value":n.items.tgl_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])]),_:1}),a(k,null,{default:l(()=>[a(_,{label:"No Invoice","model-value":n.items.no_invoice,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(_,{label:"No BL","model-value":n.items.no_bl,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(_,{label:"Mata Uang","model-value":n.items.mata_uang,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(_,{label:"Kurs","model-value":n.items.kurs,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])]),_:1})]),_:1})):b("",!0),a(ee,{onSubmit:e[19]||(e[19]=ne(()=>{},["prevent"])),ref:"form"},{default:l(()=>[!n.edit&&n.pemasukan?(u(),m(f,{key:0},{default:l(()=>[a(k,null,{default:l(()=>[a(_,{label:"No Pemasukan",modelValue:i.inputdata.no_pembelian,"onUpdate:modelValue":e[1]||(e[1]=U=>i.inputdata.no_pembelian=U),variant:"outlined",density:"compact",class:"bg-grey-lighten-4 mb-5 border-0",style:{"min-width":"200px","max-width":"300px"},"hide-details":"",readonly:"",disabled:""},null,8,["modelValue"]),a(_,{type:"date",variant:"outlined",density:"compact",label:"Tgl Pemasukan",modelValue:i.inputdata.tgl_pembelian,"onUpdate:modelValue":e[2]||(e[2]=U=>i.inputdata.tgl_pembelian=U),rules:i.required,"hide-details":"",style:{"min-width":"200px","max-width":"300px"},color:"grey",class:"mb-5"},null,8,["modelValue","rules"]),n.edit?b("",!0):(u(),m(D,{key:0,modelValue:i.dialog4,"onUpdate:modelValue":e[6]||(e[6]=U=>i.dialog4=U)},{activator:l(({props:U})=>[a(_,O(U,{label:"Supplier",modelValue:i.namasupplier,"onUpdate:modelValue":e[3]||(e[3]=q=>i.namasupplier=q),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-5","hide-details":"",rules:i.required}),null,16,["modelValue","rules"])]),default:l(()=>[a(h,{class:"py-5 px-5 rounded-xl mx-auto",width:"400"},{default:l(()=>[a(c,{icon:"mdi-close",variant:"plain",onClick:e[4]||(e[4]=U=>i.dialog4=!1)}),a(T,{class:"text-center text-blue-darken-4 mb-3 mt-n12 text-button font-weight-bold"},{default:l(()=>[s("SUPPLIER")]),_:1}),a(_,{modelValue:i.searched,"onUpdate:modelValue":e[5]||(e[5]=U=>i.searched=U),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),a(d,null,{default:l(()=>[(u(!0),C(N,null,E(g.filtersupplier,(U,q)=>(u(),m(w,{key:q},{default:l(()=>[a(L,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:A=>(i.inputdata.kode_supplier=U.kode_supplier,i.namasupplier=U.nama,i.dialog4=!1)},{default:l(()=>[s(p(U.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))]),_:1}),a(k,null,{default:l(()=>[a(I,{label:"Tipe Dokumen",modelValue:i.inputdata.tipe_dokumen,"onUpdate:modelValue":e[7]||(e[7]=U=>i.inputdata.tipe_dokumen=U),items:i.tipe_dokumen,rules:i.required,variant:"outlined",density:"compact",class:"mb-5","hide-details":"",style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","items","rules"]),a(_,{label:"No Dokumen",modelValue:i.inputdata.no_dokumen,"onUpdate:modelValue":e[8]||(e[8]=U=>i.inputdata.no_dokumen=U),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:i.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),a(_,{type:"date",variant:"outlined",density:"compact",label:"Tgl Dokumen",modelValue:i.inputdata.tgl_dokumen,"onUpdate:modelValue":e[9]||(e[9]=U=>i.inputdata.tgl_dokumen=U),rules:i.required,"hide-details":"",style:{"min-width":"200px","max-width":"300px"},color:"grey",class:"mb-5"},null,8,["modelValue","rules"])]),_:1}),a(k,null,{default:l(()=>[a(_,{label:"No Invoice",modelValue:i.inputdata.no_invoice,"onUpdate:modelValue":e[10]||(e[10]=U=>i.inputdata.no_invoice=U),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:i.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),a(_,{label:"No BL",modelValue:i.inputdata.no_bl,"onUpdate:modelValue":e[11]||(e[11]=U=>i.inputdata.no_bl=U),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:i.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),a(_,{label:"Mata Uang",modelValue:i.inputdata.mata_uang,"onUpdate:modelValue":e[12]||(e[12]=U=>i.inputdata.mata_uang=U),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:i.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"]),a(_,{label:"Kurs",modelValue:i.inputdata.kurs,"onUpdate:modelValue":e[13]||(e[13]=U=>i.inputdata.kurs=U),variant:"outlined",density:"compact",class:"mb-5","hide-details":"",rules:i.required,style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue","rules"])]),_:1})]),_:1})):b("",!0),n.edit?b("",!0):(u(),m(M,{key:1,pembelianbaru:n.pembelianbaru,pembeliandetl:n.pembeliandetl,class:"text-sm-left text-center"},{default:l(()=>[a(R,{onReset:t.reset,barang:i.barang,itemDetail:n.itemDetail,onPemasukanitem:g.itemmasuk,pemasukan:!0,btn:n.btn,width:"400"},null,8,["onReset","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),a(J,{headers:n.headDetails,items:n.edit?[n.pembelian]:i.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption my-7 px-5",height:"160"},{bottom:l(()=>[]),"item.jumlah":l(({item:U})=>[s(p(g.numb(U.raw.jumlah)),1)]),"item.jumlah_diterima":l(({item:U})=>[s(p(g.numb(U.raw.jumlah_diterima)),1)]),"item.nilai":l(({item:U})=>[s(p(g.numb(U.raw.nilai)),1)]),"item.tipe_dokumen":l(()=>[s(p(n.dokumenpjl.tipe_dokumen),1)]),"item.no_dokumen":l(()=>[s(p(n.dokumenpjl.no_dokumen),1)]),"item.actions":l(({item:U,index:q})=>[a(D,{modelValue:i.detaildial[q],"onUpdate:modelValue":A=>i.detaildial[q]=A},{activator:l(({props:A})=>[a(c,O(A,{size:"small",variant:"text",color:"grey-darken-2",icon:""}),{default:l(()=>[a(j,null,{default:l(()=>[s("mdi-dots-vertical")]),_:1})]),_:2},1040)]),default:l(()=>[a(X,{class:"bg-white mx-auto px-7 pb-7 pt-5 rounded-xl",width:"400"},{default:l(()=>[a(c,{onClick:A=>i.detaildial[q]=!1,icon:"mdi-close",variant:"text",size:"small"},null,8,["onClick"]),a(T,{class:"text-center text-button font-weight-bold mt-n5"},{default:l(()=>[s(p(U.raw.nama_barang),1)]),_:2},1024),a(Y,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[s(p(U.raw.hs_code),1)]),_:2},1024),a(B,null,{default:l(()=>[s("Jumlah")]),_:1}),a(_,{variant:"outlined",density:"compact",value:g.numb(U.raw.jumlah),active:"true",readonly:"","hide-details":"",class:"mb-1"},null,8,["value"]),a(B,null,{default:l(()=>[s("Jumlah diterima")]),_:1}),a(_,{value:g.numb(U.raw.jumlah),variant:"outlined",density:"compact",readonly:"","hide-details":"",class:"mb-1"},null,8,["value"]),a(B,null,{default:l(()=>[s("Total Nilai")]),_:1}),a(_,{value:g.numb(U.raw.nilai),variant:"outlined",density:"compact",readonly:"","hide-details":"",class:"mb-1"},null,8,["value"]),n.edit?b("",!0):(u(),m(M,{key:0,class:"d-flex w-100"},{default:l(()=>[a(c,{onClick:A=>(g.deleteditem(U.raw),i.detaildial[q]=!1),hidden:n.disable,variant:"tonal",class:"text-caption rounded-xl elevation-0 w-25"},{default:l(()=>[s("Hapus")]),_:2},1032,["onClick","hidden"]),a(c,{hidden:n.disable,color:"blue-darken-4",class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[s("Simpan")]),_:1},8,["hidden"])]),_:2},1024))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items"]),n.edit?b("",!0):(u(),m(c,{key:2,onClick:g.validate,hidden:n.disable,class:"float-end text-body-2 text-white elevation-0 rounded-xl",height:"42",width:"150",color:"#ff6e40"},{default:l(()=>[s("Simpan")]),_:1},8,["onClick","hidden"])),n.edit?b("",!0):(u(),m(c,{key:3,onClick:e[14]||(e[14]=U=>i.dialog=!1),class:"float-end rounded-xl text-body-2 me-2",height:"42",width:"150",variant:"outlined",color:"grey-darken-2"},{default:l(()=>[s("Batal")]),_:1})),n.edit?(u(),m(c,{key:4,onClick:e[15]||(e[15]=U=>i.confirmdialog=!0),size:"large",class:"float-end rounded-xl text-body-2 me-2",height:"42",width:"150",variant:"tonal"},{default:l(()=>[s("Batal "+p(n.batalbtn),1)]),_:1})):b("",!0),a(D,{modelValue:i.confirmdialog,"onUpdate:modelValue":e[18]||(e[18]=U=>i.confirmdialog=U),transition:"dialog-bottom-transition",width:"400"},{default:l(()=>[a(h,{class:"rounded-xl"},{default:l(()=>[a(T,{class:"text-center my-7"},{default:l(()=>[s("Apakah Anda Yakin ?")]),_:1}),a(f,{"no-gutters":""},{default:l(()=>[a(k,null,{default:l(()=>[a(c,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[16]||(e[16]=U=>i.confirmdialog=!1)},{default:l(()=>[s(" Tidak ")]),_:1})]),_:1}),a(k,null,{default:l(()=>[a(c,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[17]||(e[17]=U=>(i.inputdata=[],i.pembelian_input=[],g.confirm(),i.dialog3=!1,i.dialog=!1,i.confirmdialog=!1))},{default:l(()=>[s(" Ya ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ue=oe(Pt,[["render",Ut]]);const Ct={class:"d-flex align-center"},Bt={class:"d-flex align-center w-100"},It={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},Nt={components:{PemasukanDetail:ue,VDataTable:z,AppBar:K},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,dialog2:!1,pageTitle:"PEMASUKAN BARANG",btn:"Tambah Barang",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,pemasukan_item:"",pembelian_head:"",pdetail:"",tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pemasukan",key:"no_pembelian"},{title:"Tanggal Masuk",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Mata Uang",key:"mata_uang"},{title:"Total Nilai",key:"total_nilai"},{title:"Total Nilai(Rp)",key:"rp"},{key:"actions"}],items:"",supplier:"",pembeliandetl:"",filtered:{selectdokumen:[],periode:[]},headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions"}],details:[],datainput:{no_pembelian:"",tgl_pembelian:"",tgl_input:this.today(),kode_supplier:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",no_invoice:"",no_bl:"",mata_uang:"",kurs:"",user_input:"",user_batal:"",status:""}}},created(){this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()]},computed:{datatable(){let t=[];for(let e=0;e<this.items.length;e++)for(let n=0;n<this.supplier.length;n++)this.items[e].kode_supplier==this.supplier[n].kode_supplier&&t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,tgl_dokumen:this.formatDate(this.items[e].tgl_dokumen),kode_supplier:this.supplier[n].nama,mata_uang:this.items[e].mata_uang,total_nilai:this.numb(this.items[e].total_nilai),rp:this.numb(this.items[e].total_nilai*this.items[e].kurs),no_invoice:this.items[e].no_invoice,no_bl:this.items[e].no_bl,kurs:this.items[e].kurs,user_input:this.items[e].user_input,user_batal:this.items[e].user_batal,tgl_input:this.items[e].tgl_input,tgl_batal:this.items[e].tgl_batal,status:this.items[e].status});return t}},methods:{today(){return new Date().toJSON().slice(0,10)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"};return new Date(t).toLocaleDateString("id",e)},page(){return this.$emit("page",this.pageTitle)},getPembelian(){const t="/pembelian_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.items=n.data}).catch(n=>this.$router.push({path:"/login"}))},inputhead(t,e){const n=JSON.stringify(t),r=JSON.stringify(e);console.log({pembelian_head:n,pembelian_detail:r})},del(t,e){this.pembelian_head={no_pembelian:t.no_pembelian,tgl_pembelian:t.tgl_pembelian,kode_supplier:t.kode_supplier,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,no_invoice:t.no_invoice,no_bl:t.no_bl,mata_uang:t.mata_uang,kurs:t.kurs,user_input:"admin",user_batal:"admin",status:"false"},this.pdetail=[{no_pembelian:e.no_pembelian,kode_barang:e.kode_barang,nama_barang:e.nama_barang,hs_code:e.hs_code,jumlah:e.jumlah,jumlah_diterima:e.jumlah_diterima,satuan:e.satuan,nilai:e.nilai,no_urut:e.no_urut}];const n=JSON.stringify(this.pembelian_head),r=JSON.stringify(this.pdetail);console.log({pembelian_head:n,pembelian_detail:r})},selected(){return this.getPembelian(),this.getPembelianDetail()},pilihtipe(){return this.selectdokumen.length===0?this.datatable:this.datatable.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},getSupplier(){const t="/supplier";P.getData(t).then(e=>{this.supplier=e.data}).catch(e=>this.$router.push("login"))},getPembelianDetail(){const t="/pembelian_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>this.pembeliandetl=n.data).catch(n=>this.$router.push("login"))},pembelian(t){for(let e=0;e<this.pembeliandetl.length;e++)if(this.pembeliandetl[e].no_pembelian==t)return this.pembeliandetl[e]},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.printdata(),margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},dataTable(t,e){if(e=="nama"){for(let n=0;n<this.supplier.length;n++)if(this.supplier[n].kode_supplier==t)return this.supplier[n].nama}else if(e=="pembelian"){for(let n=0;n<this.pembeliandetl.length;n++)if(this.pembeliandetl[n].no_pembelian==t)return this.pembeliandetl[n]}else{if(e=="total")return this.numb(t);if(e=="rp"){let n=t.kurs,r=t.total_nilai;return this.numb(n*r)}}},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,kode_supplier:this.dataTable(this.items[e].kode_supplier,"nama"),kode_group:this.items[e].kode_group,kurs:this.items[e].kurs,total_nilai:this.dataTable(this.items[e].total_nilai,"total"),rp:this.dataTable(this.items[e],"rp")});return t},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},totalnilai(t){let e=t.kurs,n=t.total_nilai;return e*n},reset(){this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.filtered.selectdokumen=[],this.selectdokumen=[],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.selected(),this.page(),this.getPembelian(),this.getSupplier(),this.getPembelianDetail(),this.pembelian(),this.pembeliandetl}},Lt=le();ie(()=>{const t=new Date;Lt.value=[t,t]});const Et=Object.assign(Nt,{__name:"InItems",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-text-field"),j=o("v-container"),S=o("v-checkbox"),x=o("v-div"),y=o("v-sheet"),_=o("v-navigation-drawer"),k=o("v-responsive"),f=o("v-list-item"),T=o("v-list"),L=o("v-menu"),w=o("v-row");return u(),C(N,null,[a(_,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[6]||(n[6]=d=>e.filter=d),location:"left",width:"320"},{default:l(()=>[a(y,{class:"rounded-xl py-5"},{default:l(()=>[V("div",Ct,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=d=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(j,{class:"mb-n10"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Periode")]),_:1}),a(g),a(c,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":n[1]||(n[1]=d=>e.filtered.periode[0]=d),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(c,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":n[2]||(n[2]=d=>e.filtered.periode[1]=d),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Tipe Dokumen")]),_:1}),a(g),(u(!0),C(N,null,E(e.tipedokumen,(d,h)=>(u(),m(S,{key:h,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":n[3]||(n[3]=D=>e.filtered.selectdokumen=D),label:d,value:d,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),a(x,{class:"d-flex justify-end mt-12"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:n[4]||(n[4]=d=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:n[5]||(n[5]=d=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(j,{class:"pt-9 h-100"},{default:l(()=>[a(w,{"no-gutters":"",class:"rounded-t-xl align-center mt-n4 mb-2"},{default:l(()=>[a(k,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[V("div",Bt,[a(i,{onClick:n[7]||(n[7]=d=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),a(ue,{batalbtn:"Pemasukan",datainput:e.datainput,onInputhead:e.inputhead,pemasukan:!0,supplier:e.supplier,edit:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:e.details,headers:e.headers,items:e.pilihtipe(),pembeliandetl:e.pembeliandetl,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon,pageTitle:e.pageTitle},null,8,["datainput","onInputhead","supplier","itemDetail","datatext","btn","headDetails","details","headers","items","pembeliandetl","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","pageTitle"])])]),_:1}),a(k,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[V("div",It,[a(c,{modelValue:e.search,"onUpdate:modelValue":n[8]||(n[8]=d=>e.search=d),density:"compact",variant:"text",class:"w-75 text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(L,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(T,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(d,h)=>(u(),m(f,{key:h,value:h,onClick:D=>e.print(h),density:"compact",class:"text-caption","prepend-icon":d.icon},{default:l(()=>[s(p(d.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a(y,{height:"90%"},{default:l(()=>[a(F(z),{"items-per-page":"10",headers:e.headers,items:e.pilihtipe(),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 h-100",height:"100%"},{"item.tgl_pembelian":l(({item:d})=>[s(p(e.formatDate(d.raw.tgl_pembelian)),1)]),"item.actions":l(({item:d})=>[a(ue,{batalbtn:"Pemasukan",onDel:e.del,namaSupplier:e.dataTable(d.raw.kode_supplier,"nama"),pembelian:e.dataTable(d.raw.no_pembelian,"pembelian"),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:[e.details],headers:e.headers,items:d.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,actIcon:t.actIcon,pageTitle:e.pageTitle},null,8,["onDel","namaSupplier","pembelian","itemDetail","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","actIcon","pageTitle"])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})],64)}}}),Rt=V("br",null,null,-1),Ot={components:{VDataTable:z,DialogCard2:se},props:["headers","headItem","edit","getbarang","produksi","detailbahan","groupbarang","detailbarang","select_kode","produksi_bahan","produksi_barang","item","items","category","icon","actIcon","btncolor","alpha","iVariant","screen","details","disable"],data(){return{dialog:!1,dialog2:!1,dialogbhn:[],dialogbrg:[],confirmdialog:!1,dialog5:!1,searched:"",inputbahan:"",inputbarang:"",masuk:"",inputproduksi:{no_produksi:"",kode_group:"",tgl_produksi:"",tgl_input:"",tgl_batal:"",user_input:"admin",user_batal:"",status:!0},btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},created(){let t=new Date().toJSON().slice(0,10);return this.inputproduksi.tgl_input=t},computed:{filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{bahanmasuk(t){this.inputbahan=t},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},deleteditem(t,e){let n=[];e=="bahan"?n=this.inputbahan:e=="barang"&&(n=this.inputbarang);for(let r=0;r<n.length;r++)t==n[r]&&n.splice(r,1)},confirm(){this.$emit("del",this.item,this.produksi_bahan,this.produksi_barang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t)return this.$emit("inputhead",this.inputproduksi,this.inputbahan,this.inputbarang)}},mounted(){}},ge=Object.assign(Ot,{__name:"ScreenDialog2",setup(t){return(e,n)=>{const r=o("v-icon"),i=o("v-btn"),g=o("v-toolbar-title"),c=o("v-spacer"),j=o("v-toolbar"),S=o("v-lable"),x=o("v-text-field"),y=o("v-col"),_=o("v-label"),k=o("v-card-title"),f=o("v-span"),T=o("v-list-item"),L=o("v-divider"),w=o("v-for"),d=o("v-list"),h=o("v-card"),D=o("v-dialog"),I=o("v-row"),R=o("v-form"),M=o("v-div"),Y=o("v-container");return u(),m(D,{modelValue:e.dialog,"onUpdate:modelValue":n[14]||(n[14]=B=>e.dialog=B),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:B})=>[t.edit?(u(),m(i,O({key:0},B,{size:"small",variant:"text",color:"grey-darken-2"}),{default:l(()=>[a(r,null,{default:l(()=>[s("mdi-dots-vertical")]),_:1})]),_:2},1040)):b("",!0),t.edit?b("",!0):(u(),m(i,O({key:1},B,{class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"42"}),{default:l(()=>[s(" Tambah Baru ")]),_:2},1040))]),default:l(()=>[a(h,null,{default:l(()=>[a(j,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[a(i,{icon:"",dark:"",onClick:n[0]||(n[0]=B=>e.dialog=!1),size:"small"},{default:l(()=>[a(r,null,{default:l(()=>[s("mdi-close")]),_:1})]),_:1}),a(g,{class:"text-button"},{default:l(()=>[s("DETAIL PRODUKSI")]),_:1}),a(c)]),_:1}),a(Y,null,{default:l(()=>[a(R,{onSubmit:n[7]||(n[7]=ne(()=>{},["prevent"])),ref:"form",class:"mb-5 mt-1"},{default:l(()=>[a(I,{class:"row border-sm rounded-lg"},{default:l(()=>[a(y,{class:"w-100 text-grey"},{default:l(()=>[a(S,{class:"text-caption"},{default:l(()=>[s("No Produksi")]),_:1}),t.edit?(u(),m(x,{key:0,density:"compact",disabled:"",class:"bg-grey-lighten-4",variant:"outlined",value:t.item.no_produksi,"hide-details":""},null,8,["value"])):b("",!0),t.edit?b("",!0):(u(),m(x,{key:1,density:"compact",disabled:"",class:"bg-grey-lighten-4",variant:"outlined","hide-details":"",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":n[1]||(n[1]=B=>e.inputproduksi.no_produksi=B)},null,8,["modelValue"]))]),_:1}),a(y,{class:"w-100"},{default:l(()=>[a(_,{class:"text-body-2"},{default:l(()=>[s("Tgl Produksi")]),_:1}),t.edit?b("",!0):(u(),m(x,{key:0,type:"date",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":n[2]||(n[2]=B=>e.inputproduksi.tgl_produksi=B),variant:"outlined","hide-details":"",rules:e.required,density:"compact"},null,8,["modelValue","rules"])),t.edit?(u(),m(x,{key:1,type:"date",density:"compact",readonly:"",variant:"outlined",rules:e.required,value:t.item.tgl_produksi},null,8,["rules","value"])):b("",!0)]),_:1}),a(y,{class:"w-100"},{default:l(()=>[a(_,{class:"text-body-2"},{default:l(()=>[s("Kode Group")]),_:1}),t.edit?(u(),m(x,{key:0,value:t.item.kode_group,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",rules:e.required},null,8,["value","rules"])):b("",!0),a(D,{modelValue:e.dialog5,"onUpdate:modelValue":n[6]||(n[6]=B=>e.dialog5=B)},{activator:l(({props:B})=>[t.edit?b("",!0):(u(),m(x,O({key:0},B,{modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":n[3]||(n[3]=X=>e.inputproduksi.kode_group=X),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",rules:e.required,"hide-details":""}),null,16,["modelValue","rules"]))]),default:l(()=>[a(h,{class:"py-5 px-5 rounded-xl mx-auto",width:"400"},{default:l(()=>[a(i,{icon:"mdi-close",variant:"plain",onClick:n[4]||(n[4]=B=>e.dialog5=!1)}),a(k,{class:"text-center text-blue-darken-4 mb-3 text-button font-weight-bold mt-n12"},{default:l(()=>[s("KODE GROUP")]),_:1}),a(x,{modelValue:e.searched,"onUpdate:modelValue":n[5]||(n[5]=B=>e.searched=B),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",rules:e.required,density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),a(d,null,{default:l(()=>[(u(!0),C(N,null,E(e.filterkodegroup,(B,X)=>(u(),m(w,{key:X},{default:l(()=>[a(T,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:J=>(e.input_kodegroup(B.kode_group),e.inputproduksi.kode_barang=B.kode_barang,e.dialog5=!1)},{default:l(()=>[a(f,{class:"font-weight-bold"},{default:l(()=>[s(p(B.kode_group),1)]),_:2},1024),s(),Rt,a(f,{class:"text-small"},{default:l(()=>[s("stok akhir: "+p(e.numb(B.stok_akhir)),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(L)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},512),a(I,null,{default:l(()=>[a(y,{class:"border-sm rounded-lg me-lg-3 me-0 mb-lg-0 mb-3"},{default:l(()=>[t.edit?b("",!0):(u(),m(se,{key:0,produksi:!0,btn:e.btn[0],width:"400",barang:t.detailbahan,tambah:!0,getbarang:t.select_kode,kodebarang:e.inputproduksi.kode_barang,kodegroup:e.inputproduksi.kode_group,onPemasukanitem:e.bahanmasuk},null,8,["btn","barang","getbarang","kodebarang","kodegroup","onPemasukanitem"])),a(F(z),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbahan:e.inputbahan,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 py-3 px-5 text-caption",height:"40vh"},{bottom:l(()=>[]),"item.jumlah":l(({item:B})=>[V("td",null,p(e.numb(B.raw.jumlah)),1)]),"item.actions":l(({item:B,index:X})=>[a(D,{onUpdate:e.dialogchild,modelValue:e.dialogbhn[X],"onUpdate:modelValue":J=>e.dialogbhn[X]=J},{activator:l(({props:J})=>[a(i,O(J,{icon:t.actIcon[3].icon,color:t.actIcon[3].color,variant:t.actIcon[3].variant}),null,16,["icon","color","variant"])]),default:l(()=>[a(h,{class:"px-7 py-5 mx-auto rounded-xl w-100","max-width":"400"},{default:l(()=>[a(f,{class:"text-button text-center font-weight-bold"},{default:l(()=>[s(p(B.raw.nama_barang),1)]),_:2},1024),a(f,{class:"text-button mt-n2 mb-3 text-center"},{default:l(()=>[s(p(B.raw.kode_barang),1)]),_:2},1024),t.edit?(u(),m(x,{key:0,modelValue:B.raw.jumlah,"onUpdate:modelValue":J=>B.raw.jumlah=J,label:"Jumlah",variant:"outlined",density:"compact",readonly:""},null,8,["modelValue","onUpdate:modelValue"])):b("",!0),t.edit?b("",!0):(u(),m(x,{key:1,modelValue:B.raw.jumlah,"onUpdate:modelValue":J=>B.raw.jumlah=J,label:"Jumlah",variant:"outlined",density:"compact"},null,8,["modelValue","onUpdate:modelValue"])),t.edit?b("",!0):(u(),m(M,{key:2,class:"d-inline w-100"},{default:l(()=>[a(i,{onClick:J=>(e.deleteditem(B.raw,"bahan"),e.dialogbhn[X]=!1),variant:"tonal",class:"text-caption rounded-xl elevation-0 w-auto me-3"},{default:l(()=>[s("Hapus")]),_:2},1032,["onClick"]),a(i,{type:"submit",onClick:J=>e.dialogbhn[X]=!1,class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[s("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items"])]),_:1}),a(y,{class:"border-sm rounded-lg"},{default:l(()=>[t.edit?b("",!0):(u(),m(se,{key:0,produksi:!0,kodegroup:e.inputproduksi.kode_group,btn:e.btn[1],width:"400",barang:t.detailbarang,getbarang:t.getbarang,inputbahan:e.inputbahan,tambah:!0,kodebarang:e.inputproduksi.kode_barang,onPemasukanitem:e.barangmasuk},null,8,["kodegroup","btn","barang","getbarang","inputbahan","kodebarang","onPemasukanitem"])),a(F(z),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 py-3 px-5 text-caption",height:"40vh"},{bottom:l(()=>[]),"item.jumlah":l(({item:B})=>[V("td",null,p(e.numb(B.raw.jumlah)),1)]),"item.actions":l(({item:B,index:X})=>[a(D,{onUpdate:e.dialogbrg,modelValue:e.dialogbrg[X],"onUpdate:modelValue":J=>e.dialogbrg[X]=J},{activator:l(({props:J})=>[a(i,O(J,{icon:t.actIcon[3].icon,color:t.actIcon[3].color,variant:t.actIcon[3].variant}),null,16,["icon","color","variant"])]),default:l(()=>[a(h,{class:"px-7 py-5 mx-auto rounded-xl w-100","max-width":"400"},{default:l(()=>[a(f,{class:"text-button text-center font-weight-bold"},{default:l(()=>[s(p(B.raw.nama_barang),1)]),_:2},1024),a(f,{class:"text-button mt-n2 mb-3 text-center"},{default:l(()=>[s(p(B.raw.kode_barang),1)]),_:2},1024),a(x,{modelValue:B.raw.jumlah,"onUpdate:modelValue":J=>B.raw.jumlah=J,label:"Jumlah",variant:"outlined",density:"compact",readonly:""},null,8,["modelValue","onUpdate:modelValue"]),t.edit?b("",!0):(u(),m(M,{key:0,class:"d-inline w-100"},{default:l(()=>[a(i,{onClick:J=>(e.deleteditem(B.raw,"barang"),e.dialogbrg=!1),variant:"tonal",class:"text-caption rounded-xl elevation-0 w-auto me-3"},{default:l(()=>[s("Hapus")]),_:2},1032,["onClick"]),a(i,{type:"submit",onClick:n[8]||(n[8]=J=>e.dialogbrg=!1),class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[s("Simpan")]),_:1})]),_:2},1024))]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items"])]),_:1})]),_:1}),a(I,{class:"float-end"},{default:l(()=>[t.edit?(u(),m(i,{key:0,class:"mt-3 rounded-xl elevation-0 text-caption",height:"42",width:"150",variant:"tonal",onClick:n[9]||(n[9]=B=>e.confirmdialog=!0)},{default:l(()=>[s("Batal Produksi")]),_:1})):b("",!0),t.edit?b("",!0):(u(),m(i,{key:1,class:"mt-3 rounded-xl elevation-0 text-caption",height:"42",width:"150",variant:"tonal",onClick:n[10]||(n[10]=B=>(e.inputbarang=e.inputbahan="",e.dialog=!1))},{default:l(()=>[s("Batal")]),_:1})),t.edit?b("",!0):(u(),m(i,{key:2,class:"ms-3 mt-3 rounded-xl elevation-0 bg-blue-custom text-white text-caption",height:"42",width:"150",onClick:e.validate},{default:l(()=>[s("Simpan")]),_:1},8,["onClick"])),a(D,{modelValue:e.confirmdialog,"onUpdate:modelValue":n[13]||(n[13]=B=>e.confirmdialog=B),transition:"dialog-bottom-transition",width:"400"},{default:l(()=>[a(h,{class:"rounded-xl"},{default:l(()=>[a(k,{class:"text-center my-7"},{default:l(()=>[s("Apakah Anda Yakin ?")]),_:1}),a(I,{"no-gutters":""},{default:l(()=>[a(y,null,{default:l(()=>[a(i,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:n[11]||(n[11]=B=>e.confirmdialog=!1)},{default:l(()=>[s(" Tidak ")]),_:1})]),_:1}),a(y,null,{default:l(()=>[a(i,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:n[12]||(n[12]=B=>(e.inputbahan=e.inputbarang=[],e.confirm(),e.dialog=!1,e.confirmdialog=!1))},{default:l(()=>[s(" Ya ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Jt={class:"d-flex align-center"},Ft={class:"d-flex align-center w-100"},Kt={class:"d-flex justify-sm-end justify-start"},Gt={components:{ScreenDialog2:ge,VDataTable:z,AppBar:K},props:["actIcon","cetak"],data(){return{filter:!1,drawer:null,search:"",periode:[],dialog2:!1,pageTitle:"PRODUKSI BARANG",selectCategory:"semua",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,headers:[{title:"Nomor Produksi",key:"no_produksi"},{title:"Tgl Produksi",key:"tgl_produksi"},{title:"Kode Group",key:"kode_group"},{title:"Bahan Baku",key:"bahan_baku"},{title:"Jumlah Bahan Baku",key:"jumlah"},{title:"Barang Jadi",key:"barang_jadi"},{title:"Jumlah Barang Jadi",key:"jml_barang_jadi"},{title:"",key:"actions",sortable:!1}],filtered:{periode:[]},items:"",detailbahan:"",detailbarang:"",groupbarang:"",getbarang:"",getbahan:"",select_kode:[],headItem:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}]}},created(){this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()]},methods:{getProduksihead(){const t="/produksi_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.items=n.data}).catch(n=>this.$router.push("login"))},getProduksiBahan(){const t="/produksi_detail_bahan?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.detailbahan=n.data}).catch(n=>this.$router.push("login"))},getProduksiBarang(){const t="/produksi_detail_barang?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.detailbarang=n.data}).catch(n=>this.$router.push("login"))},getGroupBarang(){const t="/group_barang?";P.getData(t).then(e=>{this.groupbarang=e.data}).catch(e=>this.$router.push("login"))},getBarang(){P.getData("/barang?status=true").then(t=>{this.getbarang=t.data}).catch(()=>this.$router.push("login"))},inputhead(t,e,n){const r=JSON.stringify(t),i=JSON.stringify(e),g=JSON.stringify(n);console.log({produksi_head:r,produksi_detail_bahan:i,produksi_detail_barang:g})},del(t,e,n){let r={no_produksi:t.no_produksi,tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:t.tgl_batal,user_batal:"admin",status:"false"};const i=JSON.stringify(r),g=JSON.stringify(e),c=JSON.stringify(n);console.log({produksi_head:i,produksi_detail_bahan:g,produksi_detail_barang:c})},selected(){return this.getProduksihead(),this.getProduksiBahan(),this.getProduksiBarang()},dataTable(t,e){for(let n=0;n<this.detailbahan.length;n++)for(let r=0;r<this.detailbarang.length;r++)if(this.detailbahan[n].no_produksi==t){if(e=="baku")return this.detailbahan[n].nama_barang;if(e=="jumlah")return this.detailbahan[n].jumlah;if(e=="kodebhn")return this.detailbahan[n].kode_barang}else if(this.detailbarang[r].no_produksi==t){if(e=="brgjadi")return this.detailbarang[r].nama_barang;if(e=="jumlahbrg")return this.detailbarang[r].jumlah;if(e=="satuan")return this.detailbarang[r].satuan;if(e=="kodebrg")return this.detailbarang[r].kode_barang}},input_kodegroup(t){let e="";for(let n=0;n<this.groupbarang.length;n++)this.groupbarang[n].kode_group==t&&(e=this.groupbarang[n].kode_barang);for(let n=0;n<this.getbarang.length;n++)if(e==this.getbarang[n].kode_barang)return this.select_kode=[this.getbarang[n]]},detail(t,e){let n="";e=="bahan"?n=this.detailbahan:e=="barang"&&(n=this.detailbarang);for(let r=0;r<n.length;r++)if(t==n[r].no_produksi)return n[r]},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.printdata(),margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_produksi:this.items[e].no_produksi,tgl_produksi:this.items[e].tgl_produksi,kode_group:this.items[e].kode_group,bahan_baku:this.dataTable(this.items[e].no_produksi,"baku"),jumlah:this.dataTable(this.items[e].no_produksi,"jumlah"),barang_jadi:this.dataTable(this.items[e].no_produksi,"brgjadi"),jml_barang_jadi:this.dataTable(this.items[e].no_produksi,"jumlahbrg")});return t},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},page(){return this.$emit("page",this.pageTitle)},today(){return new Date().toJSON().slice(0,10)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"};return new Date(t).toLocaleDateString("id",e)},reset(){this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected()}},mounted(){this.getProduksihead(),this.getProduksiBahan(),this.getProduksiBarang(),this.getGroupBarang(),this.getBarang(),this.page()}},zt=le();ie(()=>{const t=new Date;zt.value=[t,t]});const Xt=Object.assign(Gt,{__name:"ProductView",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-text-field"),j=o("v-div"),S=o("v-container"),x=o("v-sheet"),y=o("v-navigation-drawer"),_=o("v-responsive"),k=o("v-list-item"),f=o("v-list"),T=o("v-menu"),L=o("v-row");return u(),C(N,null,[a(y,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[5]||(n[5]=w=>e.filter=w),location:"left",width:"320"},{default:l(()=>[a(x,{class:"rounded-xl py-5 h-500 bg-white"},{default:l(()=>[V("div",Jt,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=w=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(S,{class:"pt-3 px-4"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Periode")]),_:1}),a(g),a(c,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":n[1]||(n[1]=w=>e.filtered.periode[0]=w),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(c,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":n[2]||(n[2]=w=>e.filtered.periode[1]=w),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(j,{class:"d-flex justify-end pt-12"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-12 me-2 bg-grey-lighten-2",height:"42",onClick:n[3]||(n[3]=w=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-12",color:"orange-lighten-1",height:"42",onClick:n[4]||(n[4]=w=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(S,{class:"pt-9 h-100"},{default:l(()=>[a(L,{"no-gutters":"",class:"align-start mt-n4 mb-2"},{default:l(()=>[a(_,{class:"d-flex align-start mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[V("div",Ft,[a(i,{onClick:n[6]||(n[6]=w=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),a(ge,{headers:e.headItem,items:e.items,groupbarang:e.groupbarang,getbarang:e.getbarang,onInput_kodegroup:e.input_kodegroup,onInputhead:e.inputhead,produksi:!0,select_kode:e.select_kode,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon},null,8,["headers","items","groupbarang","getbarang","onInput_kodegroup","onInputhead","select_kode","iTitle","btncolor","icon","iVariant","alpha","actIcon"])])]),_:1}),a(_,{class:"me-sm-0 ms-sm-auto ms-0 me-auto mt-md-2 mt-0",width:"200","max-width":"450"},{default:l(()=>[V("div",Kt,[a(c,{modelValue:e.search,"onUpdate:modelValue":n[7]||(n[7]=w=>e.search=w),density:"compact",variant:"text",class:"w-75 text-indigo-darken-4 rounded-xl border me-2 text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(T,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(f,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(w,d)=>(u(),m(k,{key:d,value:d,onClick:h=>e.print(d),density:"compact",class:"text-caption","prepend-icon":w.icon},{default:l(()=>[s(p(w.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a(x,{height:"90%"},{default:l(()=>[a(F(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",headers:e.headers,items:e.items,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 h-100",height:"100%"},{"item.bahan_baku":l(({item:w})=>[V("td",null,p(e.dataTable(w.raw.no_produksi,"baku")),1)]),"item.tgl_produksi":l(({item:w})=>[s(p(e.formatDate(w.raw.tgl_produksi)),1)]),"item.jumlah":l(({item:w})=>[V("td",null,p(e.dataTable(w.raw.no_produksi,"jumlah")),1)]),"item.barang_jadi":l(({item:w})=>[V("td",null,p(e.dataTable(w.raw.no_produksi,"brgjadi")),1)]),"item.jml_barang_jadi":l(({item:w})=>[V("td",null,p(e.dataTable(w.raw.no_produksi,"jumlahbrg")),1)]),"item.actions":l(({item:w})=>[a(ge,{batalbtn:e.Produksi,edit:!0,produksi_bahan:e.detail(w.raw.no_produksi,"bahan"),produksi_barang:e.detail(w.raw.no_produksi,"barang"),detailbahan:[{kode_barang:e.dataTable(w.raw.no_produksi,"kodebhn"),nama_barang:e.dataTable(w.raw.no_produksi,"baku"),jumlah:e.dataTable(w.raw.no_produksi,"jumlah"),satuan:e.dataTable(w.raw.no_produksi,"satuan")}],detailbarang:[{kode_barang:e.dataTable(w.raw.no_produksi,"kodebrg"),nama_barang:e.dataTable(w.raw.no_produksi,"brgjadi"),jumlah:e.dataTable(w.raw.no_produksi,"jumlahbrg"),satuan:e.dataTable(w.raw.no_produksi,"satuan")}],onDel:e.del,headItem:e.headItem,item:w.raw,details:e.details,headers:e.headers,items:e.items,search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[1].text,btncolor:t.actIcon[1].color,icon:t.actIcon[1].icon,iVariant:t.actIcon[1].variant,alpha:e.alpha,actIcon:t.actIcon,disable:!0},null,8,["batalbtn","produksi_bahan","produksi_barang","detailbahan","detailbarang","onDel","headItem","item","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon"])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})],64)}}});const Mt={components:{DialogCard2:se,VDataTable:z},props:["pembelianbaru","namaPelanggan","groupbarang","batalbtn","penjualan","pemasukan","alamatBongkar","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,confirmdialog:!1,dialogkodeg:!1,valid:!1,detaildial:[],arr:[],tipe_dokumen:["BC23","BC40"],searched:"",nama:"",barang:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:"",inputdata:this.datainput,kurs:"",pemasukan_detail:"",penjualan_detail:[this.penjualan],required:[t=>t?!0:"harus diisi !"]}},created(){if(P.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>this.$router.push("login")),this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("del",this.dataitem,[this.penjualan])},totalharga(t){if(this.dataitem.no_penjualan==t)return this.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},async validate(){const{valid:t}=await this.$refs.form.validate();t&&this.$emit("inputhead",this.inputdata,this.pembelian_input)}},mounted(){this.edit,this.dataitem,this.$nextTick(()=>{this.nama_supplier=this.namaSupplier,this.nama_pelanggan=this.namaPelanggan,this.tujuan_bongkar=this.namaTujuan})}},Ht=V("br",null,null,-1);function qt(t,e,n,r,i,g){const c=o("v-btn"),j=o("v-icon"),S=o("v-toolbar-title"),x=o("v-spacer"),y=o("v-toolbar"),_=o("v-text-field"),k=o("v-col"),f=o("v-row"),T=o("v-card-title"),L=o("v-list-item"),w=o("v-for"),d=o("v-list"),h=o("v-div"),D=o("v-card"),I=o("v-dialog"),R=o("v-span"),M=o("v-divider"),Y=o("v-select"),B=o("DialogCard2"),X=o("v-if"),J=o("v-card-subtitle"),ee=o("v-label"),re=o("v-responsive"),U=o("v-data-table"),q=o("v-form"),A=o("v-container");return u(),m(I,{modelValue:i.dialog,"onUpdate:modelValue":e[26]||(e[26]=v=>i.dialog=v),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:v})=>[n.edit?b("",!0):(u(),m(c,O({key:0},v,{class:"text-body-2 bg-blue-custom text-white rounded-xl elevation-0 text-caption","prepend-icon":"mdi-plus",height:"42"}),{default:l(()=>[s(" Tambah Baru ")]),_:2},1040)),n.edit?(u(),m(c,O({key:1},v,{size:"small",variant:"text",color:"grey-darken-2"}),{default:l(()=>[a(j,null,{default:l(()=>[s("mdi-dots-vertical")]),_:1})]),_:2},1040)):b("",!0)]),default:l(()=>[a(D,null,{default:l(()=>[a(y,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[a(c,{icon:"",dark:"",onClick:e[0]||(e[0]=v=>(i.pembelian_input=[],i.dialog=!1)),size:"small"},{default:l(()=>[a(j,null,{default:l(()=>[s("mdi-close")]),_:1})]),_:1}),a(S,{class:"text-button mt-1"},{default:l(()=>[s(p("DETAIL "+n.pageTitle),1)]),_:1}),a(x)]),_:1}),a(A,{class:"mt-5"},{default:l(()=>[n.edit?(u(),m(f,{key:0},{default:l(()=>[a(k,null,{default:l(()=>[a(_,{label:"No Penjualan",modelValue:n.items.no_penjualan,"onUpdate:modelValue":e[1]||(e[1]=v=>n.items.no_penjualan=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"]),a(_,{label:"Tgl Penjualan",modelValue:n.items.tgl_penjualan,"onUpdate:modelValue":e[2]||(e[2]=v=>n.items.tgl_penjualan=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"])]),_:1}),a(k,null,{default:l(()=>[a(_,{label:"Pelanggan",modelValue:n.items.kode_pelanggan,"onUpdate:modelValue":e[3]||(e[3]=v=>n.items.kode_pelanggan=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"]),a(_,{label:"Kode Group",modelValue:n.items.kode_group,"onUpdate:modelValue":e[4]||(e[4]=v=>n.items.kode_group=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"])]),_:1}),a(k,null,{default:l(()=>[a(_,{label:"Tipe Dokumen",modelValue:n.items.tipe_dokumen,"onUpdate:modelValue":e[5]||(e[5]=v=>n.items.tipe_dokumen=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"]),a(_,{label:"No Dokumen",modelValue:n.items.no_dokumen,"onUpdate:modelValue":e[6]||(e[6]=v=>n.items.no_dokumen=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"]),a(_,{label:"Tgl Dokumen",modelValue:n.items.tgl_dokumen,"onUpdate:modelValue":e[7]||(e[7]=v=>n.items.tgl_dokumen=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"])]),_:1})]),_:1})):b("",!0),a(q,{onSubmit:e[25]||(e[25]=ne(()=>{},["prevent"])),ref:"form"},{default:l(()=>[!n.edit&&n.pengeluaran?(u(),m(f,{key:0},{default:l(()=>[a(k,null,{default:l(()=>[a(_,{label:"No Pengeluaran",modelValue:i.inputdata.no_penjualan,"onUpdate:modelValue":e[8]||(e[8]=v=>i.inputdata.no_penjualan=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",disabled:"",class:"bg-grey-lighten-4 mb-6","hide-details":""},null,8,["modelValue"]),a(_,{label:"Tgl Keluar",type:"date",modelValue:i.inputdata.tgl_penjualan,"onUpdate:modelValue":e[9]||(e[9]=v=>i.inputdata.tgl_penjualan=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-6","hide-details":"",rules:i.required},null,8,["modelValue","rules"])]),_:1}),a(k,null,{default:l(()=>[a(I,{modelValue:i.dialog4,"onUpdate:modelValue":e[13]||(e[13]=v=>i.dialog4=v)},{activator:l(({props:v})=>[a(_,O(v,{label:"Pelanggan",modelValue:i.nama,"onUpdate:modelValue":e[10]||(e[10]=G=>i.nama=G),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-5","hide-details":"",rules:i.required}),null,16,["modelValue","rules"])]),default:l(()=>[a(D,{class:"py-5 px-5 rounded-xl mx-auto vh-75",width:"350"},{default:l(()=>[a(h,null,{default:l(()=>[a(c,{icon:"mdi-close",variant:"plain",onClick:e[11]||(e[11]=v=>i.dialog4=!1)}),a(T,{class:"text-center text-blue-darken-4 mb-3 mt-n12 text-button font-weight-bold"},{default:l(()=>[s("PELANGGAN")]),_:1}),a(_,{modelValue:i.searched,"onUpdate:modelValue":e[12]||(e[12]=v=>i.searched=v),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",rules:i.required,density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),a(d,null,{default:l(()=>[(u(!0),C(N,null,E(g.filtersupplier,(v,G)=>(u(),m(w,{key:G},{default:l(()=>[a(L,{density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:te=>(i.inputdata.kode_pelanggan=v.kode_pelanggan,i.nama=v.nama,i.dialog4=!1)},{default:l(()=>[s(p(v.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(I,{modelValue:i.dialogkodeg,"onUpdate:modelValue":e[17]||(e[17]=v=>i.dialogkodeg=v)},{activator:l(({props:v})=>[a(_,O({label:"Kode Group"},v,{modelValue:i.inputdata.kode_group,"onUpdate:modelValue":e[14]||(e[14]=G=>i.inputdata.kode_group=G),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:"",rules:i.required,"hide-details":""}),null,16,["modelValue","rules"])]),default:l(()=>[a(D,{class:"py-5 px-5 rounded-xl mx-auto",width:"400"},{default:l(()=>[a(c,{icon:"mdi-close",variant:"plain",onClick:e[15]||(e[15]=v=>i.dialogkodeg=!1)}),a(T,{class:"text-center text-blue-darken-4 mb-3 text-button font-weight-bold mt-n12"},{default:l(()=>[s("KODE GROUP")]),_:1}),a(_,{modelValue:i.searched,"onUpdate:modelValue":e[16]||(e[16]=v=>i.searched=v),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",rules:i.required,density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),a(d,null,{default:l(()=>[(u(!0),C(N,null,E(g.filterkodegroup,(v,G)=>(u(),m(w,{key:G},{default:l(()=>[a(L,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:te=>(i.inputdata.kode_group=v.kode_group,i.dialogkodeg=!1)},{default:l(()=>[a(R,{class:"font-weight-bold"},{default:l(()=>[s(p(v.kode_group),1)]),_:2},1024),s(),Ht,a(R,{class:"text-small"},{default:l(()=>[s("stok akhir: "+p(g.numb(v.stok_akhir)),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(M)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(k,null,{default:l(()=>[a(Y,{label:"Tipe Dokumen",modelValue:i.inputdata.tipe_dokumen,"onUpdate:modelValue":e[18]||(e[18]=v=>i.inputdata.tipe_dokumen=v),items:i.tipe_dokumen,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},rules:i.required,"hide-details":"",class:"mb-5 text-caption"},null,8,["modelValue","items","rules"]),a(_,{label:"No Dokumen",modelValue:i.inputdata.no_dokumen,"onUpdate:modelValue":e[19]||(e[19]=v=>i.inputdata.no_dokumen=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},rules:i.required,"hide-details":"",class:"mb-5"},null,8,["modelValue","rules"]),a(_,{label:"Tgl Dokumen",type:"date",modelValue:i.inputdata.tgl_dokumen,"onUpdate:modelValue":e[20]||(e[20]=v=>i.inputdata.tgl_dokumen=v),style:{"min-width":"200px","max-width":"300px"},class:"mb-5",variant:"outlined",density:"compact","hide-details":"",rules:i.required},null,8,["modelValue","rules"])]),_:1})]),_:1})):b("",!0),n.edit?b("",!0):(u(),m(h,{key:1,pembelianbaru:n.pembelianbaru,pembeliandetl:n.pembeliandetl,class:"text-sm-left text-center"},{default:l(()=>[a(B,{onReset:t.reset,pengeluaran:!0,barang:i.barang,itemDetail:n.itemDetail,onPemasukanitem:g.itemmasuk,btn:n.btn,width:"400"},null,8,["onReset","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),a(U,{headers:n.headDetails,items:n.edit?[n.penjualan]:i.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption my-7 px-5",height:"200"},{bottom:l(()=>[]),"item.jumlah":l(({item:v})=>[s(p(g.numb(v.raw.jumlah)),1)]),"item.jumlah_terkirim":l(({item:v})=>[s(p(g.numb(v.raw.jumlah_terkirim)),1)]),"item.harga_jual":l(({item:v})=>[s(p(g.numb(v.raw.harga_jual)),1)]),"item.total_terjual":l(({item:v,index:G})=>[n.edit?(u(),m(X,{key:0},{default:l(()=>[s(p(g.numb(v.raw.jumlah*v.raw.harga_jual)),1)]),_:2},1024)):b("",!0),n.edit?b("",!0):(u(),m(X,{key:1},{default:l(()=>[s(p(g.numb(i.pembelian_input[G].jumlah*i.pembelian_input[G].harga_jual)),1)]),_:2},1024))]),"item.tipe_dokumen":l(()=>[s(p(n.dokumenpjl.tipe_dokumen),1)]),"item.no_dokumen":l(()=>[s(p(n.dokumenpjl.no_dokumen),1)]),"item.actions":l(({item:v,index:G})=>[a(I,{modelValue:i.detaildial[G],"onUpdate:modelValue":te=>i.detaildial[G]=te},{activator:l(({props:te})=>[a(c,O(te,{class:"text-body-2 rounded-lg",icon:n.actIcon[3].icon,variant:"plain",height:"30",width:"30"}),null,16,["icon"])]),default:l(()=>[a(re,{class:"bg-white mx-auto px-7 pb-7 pt-5 rounded-xl",width:"400"},{default:l(()=>[a(c,{onClick:te=>i.detaildial[G]=!1,icon:"mdi-close",variant:"text",size:"small"},null,8,["onClick"]),a(T,{class:"text-center text-button font-weight-bold mt-n5"},{default:l(()=>[s(p(v.raw.nama_barang),1)]),_:2},1024),a(J,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[s(p(v.raw.hs_code),1)]),_:2},1024),a(ee,null,{default:l(()=>[s("Jumlah")]),_:1}),a(_,{variant:"outlined",density:"compact",value:g.numb(v.raw.jumlah),active:"true",readonly:"","hide-details":"",class:"mb-1"},null,8,["value"]),a(ee,null,{default:l(()=>[s("Harga")]),_:1}),a(_,{variant:"outlined",density:"compact",value:g.numb(v.raw.harga_jual),readonly:"","hide-details":"",class:"mb-4"},null,8,["value"]),a(ee,null,{default:l(()=>[s("Total Harga")]),_:1}),a(_,{variant:"outlined",density:"compact",value:g.numb(v.raw.harga_jual*v.raw.jumlah),readonly:"","hide-details":"",class:"mb-4"},null,8,["value"]),n.edit?b("",!0):(u(),m(h,{key:0,class:"d-flex w-100"},{default:l(()=>[a(c,{onClick:te=>(g.deleteditem(v.raw),i.detaildial[G]=!1),hidden:n.disable,variant:"tonal",class:"text-caption rounded-xl elevation-0 w-25"},{default:l(()=>[s("Hapus")]),_:2},1032,["onClick","hidden"]),a(c,{hidden:n.disable,color:"blue-darken-4",class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[s("Simpan")]),_:1},8,["hidden"])]),_:2},1024))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items"]),n.edit?b("",!0):(u(),m(c,{key:2,onClick:g.validate,hidden:n.disable,class:"float-end text-body-2 text-white elevation-0 rounded-xl",height:"42",width:"150",color:"#ff6e40"},{default:l(()=>[s("Simpan")]),_:1},8,["onClick","hidden"])),n.edit?(u(),m(c,{key:3,onClick:e[21]||(e[21]=v=>i.confirmdialog=!0),size:"large",class:"float-end rounded-xl text-body-2 me-2",height:"42",width:"150",variant:"tonal"},{default:l(()=>[s("Batal "+p(n.batalbtn),1)]),_:1})):b("",!0),a(I,{modelValue:i.confirmdialog,"onUpdate:modelValue":e[24]||(e[24]=v=>i.confirmdialog=v),transition:"dialog-bottom-transition",width:"400"},{default:l(()=>[a(D,{class:"rounded-xl"},{default:l(()=>[a(T,{class:"text-center my-7"},{default:l(()=>[s("Apakah Anda Yakin ?")]),_:1}),a(f,{"no-gutters":""},{default:l(()=>[a(k,null,{default:l(()=>[a(c,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[22]||(e[22]=v=>i.confirmdialog=!1)},{default:l(()=>[s(" Tidak ")]),_:1})]),_:1}),a(k,null,{default:l(()=>[a(c,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[23]||(e[23]=v=>(i.inputdata=[],g.confirm(),i.dialog3=!1,i.dialog=!1,i.confirmdialog=!1))},{default:l(()=>[s(" Ya ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])}const pe=oe(Mt,[["render",qt]]),Wt={class:"d-flex align-center"},Yt={class:"d-flex align-center w-100"},Zt={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},Qt={components:{PengeluaranDetail:pe,VDataTable:z,AppBar:K},props:["cetak","actIcon"],data(){return{filter:!1,drawer:null,search:"",periode:"",checkStatus:[],pelanggan:"",dialog2:!1,pageTitle:"PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,filtered:{selectdokumen:[],periode:[],status:[]},tipedokumen:["BC25","BC41"],status:[{title:"menunggu",key:"open"},{title:"selesai",key:"close"}],headers:[{title:"Nomor Pengeluaran",key:"no_penjualan"},{title:"Tanggal Keluar",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Pelanggan",key:"kode_pelanggan"},{title:"Kode Group",key:"kode_group"},{title:"Total Penjualan",key:"total_penjualan"},{title:"",key:"actions",sortable:!1}],penjualan_head:"",penjualan_detail:"",headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],groupbarang:"",datainput:{no_penjualan:"",tgl_penjualan:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",kode_pelanggan:"",kode_group:"",total_penjualan:"",tgl_input:"",user_input:"",tgl_batal:"",user_batal:"",status:""}}},created(){this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()]},computed:{pilihtipe(){return this.selectdokumen.length===0?this.penjualan_head:this.penjualan_head.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},tglinput(){return new Date().toJSON().slice(0,10)}},methods:{today(){return new Date().toJSON().slice(0,10)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"};return new Date(t).toLocaleDateString("id",e)},getPenjualanHead(){const t="/penjualan_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.penjualan_head=n.data}).catch(n=>this.$router.push("login"))},getPenjualanDetail(){const t="/penjualan_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.penjualan_detail=n.data}).catch(n=>this.$router.push("login"))},getGroupBarang(){const t="/group_barang?";P.getData(t).then(e=>{this.groupbarang=e.data}).catch(e=>this.$router.push("login"))},getPelanggan(){const t="/pelanggan";P.getData(t).then(e=>{this.pelanggan=e.data}).catch(e=>this.$router.push("login"))},inputhead(t,e){let n={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:e[0].total_terjual,tgl_input:this.tglinput,user_input:"admin",tgl_batal:t.tgl_batal,user_batal:t.user_batal,status:"open"};const r=JSON.stringify(n),i=JSON.stringify(e);console.log({penjualan_head:r,penjualan_detail:i})},del(t,e){let n={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:t.total_penjualan,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:t.tgl_batal,user_batal:"admin",status:!1};const r=JSON.stringify(n),i=JSON.stringify(e);console.log({penjualan_head:r,penjualan_detail:i})},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},penjualan(t){for(let e=0;e<this.penjualan_detail.length;e++)if(this.penjualan_detail[e].no_penjualan==t)return this.penjualan_detail[e]},selected(){this.getPenjualanHead(),this.getPenjualanDetail(),this.getPelanggan()},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},statuspenjualan(){for(let t=1;t<this.status.length;t++)this.checkStatus==this.status[t].title&&(this.checkStatus=this.status[t].key)},checkstatus(){var t=this.pilihtipe;return this.checkStatus.length===0?t:t.filter(e=>this.checkStatus.includes(e.status))},printdata(){let t=[];for(let e=0;e<this.penjualan_head.length;e++)t.push({no_penjualan:this.penjualan_head[e].no_penjualan,tgl_penjualan:this.penjualan_head[e].tgl_penjualan,tipe_dokumen:this.penjualan_head[e].tipe_dokumen,no_dokumen:this.penjualan_head[e].no_dokumen,kode_pelanggan:this.penjualan_head[e].kode_pelanggan,kode_group:this.penjualan_head[e].kode_group,total_penjualan:this.numb(this.penjualan_head[e].total_penjualan)});return t},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.printdata(),margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.filtered.selectdokumen=[],this.filtered.status=[],this.today(),this.selectdokumen=[],this.checkStatus=[],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.checkStatus=this.filtered.status,this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.selected(),this.getPenjualanHead(),this.getPenjualanDetail(),this.getPelanggan(),this.penjualan(),this.getGroupBarang(),this.pilihtipe}},$t=le();ie(()=>{const t=new Date;$t.value=[t,t]});const ea=Object.assign(Qt,{__name:"OutItem",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-text-field"),j=o("v-container"),S=o("v-checkbox"),x=o("v-div"),y=o("v-sheet"),_=o("v-navigation-drawer"),k=o("v-responsive"),f=o("v-list-item"),T=o("v-list"),L=o("v-menu"),w=o("v-row");return u(),C(N,null,[a(_,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[7]||(n[7]=d=>e.filter=d),location:"left",width:"320"},{default:l(()=>[a(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[V("div",Wt,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=d=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(j,{class:"mb-n7"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Periode")]),_:1}),a(g),a(c,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":n[1]||(n[1]=d=>e.filtered.periode[0]=d),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(c,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":n[2]||(n[2]=d=>e.filtered.periode[1]=d),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Tipe Dokumen")]),_:1}),a(g),a(x,{class:"d-flex"},{default:l(()=>[(u(!0),C(N,null,E(e.tipedokumen,(d,h)=>(u(),m(S,{key:h,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":n[3]||(n[3]=D=>e.filtered.selectdokumen=D),label:d,value:d,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1})]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Status")]),_:1}),a(g),a(x,{class:"d-flex"},{default:l(()=>[(u(!0),C(N,null,E(e.status,(d,h)=>(u(),m(S,{key:h,modelValue:e.filtered.status,"onUpdate:modelValue":n[4]||(n[4]=D=>e.filtered.status=D),label:d.title,value:d.key,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),a(x,{class:"d-flex justify-end mt-12 pt-12"},{default:l(()=>[a(i,{class:"elevation-0 text-small me-2 bg-grey-lighten-2",height:"42",onClick:n[5]||(n[5]=d=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small",color:"orange-lighten-1",height:"42",onClick:n[6]||(n[6]=d=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(j,{class:"pt-9 h-100"},{default:l(()=>[a(w,{"no-gutters":"",class:"rounded-t-xl align-start mt-n4 mb-2"},{default:l(()=>[a(k,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[V("div",Yt,[a(i,{onClick:n[8]||(n[8]=d=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),a(pe,{batalbtn:"Pengeluaran",datainput:e.datainput,pengeluaran:!0,groupbarang:e.groupbarang,supplier:e.pelanggan,datatext:e.datatext,pageTitle:e.pageTitle,btn:e.btn,headDetails:e.headDetails,details:e.details,headers:e.headers,items:e.checkstatus(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon,onInputhead:e.inputhead},null,8,["datainput","groupbarang","supplier","datatext","pageTitle","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","onInputhead"])])]),_:1}),a(k,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[V("div",Zt,[a(c,{modelValue:e.search,"onUpdate:modelValue":n[9]||(n[9]=d=>e.search=d),density:"compact",variant:"text",class:"w-75 text-indigo-darken-4 rounded-xl border me-2 text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(L,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(T,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(d,h)=>(u(),m(f,{key:h,value:h,onClick:D=>e.print(h),density:"compact",class:"text-caption","prepend-icon":d.icon},{default:l(()=>[s(p(d.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a(y,{height:"90%"},{default:l(()=>[a(F(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",headers:e.headers,items:e.checkstatus(),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 h-100",height:"100%"},{"item.tgl_penjualan":l(({item:d})=>[s(p(e.formatDate(d.raw.tgl_penjualan)),1)]),"item.total_penjualan":l(({item:d})=>[V("td",null,p(e.numb(d.raw.total_penjualan)),1)]),"item.actions":l(({item:d})=>[a(pe,{onDel:e.del,batalbtn:"Pengeluaran",namaPelanggan:e.namaPelanggan(d.raw.kode_pelanggan),penjualan:e.penjualan(d.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:e.headDetails,items:d.raw,details:e.details,headers:e.headers,search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha,actIcon:t.actIcon,disable:!0},null,8,["onDel","namaPelanggan","penjualan","pageTitle","headDetails","items","details","headers","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon"])]),_:1},8,["headers","items","search"])]),_:1})]),_:1})],64)}}});const ta={components:{DialogCard2:se,VDataTable:z},props:["pembelianbaru","namaPelanggan","detail_kirim","detailkirim","nokirim","nopjl","pjl_detail","groupbarang","batalbtn","pengiriman","pemasukan","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","no","tipe","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,dialogbongkar:!1,jalan:!1,confirmdialog:!1,dialogkodeg:!1,valid:!1,detaildial:[],arr:[],tipe_dokumen:["BC23","BC40"],searched:"",nama:"",tujuan:"",barang:"",belumkirim:"",belumkirim_detail:"",namasupplier:"",dataitem:this.items,alamatBongkar:"",nama_supplier:"",nama_pelanggan:"",pembelian_input:[],detailpengiriman:"",kode_pelanggan:this.namaPelanggan,inputdata:this.datainput,kurs:"",nomorkirim:"",pemasukan_detail:"",pengiriman_detail:[this.pengiriman],required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{getBarang(){P.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>this.$router.push("login"))},getDetail(){const t="/penjualan_head/"+this.nopjl;P.getData(t).then(e=>{this.detailpengiriman=e.data}).catch(e=>this.$router.push("login"))},tujuanBongkar(){const t="/alamat_bongkar";P.getData(t).then(e=>{this.alamatBongkar=e.data}).catch(e=>this.$router.push("login"))},belumterkirim(){const t="/penjualan_head/belum_terkirim";P.getData(t).then(e=>{this.belumkirim=e.data}).catch(e=>this.$router.push("login"))},belumterkirim_detail(){const t="/penjualan_detail/belum_terkirim";P.getData(t).then(e=>{this.belumkirim_detail=e.data}).catch(e=>this.$router.push("login"))},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("del",this.dataitem,[this.pengiriman])},totalharga(t){if(this.dataitem.no_penjualan==t)return this.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},async validate(){const{valid:t}=await this.$refs.form.validate();t&&this.$emit("inputhead",this.inputdata,this.pembelian_input)}},mounted(){this.detail,this.edit,this.getBarang(),this.getDetail(),this.tujuanBongkar(),this.belumterkirim(),this.belumterkirim_detail(),this.dataitem,this.$nextTick(()=>{this.nama_supplier=this.namaSupplier,this.nama_pelanggan=this.namaPelanggan})}},aa=V("br",null,null,-1);function na(t,e,n,r,i,g){const c=o("v-btn"),j=o("v-list-item"),S=o("v-icon"),x=o("v-toolbar-title"),y=o("v-spacer"),_=o("v-toolbar"),k=o("v-text-field"),f=o("v-col"),T=o("v-row"),L=o("v-card-title"),w=o("v-for"),d=o("v-list"),h=o("v-div"),D=o("v-card"),I=o("v-dialog"),R=o("v-span"),M=o("v-divider"),Y=o("DialogCard2"),B=o("v-if"),X=o("v-card-subtitle"),J=o("v-label"),ee=o("v-responsive"),re=o("v-data-table"),U=o("v-form"),q=o("v-container");return u(),m(I,{modelValue:i.dialog,"onUpdate:modelValue":e[22]||(e[22]=A=>i.dialog=A),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:A})=>[n.edit?b("",!0):(u(),m(c,O({key:0},A,{class:"bg-blue-custom text-white rounded-xl elevation-0 text-small","prepend-icon":"mdi-plus",height:"42"}),{default:l(()=>[s(" Tambah Baru ")]),_:2},1040)),n.edit?(u(),m(j,O({key:1},A,{class:"text-small"}),{default:l(()=>[s(" Lihat Detail ")]),_:2},1040)):b("",!0)]),default:l(()=>[a(D,null,{default:l(()=>[a(_,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[a(c,{icon:"",dark:"",onClick:e[0]||(e[0]=A=>(i.pembelian_input=[],i.inputdata=[],i.dialog=!1)),size:"small"},{default:l(()=>[a(S,null,{default:l(()=>[s("mdi-close")]),_:1})]),_:1}),a(x,{class:"text-button mt-1"},{default:l(()=>[s(p("DETAIL "+n.pageTitle),1)]),_:1}),a(y)]),_:1}),a(q,{class:"mt-5"},{default:l(()=>[n.edit?(u(),m(T,{key:0},{default:l(()=>[a(f,null,{default:l(()=>[a(k,{label:"No Pengiriman",modelValue:i.dataitem.no_pengiriman,"onUpdate:modelValue":e[1]||(e[1]=A=>i.dataitem.no_pengiriman=A),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"]),a(k,{label:"Tgl Pengiriman",modelValue:i.dataitem.tgl_pengiriman,"onUpdate:modelValue":e[2]||(e[2]=A=>i.dataitem.tgl_pengiriman=A),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"])]),_:1}),a(f,null,{default:l(()=>[a(k,{label:"Pelanggan",modelValue:i.kode_pelanggan,"onUpdate:modelValue":e[3]||(e[3]=A=>i.kode_pelanggan=A),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["modelValue"]),a(k,{label:"Tujuan Bongkar","model-value":n.namaTujuan,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])]),_:1}),a(f,null,{default:l(()=>[a(k,{label:"Supir","model-value":i.dataitem.supir,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"]),a(k,{label:"No Polisi","model-value":i.dataitem.no_polisi,variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},readonly:""},null,8,["model-value"])]),_:1})]),_:1})):b("",!0),a(U,{onSubmit:e[21]||(e[21]=ne(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n.edit?b("",!0):(u(),m(T,{key:0,class:"mb-12"},{default:l(()=>[a(f,null,{default:l(()=>[a(k,{label:"No Pengiriman",modelValue:i.inputdata.no_pengiriman,"onUpdate:modelValue":e[4]||(e[4]=A=>i.inputdata.no_pengiriman=A),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-5","hide-details":""},null,8,["modelValue"]),a(k,{label:"Tgl Pengiriman",type:"date",modelValue:i.inputdata.tgl_pengiriman,"onUpdate:modelValue":e[5]||(e[5]=A=>i.inputdata.tgl_pengiriman=A),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue"])]),_:1}),a(f,null,{default:l(()=>[a(I,{modelValue:i.dialog4,"onUpdate:modelValue":e[9]||(e[9]=A=>i.dialog4=A)},{activator:l(({props:A})=>[a(k,O(A,{label:"Pelanggan",modelValue:i.inputdata.nama,"onUpdate:modelValue":e[6]||(e[6]=v=>i.inputdata.nama=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-5","hide-details":"",rules:i.required,readonly:""}),null,16,["modelValue","rules"])]),default:l(()=>[a(D,{class:"py-5 px-5 rounded-xl mx-auto vh-75 w-100","max-width":"350"},{default:l(()=>[a(h,null,{default:l(()=>[a(c,{icon:"mdi-close",variant:"plain",onClick:e[7]||(e[7]=A=>i.dialog4=!1)}),a(L,{class:"text-center text-blue-darken-4 mb-3 mt-n12 text-button font-weight-bold"},{default:l(()=>[s("PELANGGAN")]),_:1}),a(k,{modelValue:i.searched,"onUpdate:modelValue":e[8]||(e[8]=A=>i.searched=A),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",rules:i.required,density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),a(d,null,{default:l(()=>[(u(!0),C(N,null,E(g.filtersupplier,(A,v)=>(u(),m(w,{key:v},{default:l(()=>[a(j,{density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:G=>(i.inputdata.kode_pelanggan=A.kode_pelanggan,i.inputdata.nama=A.nama,i.dialog4=!1)},{default:l(()=>[s(p(A.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(I,{modelValue:i.dialogbongkar,"onUpdate:modelValue":e[13]||(e[13]=A=>i.dialogbongkar=A)},{activator:l(({props:A})=>[a(k,O(A,{label:"Tujuan Bongkar",modelValue:i.inputdata.tujuan,"onUpdate:modelValue":e[10]||(e[10]=v=>i.inputdata.tujuan=v),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"},class:"mb-5","hide-details":"",rules:i.required,readonly:""}),null,16,["modelValue","rules"])]),default:l(()=>[a(D,{class:"py-5 px-5 rounded-xl mx-auto w-100","max-width":"400"},{default:l(()=>[a(c,{icon:"mdi-close",variant:"plain",onClick:e[11]||(e[11]=A=>i.dialogbongkar=!1)}),a(L,{class:"text-center text-blue-darken-4 mb-3 mt-n12 text-button font-weight-bold"},{default:l(()=>[s("ALAMAT BONGKAR")]),_:1}),a(k,{modelValue:i.searched,"onUpdate:modelValue":e[12]||(e[12]=A=>i.searched=A),"append-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",rules:i.required,density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue","rules"]),a(d,{class:"overflow-auto"},{default:l(()=>[(u(!0),C(N,null,E(g.filteralamat,(A,v)=>(u(),m(w,{key:v},{default:l(()=>[a(j,{density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:G=>(i.inputdata.kode_alamat_bongkar=A.kode_pelanggan,i.inputdata.tujuan=A.nama,i.dialogbongkar=!1)},{default:l(()=>[a(R,{class:"font-weight-medium"},{default:l(()=>[s(p(A.nama),1)]),_:2},1024),s(),aa,a(R,{class:"text-small"},{default:l(()=>[s(p(A.alamat)+" - "+p(A.kabupaten),1)]),_:2},1024),a(M)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(f,null,{default:l(()=>[a(k,{label:"Supir",modelValue:i.inputdata.supir,"onUpdate:modelValue":e[14]||(e[14]=A=>i.inputdata.supir=A),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue"]),a(k,{label:"No Polisi",modelValue:i.inputdata.no_polisi,"onUpdate:modelValue":e[15]||(e[15]=A=>i.inputdata.no_polisi=A),variant:"outlined",density:"compact",style:{"min-width":"200px","max-width":"300px"}},null,8,["modelValue"])]),_:1})]),_:1})),n.edit?b("",!0):(u(),m(h,{key:1,class:"text-sm-left text-center"},{default:l(()=>[a(Y,{onReset:t.reset,nokirim:i.inputdata.no_pengiriman,blmkirim:!0,belumkirim:i.belumkirim,belumkirim_detail:i.belumkirim_detail,barang:i.barang,itemDetail:n.itemDetail,onPemasukanitem:g.itemmasuk,pengiriman:!0,penjualan:t.penjualan,btn:n.btn,width:"400"},null,8,["onReset","nokirim","belumkirim","belumkirim_detail","barang","itemDetail","onPemasukanitem","penjualan","btn"])]),_:1})),a(re,{headers:n.headDetails,items:n.edit?[n.pengiriman]:i.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption mt-5 mb-5 px-5",height:"200"},{bottom:l(()=>[]),"item.tipe_dokumen":l(({item:A,index:v})=>[n.edit?b("",!0):(u(),m(B,{key:0},{default:l(()=>[s(p(A.raw.tipe_dokumen),1)]),_:2},1024)),n.edit?(u(),m(B,{key:1},{default:l(()=>[s(p(i.detailpengiriman[v].tipe_dokumen),1)]),_:2},1024)):b("",!0)]),"item.no_dokumen":l(({item:A,index:v})=>[n.edit?b("",!0):(u(),m(B,{key:0},{default:l(()=>[s(p(A.raw.no_dokumen),1)]),_:2},1024)),n.edit?(u(),m(B,{key:1},{default:l(()=>[s(p(i.detailpengiriman[v].no_dokumen),1)]),_:2},1024)):b("",!0)]),"item.actions":l(({item:A,index:v})=>[a(I,{modelValue:i.detaildial[v],"onUpdate:modelValue":G=>i.detaildial[v]=G},{activator:l(({props:G})=>[a(c,O(G,{class:"text-body-2 rounded-lg",icon:n.actIcon[3].icon,variant:"plain",height:"30",width:"30"}),null,16,["icon"])]),default:l(()=>[a(ee,{class:"bg-white mx-auto px-7 pb-7 pt-5 rounded-xl",width:"400"},{default:l(()=>[a(c,{onClick:G=>i.detaildial[v]=!1,icon:"mdi-close",variant:"text",size:"small"},null,8,["onClick"]),a(L,{class:"text-center text-button font-weight-bold mt-n5"},{default:l(()=>[s(p(A.raw.nama_barang),1)]),_:2},1024),a(X,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[s(p(A.raw.hs_code),1)]),_:2},1024),a(J,null,{default:l(()=>[s("Jumlah")]),_:1}),a(k,{variant:"outlined",density:"compact",value:g.numb(A.raw.jumlah),active:"true","hide-details":"",class:"mb-1"},null,8,["value"]),n.edit?b("",!0):(u(),m(h,{key:0,class:"d-flex w-100"},{default:l(()=>[a(c,{onClick:G=>(g.deleteditem(A.raw),i.detaildial[v]=!1),hidden:n.disable,variant:"tonal",class:"text-caption rounded-xl elevation-0 w-25"},{default:l(()=>[s("Hapus")]),_:2},1032,["onClick","hidden"]),a(c,{hidden:n.disable,color:"blue-darken-4",class:"text-caption rounded-xl elevation-0 bg-blue-darken-4 w-75"},{default:l(()=>[s("Simpan")]),_:1},8,["hidden"])]),_:2},1024))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items"]),n.edit?b("",!0):(u(),m(c,{key:2,onClick:g.validate,hidden:n.disable,class:"float-end text-body-2 text-white elevation-0 rounded-xl",height:"42",width:"150",color:"#ff6e40"},{default:l(()=>[s("Simpan")]),_:1},8,["onClick","hidden"])),n.edit?b("",!0):(u(),m(c,{key:3,onClick:e[16]||(e[16]=A=>(i.pembelian_input=[],i.inputdata=[],i.dialog=!1)),class:"float-end rounded-xl text-body-2 me-2",height:"42",width:"150",variant:"outlined",color:"grey-darken-2"},{default:l(()=>[s("Batal")]),_:1})),n.edit?(u(),m(c,{key:4,onClick:e[17]||(e[17]=A=>i.confirmdialog=!0),size:"large",class:"float-end rounded-xl text-body-2 me-2",height:"42",width:"150",variant:"tonal"},{default:l(()=>[s("Batal "+p(n.batalbtn),1)]),_:1})):b("",!0),a(I,{modelValue:i.confirmdialog,"onUpdate:modelValue":e[20]||(e[20]=A=>i.confirmdialog=A),transition:"dialog-bottom-transition",width:"400"},{default:l(()=>[a(D,{class:"rounded-xl"},{default:l(()=>[a(L,{class:"text-center my-7"},{default:l(()=>[s("Apakah Anda Yakin ?")]),_:1}),a(T,{"no-gutters":""},{default:l(()=>[a(f,null,{default:l(()=>[a(c,{color:"orange-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[18]||(e[18]=A=>i.confirmdialog=!1)},{default:l(()=>[s(" Tidak ")]),_:1})]),_:1}),a(f,null,{default:l(()=>[a(c,{type:"submit",color:"blue-darken-1",variant:"tonal",height:"57",class:"w-100 rounded-0",onClick:e[19]||(e[19]=A=>(i.inputdata=[],g.confirm(),i.dialog3=!1,i.dialog=!1,i.confirmdialog=!1))},{default:l(()=>[s(" Ya ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ce=oe(ta,[["render",na]]);const la={props:["items","namaPelanggan","namaTujuan","pengiriman","alamatPelanggan","nokirim","detail_kirim","nopjl"],data(){return{jalan:!1,kirim:[this.pengiriman],detailpengiriman:""}},methods:{getDetail(){const t="/penjualan_head/"+this.nopjl;P.getData(t).then(e=>{this.detailpengiriman=e.data}).catch(e=>{console.log(e)})},uppercase(t){return t.toUpperCase()},print(){window.print()},sum(){let t=[];for(let e=0;e<this.kirim.length;e++)t.push(this.kirim[e].jumlah);return t.reduce((e,n)=>e+n,0)}},mounted(){this.getDetail()}},ia=V("br",null,null,-1),oa=V("thead",null,[V("tr",null,[V("th",{class:"text-left bg-white"},"No"),V("th",{class:"text-left bg-white"},"Nama Barang"),V("th",{class:"text-left bg-white"},"Qty"),V("th",{class:"text-left bg-white"},"Satuan"),V("th",{class:"text-left bg-white"},"Berat (KG)"),V("th",{class:"text-left bg-white"},"Keterangan(Ex.BC)")])],-1),sa={class:"text-left"},ra={class:"text-left"},da={class:"text-left",contenteditable:""},ua=V("td",{class:"text-left",contenteditable:""},null,-1),ma={class:"text-left"},ga={class:"text-left"},pa=V("td",null,null,-1),ca=V("td",null,null,-1),ha=V("td",null,null,-1),_a=V("td",null,null,-1),ba={class:"text-left font-weight-bold"};function fa(t,e,n,r,i,g){const c=o("v-list-item"),j=o("v-icon"),S=o("v-btn"),x=o("v-span"),y=o("v-spacer"),_=o("v-toolbar"),k=o("v-divider"),f=o("v-div"),T=o("v-table"),L=o("v-text"),w=o("v-sheet"),d=o("v-card"),h=o("v-dialog");return u(),m(h,{modelValue:i.jalan,"onUpdate:modelValue":e[2]||(e[2]=D=>i.jalan=D),fullscreen:"",scrim:!1},{activator:l(({props:D})=>[a(c,O({class:"text-small"},D),{default:l(()=>[s("Cetak Surat Jalan")]),_:2},1040)]),default:l(()=>[a(_,{class:"bg-blue-custom"},{default:l(()=>[a(S,{icon:"",onClick:e[0]||(e[0]=D=>i.jalan=!1),size:"small",class:"text-white"},{default:l(()=>[a(j,null,{default:l(()=>[s("mdi-close")]),_:1})]),_:1}),a(x,{class:"text-button mt-1 text-white"},{default:l(()=>[s("cetak surat jalan")]),_:1}),a(y),a(S,{icon:"",class:"text-white",onClick:e[1]||(e[1]=D=>g.print())},{default:l(()=>[a(j,null,{default:l(()=>[s("mdi-printer")]),_:1})]),_:1})]),_:1}),a(d,{id:"suratjalan"},{default:l(()=>[a(w,{class:"mx-auto text-center pa-3 page"},{default:l(()=>[a(x,{class:"text-h6 font-weight-bold"},{default:l(()=>[s("PT. AURI STEEL METALINDO")]),_:1}),a(k,{thickness:"3",color:"black",class:"border-opacity-100 mt-3 mb-1"}),a(x,{class:"text-h6 font-weight-bold"},{default:l(()=>[s("SURAT JALAN")]),_:1}),a(f,{class:"d-flex mt-3"},{default:l(()=>[a(f,{class:"d-flex text-body-2"},{default:l(()=>[a(x,{class:"me-2"},{default:l(()=>[s("PENERIMA :")]),_:1}),a(x,{class:"text-start w-50"},{default:l(()=>[s(p(g.uppercase(n.namaTujuan))+" ",1),ia,s(" "+p(g.uppercase(n.alamatPelanggan)),1)]),_:1})]),_:1}),a(y),a(f,{class:"d-flex"},{default:l(()=>[a(f,{class:"d-flex flex-column"},{default:l(()=>[a(x,{class:"me-2 text-start"},{default:l(()=>[s("No Surat Jalan")]),_:1}),a(x,{class:"me-2 text-start"},{default:l(()=>[s("Tgl Pengiriman")]),_:1}),a(x,{class:"me-2 text-start"},{default:l(()=>[s("Nama Supir")]),_:1})]),_:1}),a(f,{class:"d-flex flex-column"},{default:l(()=>[a(x,{class:"text-start"},{default:l(()=>[s(": PJS-"+p(n.items.no_pengiriman.slice(4)),1)]),_:1}),a(x,{class:"text-start"},{default:l(()=>[s(": "+p(n.items.tgl_pengiriman),1)]),_:1}),a(x,{class:"text-start"},{default:l(()=>[s(": "+p(n.items.supir)+"/"+p(n.items.no_polisi),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(T,{density:"compact",class:"text-body-1 my-5 pb-5"},{default:l(()=>[oa,V("tbody",null,[(u(!0),C(N,null,E(i.kirim,(D,I)=>(u(),C("tr",{key:I},[V("td",sa,p(I+1),1),V("td",ra,p(D.nama_barang),1),V("td",da,p(D.qty),1),ua,V("td",ma,p(D.jumlah),1),V("td",ga,p(i.detailpengiriman[I].no_dokumen)+"/"+p(i.detailpengiriman[I].tipe_dokumen.slice(2)),1)]))),128)),V("tr",null,[pa,ca,ha,_a,V("td",ba,p(g.sum()),1)])])]),_:1}),a(f,{class:"d-flex flex-column align-start text-body-1"},{default:l(()=>[a(L,{class:"d-flex flex-column align-start"},{default:l(()=>[s(" Keterangan "),a(x,{class:"ms-3"},{default:l(()=>[s("1. Surat Jalan ini merupakan bukti penerimaan barang")]),_:1}),a(x,{class:"ms-3"},{default:l(()=>[s("1. Surat Jalan ini bukan bukti penjualan (Faktur/Invoice)")]),_:1}),s(" Barang sudah diterima dalam keadaan Baik dan Cukup oleh : ")]),_:1}),a(f,{class:"d-flex justify-space-between w-100"},{default:l(()=>[a(f,{class:"mt-16"},{default:l(()=>[s("(Penerima)")]),_:1}),a(f,{class:"mt-16"},{default:l(()=>[s("(Supir)")]),_:1}),a(f,{class:"mt-16"},{default:l(()=>[s("(Bag. Gudang)")]),_:1}),a(f,{class:"mt-16"},{default:l(()=>[s("(Bag. Exim)")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ke=oe(la,[["render",fa]]),ka={class:"d-flex align-center"},va={class:"d-flex align-center w-100"},ya={class:"d-flex align-center justify-sm-end justify-start"},wa={components:{SuratJalan:ke,PengirimanDetail:ce,VDataTable:z,AppBar:K},props:["actIcon","cetak"],data(){return{drawer:null,search:"",tgl:"",filter:!1,periode:[],checkStatus:"menunggu",dialog2:!1,pageTitle:"PENGIRIMAN BARANG",selectCategory:"",btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,category:["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"No Pengiriman",key:"no_pengiriman"},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"kode_pelanggan"},{title:"Tujuan Bongkar",key:"kode_alamat_bongkar"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"",key:"actions",sortable:!1}],filtered:{periode:[]},pengirimanHead:"",penjualanHead:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",headDetails:[{title:"No Penjualan",key:"no_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],datainput:{no_pengiriman:"",tgl_pengiriman:"",kode_pelanggan:"",kode_alamat_bongkar:"",supir:"",no_polisi:"",user_input:"",tgl_input:"",tgl_batal:"",user_batal:"",status:""},nokirim:"0",detailkirim:"",no:"",tipe:""}},created(){this.nokirim,this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()]},methods:{today(){return new Date().toJSON().slice(0,10)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"};return new Date(t).toLocaleDateString("id",e)},page(){return this.$emit("page",this.pageTitle)},getPengirimanHead(){const t="/pengiriman_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.pengirimanHead=n.data}).catch(n=>this.$router.push("login"))},getPengirimanDetail(){const t="/pengiriman_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.kirim_detail=n.data}).catch(n=>this.$router.push("login"))},getPenjualanHead(){const t="/penjualan_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.penjualanHead=n.data}).catch(n=>this.$router.push("login"))},tujuanBongkar(){const t="/alamat_bongkar";P.getData(t).then(e=>{this.alamatBongkar=e.data}).catch(e=>this.$router.push("login"))},getPelanggan(){const t="/pelanggan";P.getData(t).then(e=>{this.pelanggan=e.data}).catch(e=>this.$router.push("login"))},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},alamatPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].alamat},Penjualandetl(t){for(let e=0;e<this.kirim_detail.length;e++)if(this.kirim_detail[e].no_pengiriman==t)return this.kirim_detail[e]},pjl_detail(t){for(let e=0;e<this.pengirimanHead.length;e++)for(let n=0;n<this.penjualanHead.length;n++)if(this.pengirimanHead[e].no_pengiriman==t&&this.penjualanHead[n].no_penjualan==this.pengirimanHead.no_penjualan)return this.penjualanHead[n]},namaTujuan(t){for(let e=0;e<this.alamatBongkar.length;e++)if(this.alamatBongkar[e].kode_pelanggan==t)return this.alamatBongkar[e].nama},selected(){this.getPengirimanHead(),this.getPengirimanDetail(),this.getPenjualanHead()},printdata(){let t=[];for(let e=0;e<this.pengirimanHead.length;e++)t.push({no_pengiriman:this.pengirimanHead[e].no_pengiriman,tgl_pengiriman:this.pengirimanHead[e].tgl_pengiriman,kode_pelanggan:this.namaPelanggan(this.pengirimanHead[e].kode_pelanggan),kode_alamat_bongkar:this.namaTujuan(this.pengirimanHead[e].kode_alamat_bongkar),supir:this.pengirimanHead[e].supir,no_polisi:this.pengirimanHead[e].no_polisi});return t},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.printdata(),margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},reset(){this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected()},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},inputhead(t,e){let n={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,no_polisi:t.no_polisi,user_input:"admin",tgl_input:this.tgl,tgl_batal:t.tgl_batal,user_batal:t.user_batal,status:!0};const r=JSON.stringify(n),i=JSON.stringify(e);console.log({pengiriman_head:r,pengiriman_detail:i})},del(t,e){let n={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,no_polisi:t.no_polisi,user_input:t.user_input,tgl_input:t.tgl_input,tgl_batal:t.tgl_batal,user_batal:"admin",status:!1};const r=JSON.stringify(n),i=JSON.stringify(e);console.log({pengiriman_head:r,pengiriman_detail:i})}},mounted(){this.page(),this.getPengirimanHead(),this.getPengirimanDetail(),this.getPelanggan(),this.getPenjualanHead(),this.tujuanBongkar()}},ja=le();ie(()=>{const t=new Date;ja.value=[t,t]});const Ta=Object.assign(wa,{__name:"SendView",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-text-field"),j=o("v-container"),S=o("v-div"),x=o("v-sheet"),y=o("v-navigation-drawer"),_=o("v-responsive"),k=o("v-list-item"),f=o("v-list"),T=o("v-menu"),L=o("v-row"),w=o("v-icon");return u(),C(N,null,[a(y,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[5]||(n[5]=d=>e.filter=d),location:"left",width:"320"},{default:l(()=>[a(x,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[V("div",ka,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=d=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(j,{class:"pt-3 px-4"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Periode")]),_:1}),a(g),a(c,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":n[1]||(n[1]=d=>e.filtered.periode[0]=d),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(c,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":n[2]||(n[2]=d=>e.filtered.periode[1]=d),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(j,{class:"py-3 px-4"},{default:l(()=>[a(S,{class:"d-flex justify-end"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:n[3]||(n[3]=d=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-5",color:"orange-lighten-1",height:"42",onClick:n[4]||(n[4]=d=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(j,{class:"pt-9 h-100"},{default:l(()=>[a(L,{"no-gutters":"",class:"rounded-t-xl align-start mt-n4 mb-2"},{default:l(()=>[a(_,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[V("div",va,[a(i,{onClick:n[6]||(n[6]=d=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"}),a(ce,{onInputhead:e.inputhead,kirim:!0,edit:!1,supplier:e.pelanggan,datainput:e.datainput,pageTitle:e.pageTitle,btn:e.btn,headDetails:e.headDetails,details:e.items,headers:e.headers,items:e.items,search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[0].text,btncolor:t.actIcon[0].color,icon:t.actIcon[0].icon,iVariant:t.actIcon[0].variant,alpha:e.alpha,actIcon:t.actIcon,datatext:e.datatext},null,8,["onInputhead","supplier","datainput","pageTitle","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha","actIcon","datatext"])])]),_:1}),a(_,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[V("div",ya,[a(c,{modelValue:e.search,"onUpdate:modelValue":n[7]||(n[7]=d=>e.search=d),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border me-2 text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(T,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(f,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(d,h)=>(u(),m(k,{key:h,value:h,onClick:D=>e.print(h),density:"compact",class:"text-caption","prepend-icon":d.icon},{default:l(()=>[s(p(d.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a(x,{height:"90%"},{default:l(()=>[a(F(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",headers:e.headers,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 px-5 h-100",height:"100%"},{"item.tgl_pengiriman":l(({item:d})=>[s(p(e.formatDate(d.raw.tgl_pengiriman)),1)]),"item.kode_pelanggan":l(({item:d})=>[V("td",null,p(e.namaPelanggan(d.raw.kode_pelanggan)),1)]),"item.kode_alamat_bongkar":l(({item:d})=>[V("td",null,p(e.namaTujuan(d.raw.kode_alamat_bongkar)),1)]),"item.actions":l(({item:d})=>[a(i,{size:"small",variant:"text",color:"grey-darken-2"},{default:l(()=>[a(w,null,{default:l(()=>[s("mdi-dots-vertical")]),_:1}),a(T,{activator:"parent",transition:"slide-y-transition"},{default:l(()=>[a(f,{density:"compact",class:"px-3"},{default:l(()=>[a(k,{class:"pa-0"},{default:l(()=>[a(ce,{batalbtn:"Pengiriman",kirim:!0,edit:!0,onDel:e.del,namaPelanggan:e.namaPelanggan(d.raw.kode_pelanggan),alamatPelanggan:e.alamatPelanggan(d.raw.kode_pelanggan),namaTujuan:e.namaTujuan(d.raw.kode_alamat_bongkar),pengiriman:e.Penjualandetl(d.raw.no_pengiriman),nokirim:d.raw.no_pengiriman,detail_kirim:e.kirim_detail,nopjl:e.Penjualandetl(d.raw.no_pengiriman).no_penjualan,pjl_detail:e.pjl_detail(d.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:e.headDetails,headers:e.headers,items:d.raw,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,alpha:e.alpha,actIcon:t.actIcon,disable:!0},null,8,["onDel","namaPelanggan","alamatPelanggan","namaTujuan","pengiriman","nokirim","detail_kirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items","iTitle","btncolor","icon","iVariant","alpha","actIcon"])]),_:2},1024),a(ke,{alamatPelanggan:e.alamatPelanggan(d.raw.kode_pelanggan),namaPelanggan:e.namaPelanggan(d.raw.kode_pelanggan),namaTujuan:e.namaTujuan(d.raw.kode_alamat_bongkar),pengiriman:e.Penjualandetl(d.raw.no_pengiriman),items:d.raw,nokirim:d.raw.no_pengiriman,detail_kirim:e.kirim_detail,nopjl:e.Penjualandetl(d.raw.no_pengiriman).no_penjualan},null,8,["alamatPelanggan","namaPelanggan","namaTujuan","pengiriman","items","nokirim","detail_kirim","nopjl"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["headers","items","search"])]),_:1})]),_:1})],64)}}});const xa={class:"d-flex align-center"},Va={class:"d-flex"},Da={components:{TableVue:$,AppBar:K},props:["page","actIcon","cetak"],data(){return{drawer:null,search:"",searched:"",group_barang:[],kode_barang:[],filter:!1,dialoggb:!1,pageTitle:"LAPORAN STOK BARANG",selectCategory:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",alpha:1,category:["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],headers:[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],items:"",barang:"",filtered:{kategori_barang:[],group_barang:[],kode_barang:[]}}},computed:{dataitem(){let t="",e=[];for(let n=0;n<this.items.length;n++)e.push(this.items[n].kode_barang);return t},filterkodegroup(){return this.barang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))},selected(){if(this.selectCategory.length===0)return this.barang;{let t=[],e=this.barang.filter(n=>this.selectCategory.includes(n.kategori_barang));for(let n=0;n<e.length;n++)t.push(e[n].kode_barang);return this.barang.filter(n=>t.includes(n.kode_barang))}},kodebarang(){let t=[];for(let e=0;e<this.barang.length;e++)t.push(this.barang[e].kode_barang);return t},filter_kodebarang(){let t=this.selected;return this.kode_barang.length===0?t:t.filter(e=>this.kode_barang.includes(e.kode_barang))}},methods:{data(){let t=this.filter_kodebarang;return this.group_barang.length===0?t:t.filter(e=>this.group_barang.includes(e.kode_group))},addKodeGroup(t){return this.filtered.group_barang.push(t)},pages(){return this.$emit("page",this.pageTitle)},getData(){P.getData("/group_barang").then(t=>{this.items=t.data}).catch(()=>this.$router.push("login"))},getDataBarang(){P.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>this.$router.push("login"))},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"portrait",unit:"in",format:"letter"});var e=this.pageTitle,n=this.headers;t.setFontSize(16).text(e,.5,1),t.autoTable({columns:n,body:this.items,margin:{left:.5,top:1.25}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},kodegroup(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].kode_group);return t},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[],this.group_barang=this.filtered.group_barang,this.kode_barang=this.filtered.kode_barang},reset(){this.filtered.group_barang=[],this.filtered.kode_barang=[],this.filtered.kategori_barang=[],this.selectCategory=[],this.group_barang=[]}},mounted(){this.getData(),this.getDataBarang(),this.pages()}},Aa=Object.assign(Da,{__name:"StockReport",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-checkbox"),j=o("v-container"),S=o("v-combobox"),x=o("v-div"),y=o("v-sheet"),_=o("v-navigation-drawer"),k=o("v-responsive"),f=o("v-text-field"),T=o("v-list-item"),L=o("v-list"),w=o("v-menu"),d=o("v-row");return u(),C(N,null,[a(_,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[6]||(n[6]=h=>e.filter=h),location:"left",width:"320"},{default:l(()=>[a(y,{class:"rounded-xl py-5"},{default:l(()=>[V("div",xa,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=h=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(j,{class:"py-3 px-4"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Kategori Barang")]),_:1}),a(g),(u(!0),C(N,null,E(e.category,(h,D)=>(u(),m(c,{key:D,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":n[1]||(n[1]=I=>e.filtered.kategori_barang=I),label:h,value:h,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Kode Group")]),_:1}),a(g),a(S,{items:e.kodegroup(),modelValue:e.filtered.group_barang,"onUpdate:modelValue":n[2]||(n[2]=h=>e.filtered.group_barang=h),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto h-50","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Kode Barang")]),_:1}),a(g),a(S,{items:e.kodebarang,modelValue:e.filtered.kode_barang,"onUpdate:modelValue":n[3]||(n[3]=h=>e.filtered.kode_barang=h),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto h-50","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"]),a(x,{class:"d-flex justify-end mt-3"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:n[4]||(n[4]=h=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:n[5]||(n[5]=h=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(j,{class:"pt-9 h-100"},{default:l(()=>[a(d,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[a(k,null,{default:l(()=>[a(i,{onClick:n[7]||(n[7]=h=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),a(k,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[V("div",Va,[a(f,{modelValue:e.search,"onUpdate:modelValue":n[8]||(n[8]=h=>e.search=h),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(w,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(L,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(h,D)=>(u(),m(T,{key:D,value:D,onClick:I=>e.print(D),density:"compact",class:"text-caption","prepend-icon":h.icon},{default:l(()=>[s(p(h.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a($,{id:"tbl_exporttable_to_xls",stokbarang:e.items,groupbarang:e.items,barang:e.barang,headers:e.headers,items:e.data(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[1].text,btncolor:t.actIcon[1].color,icon:t.actIcon[1].icon,iVariant:t.actIcon[1].variant,alpha:e.alpha,laporanstok:!0},null,8,["stokbarang","groupbarang","barang","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha"])]),_:1})],64)}}}),Sa={class:"d-flex align-center"},Pa={class:"d-flex"},Ua={components:{VDataTable:z,PemasukanDetail:ue,AppBar:K},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,pageTitle:"LAPORAN PEMASUKAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pembelian",key:"no_pembelian"},{title:"Tanggal Pembelian",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"nama"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Total Nilai",key:"total_nilai"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions",sortable:!1}],details:"",items:"",pembeliandetl:"",barang:"",supplier:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.today()},methods:{page(){return this.$emit("page",this.pageTitle)},today(){let t=new Date().toJSON().slice(0,10);return this.periode=this.filtered.periode=[t,t]},getPembelian(){const t="/pembelian_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.items=n.data}).catch(n=>this.$router.push("login"))},getPembelianDetail(){const t="/pembelian_detail?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>this.pembeliandetl=n.data).catch(n=>this.$router.push("login"))},getSupplier(){const t="/supplier";P.getData(t).then(e=>{this.supplier=e.data}).catch(e=>this.$router.push("login"))},getData(){P.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>this.$router.push("login"))},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.getPembelian(),this.getPembelianDetail(),this.getSupplier(),this.getData()},dataTable(t,e){if(e==="nama"){for(let n=0;n<this.supplier.length;n++)if(t==this.supplier[n].kode_supplier)return this.supplier[n].nama}if(e=="total")return this.numb(t);if(e==="kategori"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="diterima"){for(let n=0;n<this.pembeliandetl.length;n++)for(let r=0;r<this.barang.length;r++)if(t==this.pembeliandetl[n].no_pembelian){if(e=="diterima")return this.numb(this.pembeliandetl[n].jumlah_diterima);if(this.pembeliandetl[n].kode_barang==this.barang[r].kode_barang){if(e=="kategori")return this.barang[r].kategori_barang;if(e=="namabrg")return this.barang[r].nama_barang;if(e=="hscode")return this.barang[r].hs_code;if(e=="satuan")return this.barang[r].satuan}}}},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,nama:this.dataTable(this.items[e].kode_supplier,"nama"),kategori_barang:this.dataTable(this.items[e].no_pembelian,"kategori"),nama_barang:this.dataTable(this.items[e].no_pembelian,"namabrg"),hs_code:this.dataTable(this.items[e].no_pembelian,"hscode"),satuan:this.dataTable(this.items[e].no_pembelian,"satuan"),jumlah_diterima:this.dataTable(this.items[e].no_pembelian,"diterima"),total_nilai:this.dataTable(this.items[e].total_nilai,"total")});return t},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"potrait",unit:"in",format:"a4"});let e=this.pageTitle,n=this.headers;t.setFontSize(14).text(e,.5,.5).setFont("Arial",20),t.autoTable({columns:n,body:this.printdata(),margin:{left:.1,top:.75,right:.1}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},reset(){this.filtered.selectdokumen=[],this.today(),this.selectdokumen=[],this.getPembelian()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page()}},Ca=le();ie(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));Ca.value=[t,e]});const Ba=Object.assign(Ua,{__name:"InReport",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-text-field"),j=o("v-container"),S=o("v-checkbox"),x=o("v-div"),y=o("v-sheet"),_=o("v-navigation-drawer"),k=o("v-responsive"),f=o("v-list-item"),T=o("v-list"),L=o("v-menu"),w=o("v-row");return u(),C(N,null,[a(_,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[6]||(n[6]=d=>e.filter=d),location:"left",width:"320"},{default:l(()=>[a(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[V("div",Sa,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=d=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(j,{class:"mb-n10"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Periode")]),_:1}),a(g),a(c,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":n[1]||(n[1]=d=>e.filtered.periode[0]=d),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(c,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":n[2]||(n[2]=d=>e.filtered.periode[1]=d),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Tipe Dokumen")]),_:1}),a(g),(u(!0),C(N,null,E(e.tipedokumen,(d,h)=>(u(),m(S,{key:h,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":n[3]||(n[3]=D=>e.filtered.selectdokumen=D),label:d,value:d,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),a(x,{class:"d-flex justify-end mt-12"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:n[4]||(n[4]=d=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:n[5]||(n[5]=d=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(j,{class:"pt-9 h-100"},{default:l(()=>[a(w,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[a(k,null,{default:l(()=>[a(i,{onClick:n[7]||(n[7]=d=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),a(k,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[V("div",Pa,[a(c,{modelValue:e.search,"onUpdate:modelValue":n[8]||(n[8]=d=>e.search=d),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(L,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(T,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(d,h)=>(u(),m(f,{key:h,value:h,onClick:D=>e.print(h),density:"compact",class:"text-caption","prepend-icon":d.icon},{default:l(()=>[s(p(d.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a(y,{height:"90%"},{default:l(()=>[a(F(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 h-100",height:"100%"},{"item.nama":l(({item:d})=>[s(p(e.dataTable(d.raw.kode_supplier,"nama")),1)]),"item.kategori_barang":l(({item:d})=>[s(p(e.dataTable(d.raw.no_pembelian,"kategori")),1)]),"item.nama_barang":l(({item:d})=>[s(p(e.dataTable(d.raw.no_pembelian,"namabrg")),1)]),"item.hs_code":l(({item:d})=>[s(p(e.dataTable(d.raw.no_pembelian,"hscode")),1)]),"item.satuan":l(({item:d})=>[s(p(e.dataTable(d.raw.no_pembelian,"satuan")),1)]),"item.jumlah_diterima":l(({item:d})=>[s(p(e.dataTable(d.raw.no_pembelian,"diterima")),1)]),"item.total_nilai":l(({item:d})=>[s(p(e.dataTable(d.raw.total_nilai,"total")),1)]),"item.actions":l(({item:d})=>[a(ue,{batalbtn:"Pemasukan",onDel:e.del,namaSupplier:e.dataTable(d.raw.kode_supplier,"nama"),pembelian:e.dataTable(d.raw.no_pembelian,"pembelian"),edit:!0,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:e.details,headers:e.headers,items:d.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,iTitle:t.actIcon[3].text,btncolor:t.actIcon[3].color,icon:t.actIcon[3].icon,iVariant:t.actIcon[3].variant,actIcon:t.actIcon,pageTitle:e.pageTitle},null,8,["onDel","namaSupplier","pembelian","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","actIcon","pageTitle"])]),_:1},8,["items","headers","search"])]),_:1})]),_:1})],64)}}}),Ia={class:"d-flex align-center"},Na={class:"d-flex"},La={components:{AppBar:K},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,pageTitle:"LAPORAN PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC25","BC41"],headers:[{title:"Nomor Penjualan",key:"no_penjualan"},{title:"Tgl Penjualan",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Tgl Dokumen",key:"tgl_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah",key:"jumlah"},{title:"",key:"actions",sortable:!1}],items:"",pjldetail:"",pelanggan:"",barang:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.today()},methods:{today(){let t=new Date().toJSON().slice(0,10);return this.periode=this.filtered.periode=[t,t]},getPenjualan(){const t="/penjualan_head?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.items=n.data}).catch(n=>this.$router.push("login"))},getPenjualanDetail(){const t="/penjualan_detail",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.pjldetail=n.data}).catch(n=>this.$router.push("login"))},getPelanggan(){const t="/pelanggan";P.getData(t).then(e=>{this.pelanggan=e.data}).catch(e=>this.$router.push("login"))},getData(){P.getData("/barang?status=true").then(t=>{this.barang=t.data}).catch(()=>this.$router.push("login"))},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},updt(){this.getPenjualan(),this.getPenjualanDetail()},page(){return this.$emit("page",this.pageTitle)},dataTable(t,e){if(e==="nama"){for(let n=0;n<this.pelanggan.length;n++)if(t==this.pelanggan[n].kode_pelanggan)return this.pelanggan[n].nama}if(e=="total")return this.numb(t);if(e=="kategori"||e=="kodebrg"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="jumlah"){for(let n=0;n<this.pjldetail.length;n++)for(let r=0;r<this.barang.length;r++)if(t==this.pjldetail[n].no_penjualan){if(e=="kodebrg")return this.pjldetail[n].kode_barang;if(e=="kategori"){if(this.pjldetail[n].kode_barang==this.barang[r].kode_barang)return this.barang[r].kategori_barang}else{if(e=="namabrg")return this.pjldetail[n].nama_barang;if(e=="hscode")return this.pjldetail[n].hs_code;if(e=="satuan")return this.pjldetail[n].satuan;if(e=="jumlah")return this.numb(this.pjldetail[n].jumlah)}}}},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"potrait",unit:"in",format:"a4"});let e=this.pageTitle,n=this.headers;t.setFontSize(14).text(e,.5,.5).setFont("Arial",20),t.autoTable({columns:n,body:this.printdata(),margin:{left:.1,top:.75,right:.1}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_penjualan:this.items[e].no_penjualan,tgl_penjualan:this.items[e].tgl_penjualan,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,tgl_dokumen:this.items[e].tgl_dokumen,nama:this.dataTable(this.items[e].kode_pelanggan,"nama"),kode_group:this.dataTable(this.items[e].no_penjualan,"kodebrg"),kategori_barang:this.dataTable(this.items[e].no_penjualan,"kategori"),nama_barang:this.dataTable(this.items[e].no_penjualan,"namabrg"),hs_code:this.dataTable(this.items[e].no_penjualan,"hscode"),satuan:this.dataTable(this.items[e].no_penjualan,"satuan"),jumlah:this.dataTable(this.items[e].no_penjualan,"jumlah")});return t},reset(){this.filtered.selectdokumen=[],this.today(),this.selectdokumen=[],this.getPenjualan()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.getData(),this.getPelanggan()}},Ea=le();ie(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));Ea.value=[t,e]});const Ra=Object.assign(La,{__name:"OutReport",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-text-field"),j=o("v-container"),S=o("v-checkbox"),x=o("v-div"),y=o("v-sheet"),_=o("v-navigation-drawer"),k=o("v-responsive"),f=o("v-list-item"),T=o("v-list"),L=o("v-menu"),w=o("v-row");return u(),C(N,null,[a(_,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[6]||(n[6]=d=>e.filter=d),location:"left",width:"320"},{default:l(()=>[a(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[V("div",Ia,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=d=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(j,{class:"mb-n10"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Periode")]),_:1}),a(g),a(c,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":n[1]||(n[1]=d=>e.filtered.periode[0]=d),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(c,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":n[2]||(n[2]=d=>e.filtered.periode[1]=d),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Tipe Dokumen")]),_:1}),a(g),(u(!0),C(N,null,E(e.tipedokumen,(d,h)=>(u(),m(S,{key:h,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":n[3]||(n[3]=D=>e.filtered.selectdokumen=D),label:d,value:d,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),a(x,{class:"d-flex justify-end mt-12"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:n[4]||(n[4]=d=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:n[5]||(n[5]=d=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(j,{class:"pt-9 h-100"},{default:l(()=>[a(w,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[a(k,null,{default:l(()=>[a(i,{onClick:n[7]||(n[7]=d=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),a(k,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[V("div",Na,[a(c,{modelValue:e.search,"onUpdate:modelValue":n[8]||(n[8]=d=>e.search=d),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(L,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(T,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(d,h)=>(u(),m(f,{key:h,value:h,onClick:D=>e.print(h),density:"compact",class:"text-caption","prepend-icon":d.icon},{default:l(()=>[s(p(d.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a(y,{height:"90%"},{default:l(()=>[a(F(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 h-100",height:"100%"},{"item.nama":l(({item:d})=>[s(p(e.dataTable(d.raw.kode_pelanggan,"nama")),1)]),"item.kategori_barang":l(({item:d})=>[s(p(e.dataTable(d.raw.no_penjualan,"kategori")),1)]),"item.kode_barang":l(({item:d})=>[s(p(e.dataTable(d.raw.no_penjualan,"kodebrg")),1)]),"item.nama_barang":l(({item:d})=>[s(p(e.dataTable(d.raw.no_penjualan,"namabrg")),1)]),"item.hs_code":l(({item:d})=>[s(p(e.dataTable(d.raw.no_penjualan,"hscode")),1)]),"item.satuan":l(({item:d})=>[s(p(e.dataTable(d.raw.no_penjualan,"satuan")),1)]),"item.jumlah":l(({item:d})=>[s(p(e.dataTable(d.raw.no_penjualan,"jumlah")),1)]),_:1},8,["items","headers","search"])]),_:1})]),_:1})],64)}}}),Oa={class:"d-flex align-center"},Ja={class:"d-flex"},Fa={components:{AppBar:K},props:["actIcon","cetak"],data(){return{drawer:null,search:"",periode:[],filter:!1,pageTitle:"LAPORAN LOG USER",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,datauser:["admin","beacukai"],headers:[{title:"Tanggal",key:"tanggal"},{title:"Username",key:"username"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"}],selectuser:[],items:"",user:"",filtered:{selectuser:[],periode:[]}}},created(){this.today()},methods:{today(){let t=new Date().toJSON().slice(0,10);return this.periode=this.filtered.periode=[t,t]},getUser(){const t="/user?";P.getData(t).then(e=>{this.user=e.data}).catch(e=>this.$router.push("login"))},getLogUser(){const t="/log_user?",e={tgl_awal:this.periode[0],tgl_akhir:this.periode[1]};P.getData(t,{params:e}).then(n=>{this.items=n.data}).catch(n=>this.$router.push("login"))},selected(){return this.selectuser.length===0?this.items:this.items.filter(t=>this.selectuser.includes(t.username))},print(t){if(t==0)return this.ExportToExcel("xlsx");if(t==1)return this.generatePDF()},generatePDF(){const t=new Z({orientation:"potrait",unit:"in",format:"a4"});let e=this.pageTitle,n=this.headers;t.setFontSize(14).text(e,.5,.5).setFont("Arial",20),t.autoTable({columns:n,body:this.items,margin:{left:.1,top:.75,right:.1}}).save(`${this.pageTitle}.pdf`)},ExportToExcel(t,e,n){var r=document.getElementById("tbl_exporttable_to_xls"),i=XLSX.utils.table_to_book(r,{sheet:"sheet1"});return n?XLSX.write(i,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(i,e||this.pageTitle+"."+(t||"xlsx"))},page(){return this.$emit("page",this.pageTitle)},updt(){this.getUser(),this.getLogUser()},reset(){this.filtered.selectuser=[],this.today(),this.selectuser=[],this.getLogUser()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectuser=this.filtered.selectuser,this.selectuser?this.selectuser==[]&&(this.selectuser=[]):this.selectuser=[]}},mounted(){this.page()}},Ka=le();ie(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));Ka.value=[t,e]});const Ga=Object.assign(Fa,{__name:"LogView",setup(t){return(e,n)=>{const r=o("v-span"),i=o("v-btn"),g=o("v-divider"),c=o("v-text-field"),j=o("v-container"),S=o("v-checkbox"),x=o("v-div"),y=o("v-sheet"),_=o("v-navigation-drawer"),k=o("v-responsive"),f=o("v-list-item"),T=o("v-list"),L=o("v-menu"),w=o("v-row"),d=o("v-data-table");return u(),C(N,null,[a(_,{class:"border-0 me-4 elevation-0",modelValue:e.filter,"onUpdate:modelValue":n[6]||(n[6]=h=>e.filter=h),location:"left",width:"320"},{default:l(()=>[a(y,{class:"rounded-xl py-5 bg-white"},{default:l(()=>[V("div",Oa,[a(r,{class:"text-button ms-4"},{default:l(()=>[s("Filter")]),_:1}),a(i,{size:"small",icon:"mdi-close",onClick:n[0]||(n[0]=h=>e.filter=!1),variant:"text",class:"me-3 ms-auto"})]),a(j,{class:"mb-n10"},{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("Periode")]),_:1}),a(g),a(c,{modelValue:e.filtered.periode[0],"onUpdate:modelValue":n[1]||(n[1]=h=>e.filtered.periode[0]=h),class:"mt-4",label:"Tgl Awal",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"]),a(c,{modelValue:e.filtered.periode[1],"onUpdate:modelValue":n[2]||(n[2]=h=>e.filtered.periode[1]=h),label:"Tgl Akhir",type:"date",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(j,null,{default:l(()=>[a(r,{class:"text-caption text-weight-bold"},{default:l(()=>[s("User")]),_:1}),a(g),(u(!0),C(N,null,E(e.datauser,(h,D)=>(u(),m(S,{key:D,modelValue:e.filtered.selectuser,"onUpdate:modelValue":n[3]||(n[3]=I=>e.filtered.selectuser=I),label:h,value:h,color:"orange-lighten-1",class:"mb-n6","hide-details":""},null,8,["modelValue","label","value"]))),128)),a(x,{class:"d-flex justify-end mt-12"},{default:l(()=>[a(i,{class:"elevation-0 text-small mt-5 me-2 bg-grey-lighten-2",height:"42",onClick:n[4]||(n[4]=h=>e.reset())},{default:l(()=>[s("Reset")]),_:1}),a(i,{class:"elevation-0 text-small mt-5 text-white",color:"orange-lighten-1",height:"42",onClick:n[5]||(n[5]=h=>e.filterdata())},{default:l(()=>[s("Filter")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e.pageTitle!=null?(u(),m(K,{key:0,pageTitle:e.pageTitle},null,8,["pageTitle"])):b("",!0),a(j,{class:"pt-9 h-100"},{default:l(()=>[a(w,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[a(k,null,{default:l(()=>[a(i,{onClick:n[7]||(n[7]=h=>e.filter=!e.filter),class:"rounded-circle text-caption elevation-0 bg-grey-lighten-4 text-indigo me-2",icon:"mdi-tune-vertical",size:"small"})]),_:1}),a(k,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[V("div",Ja,[a(c,{modelValue:e.search,"onUpdate:modelValue":n[8]||(n[8]=h=>e.search=h),density:"compact",variant:"text",class:"text-indigo-darken-4 rounded-xl border text-body-2 font-small","prepend-inner-icon":"mdi-magnify",placeholder:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),a(i,{id:"cetak",color:"indigo",icon:"mdi-dots-vertical",class:"rounded-xl mx-2 elevation-0 bg-grey-lighten-4 text-indigo",size:"small"}),a(L,{activator:"#cetak",transition:"slide-y-transition"},{default:l(()=>[a(T,null,{default:l(()=>[(u(!0),C(N,null,E(t.cetak,(h,D)=>(u(),m(f,{key:D,value:D,onClick:I=>e.print(D),density:"compact",class:"text-caption","prepend-icon":h.icon},{default:l(()=>[s(p(h.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})])]),_:1})]),_:1}),a(d,{id:"tbl_exporttable_to_xls","items-per-page":e.selected().length,items:e.selected(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-3 h-100",height:"100%"},{bottom:l(()=>[]),_:1},8,["items-per-page","items","headers","search"]),a($,{id:"tbl_exporttable_to_xls",headers:e.headers,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,iTitle:t.actIcon[1].text,btncolor:t.actIcon[1].color,icon:t.actIcon[1].icon,iVariant:t.actIcon[1].variant,alpha:e.alpha},null,8,["headers","items","search","category","selectCategory","iTitle","btncolor","icon","iVariant","alpha"])]),_:1})],64)}}}),me=De({history:Ae(),routes:[{path:"/",meta:{middleware:[H]},redirect:{name:"itemsView"}},{path:"/login",name:"login",component:pt},{path:"/items",name:"itemsView",meta:{middleware:[H]},component:$e},{path:"/customers",name:"customers",meta:{middleware:[H]},component:bt},{path:"/suppliers",name:"suppliers",meta:{middleware:[H]},component:vt},{path:"/users",name:"users",meta:{middleware:[H]},component:Tt},{path:"/in",name:"initems",meta:{middleware:[H]},component:Et},{path:"/production",name:"productions",meta:{middleware:[H]},component:Xt},{path:"/out",name:"outitems",meta:{middleware:[H]},component:ea},{path:"/send",name:"send",meta:{middleware:[H]},component:Ta},{path:"/stock-report",name:"stockreport",meta:{middleware:[H]},component:Aa},{path:"/in-report",name:"inreport",meta:{middleware:[H]},component:Ba},{path:"/out-report",name:"outreport",meta:{middleware:[H]},component:Ra},{path:"/log-report",name:"log",meta:{middleware:[H]},component:Ga}]});me.beforeEach((t,e,n)=>{if(!t.meta.middleware)return n();const r=t.meta.middleware,i={from:e,next:n,router:me,to:t};return r[0]({...i,next:ve(i,r,1)})});function ve(t,e,n){const r=e[n];return r?()=>{const i=ve(t,e,n+1);r({...t,next:i})}:t.next}const de=Se.create({baseURL:"https://auristeel.com/api",headers:{"Permissions-Policy":"interest-cohort=()",csrf:localStorage.getItem("token"),accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*","access-control-allow-credentials":!0,"access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE"}}),P={postLogin(t){return de.post("/login",t)},getData(t,e){return de.get(t,e)},postData(t,e){return de.post(t,e)},putData(t,e){return de.patch(t,e)},deleteData(t,e){return de.delete(t,{data:e})},logout(){localStorage.removeItem("token"),localStorage.clear(),sessionStorage.clear(),me.push({path:"/login"})}};const za=t=>(Pe("data-v-5d1ebd62"),t=t(),Ue(),t),Xa=za(()=>V("img",{src:Re,width:"50"},null,-1)),Ma={class:"pb-5"},Ha={key:3,class:"d-flex flex-column"},qa={class:"pb-5"},Wa={props:["act","pageTitle"],data(){return{windowWidth:window.innerWidth,master:["master"],pages:[{key:"master",value:"Master"},{key:"masuk",value:"Pemasukan Barang"},{key:"produksi",value:"Produksi"},{key:"keluar",value:"Pengeluaran Barang"},{key:"kirim",value:"Pengiriman Barang"},{key:"laporan",value:"Laporan"}],navtitle:"",drawer:null,rail:!0,drawerMaster:null,pemasukan:"",pemasukandetail:"",pengeluaran:"",pengeluarandetail:"",produksi:"",produksidetail:"",kirim:"",title:""}},computed:{pemasukan_brg(){let t=this.pemasukan.slice(-3),e=[],n={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let r=0;r<t.length;r++)for(let i=0;i<this.pemasukandetail.length;i++)if(t[r].no_pembelian==this.pemasukandetail[i].no_pembelian){let g={periode:new Date(t[r].tgl_pembelian).toLocaleDateString("id",n),nama:this.pemasukandetail[i].nama_barang,jumlah:this.pemasukandetail[i].jumlah,satuan:this.pemasukandetail[i].satuan,user:t[r].user_input};e.push(g)}return e},produksi_h(){let t=this.produksi.slice(-2),e=[],n={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let r=0;r<t.length;r++)for(let i=0;i<this.produksidetail.length;i++)if(t[r].no_produksi==this.produksidetail[i].no_produksi){let g={periode:new Date(t[r].tgl_produksi).toLocaleDateString("id",n),nama:this.produksidetail[i].nama_barang,jumlah:this.produksidetail[i].jumlah,satuan:this.produksidetail[i].satuan,user:t[r].user_input};e.push(g)}return e},pengeluaran_h(){let t=this.pengeluaran.slice(-3),e=[],n={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let r=0;r<t.length;r++)for(let i=0;i<this.pengeluarandetail.length;i++)if(t[r].no_penjualan==this.pengeluarandetail[i].no_penjualan){let g={periode:new Date(t[r].tgl_penjualan).toLocaleDateString("id",n),nama:this.pengeluarandetail[i].nama_barang,jumlah:this.pengeluarandetail[i].jumlah,satuan:this.pengeluarandetail[i].satuan,user:t[r].user_input};e.push(g)}return e},kirim_h(){let t=this.kirim.slice(-2),e=[],n={day:"2-digit",year:"numeric",month:"long",weekday:"long"};for(let r=0;r<t.length;r++)for(let i=0;i<this.kirimdetail.length;i++)if(t[r].no_pengiriman==this.kirimdetail[i].no_pengiriman){let g={periode:new Date(t[r].tgl_pengiriman).toLocaleDateString("id",n),nama:this.kirimdetail[i].nama_barang,jumlah:this.kirimdetail[i].jumlah,satuan:this.kirimdetail[i].satuan,user:t[r].user_input};e.push(g)}return e}},methods:{page(){if(this.pageTitle=="DATA BARANG"||this.pageTitle=="DATA PELANGGAN"||this.pageTitle=="DATA SUPPLIER"||this.pageTitle=="DATA USER")return!0},getPembelian(){const t="/pembelian_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>this.pemasukan=n.data).catch(n=>this.$router.push("login"))},getPembelianDetail(){const t="/pembelian_detail?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>this.pemasukandetail=n.data).catch(n=>this.$router.push("login"))},getProduksihead(){const t="/produksi_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>{this.produksi=n.data}).catch(n=>this.$router.push("login"))},getProduksiDetail(){const t="/produksi_detail_barang?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>{this.produksidetail=n.data}).catch(n=>this.$router.push("login"))},getPenjualanHead(){const t="/penjualan_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>{this.pengeluaran=n.data}).catch(n=>this.$router.push("login"))},getPenjualanDetail(){const t="/penjualan_detail?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>{this.pengeluarandetail=n.data}).catch(n=>this.$router.push("login"))},getPengirimanHead(){const t="/pengiriman_head?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>{this.kirim=n.data}).catch(n=>this.$router.push("login"))},getPengirimanDetail(){const t="/pengiriman_detail?",e={tgl_awal:"2023-05-01",tgl_akhir:"2023-05-31"};P.getData(t,{params:e}).then(n=>{this.kirimdetail=n.data}).catch(n=>this.$router.push("login"))},numb(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},laporan(){if(this.pageTitle=="LAPORAN STOK BARANG"||this.pageTitle=="LAPORAN PEMASUKAN BARANG"||this.pageTitle=="LAPORAN PENGELUARAN BARANG"||this.pageTitle=="LAPORAN LOG USER")return!0},onResize(){this.windowWidth=window.innerWidth},draw(t){this.drawerMaster=!0;for(let e=0;e<this.pages.length;e++)t==this.pages[e].key&&(this.navtitle=this.pages[e].key);t=="masuk"?this.getPembelian():t=="produksi"?this.getProduksihead():t=="keluar"?this.getPenjualanHead():t=="kirim"&&this.getPengirimanHead(),this.navtitle=null},subnav(){if(this.page())return this.navtitle="master",this.draw("master"),this.page();if(this.pageTitle=="PEMASUKAN BARANG")return this.draw("masuk"),this.pageTitle;if(this.pageTitle=="PRODUKSI BARANG")return this.draw("produksi"),this.pageTitle}},mounted(){this.page(),this.$nextTick(()=>{window.addEventListener("resize",this.onResize),this.getPembelian(),this.getPembelianDetail(),this.getProduksiDetail(),this.getPenjualanDetail(),this.getPengirimanDetail(),this.pageTitle})}},Ya=Object.assign(Wa,{__name:"NavDrawers",setup(t){return(e,n)=>{const r=o("v-avatar"),i=o("v-icon"),g=o("v-tooltip"),c=o("v-list-item"),j=o("v-list"),S=o("v-row"),x=o("v-navigation-drawer"),y=o("v-span"),_=o("v-div"),k=o("v-divider");return u(),C(N,null,[a(x,{class:"py-sm-5 py-0 bg-blue-custom",modelValue:e.drawer,"onUpdate:modelValue":n[6]||(n[6]=f=>e.drawer=f),permanent:"",rail:"",location:e.windowWidth<600?"bottom":"left"},{default:l(()=>[e.windowWidth>600?(u(),m(r,{key:0,class:"mx-2"},{default:l(()=>[Xa]),_:1})):b("",!0),a(S,{class:"justify-center"},{default:l(()=>[a(j,{class:"d-flex flex-sm-column","active-color":"white"},{default:l(()=>[a(c,{class:"rounded-lg text-caption mb-sm-5 mb-0 mt-sm-4 mt-0",value:"master",onClick:n[0]||(n[0]=f=>(t.pageTitle="MASTER",e.draw("master"))),active:e.page()},{default:l(()=>[a(i,null,{default:l(()=>[s("mdi-database")]),_:1}),a(g,{activator:"parent",location:e.windowWidth>700?"start":"top"},{default:l(()=>[s(" Data Master ")]),_:1},8,["location"])]),_:1},8,["active"]),a(F(W),{to:"/in"},{default:l(()=>[a(c,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PEMASUKAN BARANG",value:"inItems",onClick:n[1]||(n[1]=f=>(t.pageTitle="PEMASUKAN BARANG",e.draw("masuk")))},{default:l(()=>[a(i,null,{default:l(()=>[s("mdi-inbox-arrow-down")]),_:1})]),_:1},8,["active"])]),_:1}),a(F(W),{to:"/production"},{default:l(()=>[a(c,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PRODUKSI BARANG",value:"productItems",onClick:n[2]||(n[2]=f=>(t.pageTitle="PRODUKSI BARANG",e.draw("produksi")))},{default:l(()=>[a(i,null,{default:l(()=>[s("mdi-chart-donut")]),_:1}),a(g,{activator:"parent",location:e.windowWidth>700?"start":"top"},{default:l(()=>[s(" Produksi Barang ")]),_:1},8,["location"])]),_:1},8,["active"])]),_:1}),a(F(W),{to:"/out"},{default:l(()=>[a(c,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PENGELUARAN BARANG",value:"outItems",onClick:n[3]||(n[3]=f=>(t.pageTitle="PENGELUARAN BARANG",e.draw("keluar")))},{default:l(()=>[a(i,null,{default:l(()=>[s("mdi-inbox-arrow-up")]),_:1})]),_:1},8,["active"])]),_:1}),a(F(W),{to:"/send"},{default:l(()=>[a(c,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:t.pageTitle=="PENGIRIMAN BARANG",value:"sendItems",onClick:n[4]||(n[4]=f=>(t.pageTitle="PENGIRIMAN BARANG",e.draw("kirim")))},{default:l(()=>[a(i,null,{default:l(()=>[s("mdi-send-variant")]),_:1})]),_:1},8,["active"])]),_:1}),a(c,{class:"rounded-lg text-caption mb-sm-5 mb-0",active:e.laporan(),value:"laporan",onClick:n[5]||(n[5]=f=>(t.pageTitle="LAPORAN",e.draw("laporan")))},{default:l(()=>[a(i,null,{default:l(()=>[s("mdi-folder-outline")]),_:1}),a(g,{activator:"parent",location:e.windowWidth>700?"start":"top"},{default:l(()=>[s(" Laporan ")]),_:1},8,["location"])]),_:1},8,["active"])]),_:1})]),_:1})]),_:1},8,["modelValue","location"]),a(x,{modelValue:e.drawerMaster,"onUpdate:modelValue":n[7]||(n[7]=f=>e.drawerMaster=f),permanent:e.windowWidth>900,class:"border-0 elevation-2"},{default:l(()=>[a(j,{nav:"",density:"comfortable",class:"ms-n2 my-sm-4 my-0","active-color":"#3B7AA9"},{default:l(()=>[a(_,{class:"d-flex align-center"},{default:l(()=>[!e.page()&&!e.laporan()?(u(),m(y,{key:0,class:"text-button ms-5"},{default:l(()=>[s(p(t.pageTitle),1)]),_:1})):b("",!0),e.page()?(u(),m(y,{key:1,class:"text-button ms-5"},{default:l(()=>[s("MASTER")]),_:1})):b("",!0),e.laporan()?(u(),m(y,{key:2,class:"text-button ms-5"},{default:l(()=>[s("LAPORAN")]),_:1})):b("",!0)]),_:1}),a(k,{class:"mb-3"}),t.pageTitle=="MASTER"||e.page()?(u(),m(_,{key:0},{default:l(()=>[a(F(W),{to:"/items"},{default:l(()=>[a(c,{title:"Data Barang",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA BARANG",value:"items"},null,8,["active"])]),_:1}),a(F(W),{to:"/customers"},{default:l(()=>[a(c,{title:"Data Pelanggan",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA PELANGGAN",value:"customers"},null,8,["active"])]),_:1}),a(F(W),{to:"/suppliers"},{default:l(()=>[a(c,{title:"Data Suppliers",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA SUPPLIER",value:"suppliers"},null,8,["active"])]),_:1}),a(F(W),{to:"/users"},{default:l(()=>[a(c,{title:"Data Users",class:"rounded-left-lg ps-6",active:t.pageTitle=="DATA USERS",value:"users"},null,8,["active"])]),_:1})]),_:1})):b("",!0),t.pageTitle=="PEMASUKAN BARANG"?(u(),m(_,{key:1,class:"d-flex flex-column"},{default:l(()=>[a(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[s("Aktivitas Terakhir")]),_:1}),V("div",Ma,[(u(!0),C(N,null,E(e.pemasukan_brg,(f,T)=>(u(),m(_,{key:T,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[a(y,{class:"text-caption"},{default:l(()=>[a(i,{color:"green"},{default:l(()=>[s("mdi-circle-medium")]),_:1}),s(" "+p(f.nama),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s("jumlah : "+p(e.numb(f.jumlah))+" "+p(f.satuan),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s(p(f.periode),1)]),_:2},1024)]),_:2},1024))),128))])]),_:1})):b("",!0),t.pageTitle=="PRODUKSI BARANG"?(u(),m(_,{key:2,class:"d-flex flex-column"},{default:l(()=>[a(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[s("Aktivitas Terakhir")]),_:1}),a(_,null,{default:l(()=>[(u(!0),C(N,null,E(e.produksi_h,(f,T)=>(u(),m(_,{key:T,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[a(y,{class:"text-caption"},{default:l(()=>[a(i,{color:"green"},{default:l(()=>[s("mdi-circle-medium")]),_:1}),s(" "+p(f.nama),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s("jumlah : "+p(e.numb(f.jumlah))+" "+p(f.satuan),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s(p(f.periode),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):b("",!0),t.pageTitle=="PENGELUARAN BARANG"?(u(),C("div",Ha,[a(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[s("Aktivitas Terakhir")]),_:1}),V("div",null,[(u(!0),C(N,null,E(e.pengeluaran_h,(f,T)=>(u(),m(_,{key:T,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[a(y,{class:"text-caption"},{default:l(()=>[a(i,{color:"green"},{default:l(()=>[s("mdi-circle-medium")]),_:1}),s(" "+p(f.nama),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s("jumlah : "+p(e.numb(f.jumlah))+" "+p(f.satuan),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s(p(f.periode),1)]),_:2},1024)]),_:2},1024))),128))])])):b("",!0),t.pageTitle=="PENGIRIMAN BARANG"?(u(),m(_,{key:4,class:"d-flex flex-column"},{default:l(()=>[a(y,{class:"text-body-2 ms-6 mt-5"},{default:l(()=>[s("Aktivitas Terakhir")]),_:1}),V("div",qa,[(u(!0),C(N,null,E(e.kirim_h,(f,T)=>(u(),m(_,{key:T,class:"d-flex flex-column ms-5 pt-5"},{default:l(()=>[a(y,{class:"text-caption"},{default:l(()=>[a(i,{color:"green"},{default:l(()=>[s("mdi-circle-medium")]),_:1}),s(" "+p(f.nama),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s("jumlah : "+p(e.numb(f.jumlah))+" "+p(f.satuan),1)]),_:2},1024),a(y,{class:"ms-5 text-small w-100"},{default:l(()=>[s(p(f.periode),1)]),_:2},1024)]),_:2},1024))),128))])]),_:1})):b("",!0),t.pageTitle=="LAPORAN"||e.laporan()?(u(),m(_,{key:5},{default:l(()=>[a(F(W),{to:"/stock-report"},{default:l(()=>[a(c,{title:"Laporan Stok Barang",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN STOK BARANG",value:"stok"},null,8,["active"])]),_:1}),a(F(W),{to:"/in-report"},{default:l(()=>[a(c,{title:"Laporan Pemasukan",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN PEMASUKAN BARANG",value:"in"},null,8,["active"])]),_:1}),a(F(W),{to:"/out-report"},{default:l(()=>[a(c,{title:"Laporan Pengeluaran",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN PENGELUARAN BARANG",value:"out"},null,8,["active"])]),_:1}),a(F(W),{to:"/log-report"},{default:l(()=>[a(c,{title:"Log User",class:"rounded-left-lg ps-6",active:t.pageTitle=="LAPORAN LOG USER",value:"users"},null,8,["active"])]),_:1})]),_:1})):b("",!0)]),_:1})]),_:1},8,["modelValue","permanent"])],64)}}}),ye=oe(Ya,[["__scopeId","data-v-5d1ebd62"]]),Za={components:{NavDrawers:ye},data(){return{actIcon:[{text:"Tambah Data",icon:"mdi-plus",color:"#3B7AA9",variant:"tonal"},{text:"Edit Data",icon:"mdi-square-edit-outline",color:"#3B7AA9",variant:"text",width:"30px",height:"30px"},{text:"Hapus Data",icon:"mdi-delete",color:"red-darken-1",variant:"text",width:"30px",height:"30px"},{text:"Detail Data",icon:"mdi-dots-vertical",color:"grey-darken-1",variant:"text",width:"30px",height:"30px"}],cetak:[{title:"export ke xlsx",icon:"mdi-download"},{title:"export ke pdf",icon:"mdi-file-pdf-box"}],pageTitle:"",pemasukan:"",produksi:"",pengeluaran:"",kirim:""}},methods:{page(t){this.pageTitle=t}},mounted(){this.page()}},Qa=Object.assign(Za,{__name:"App",setup(t){return(e,n)=>{const r=o("v-main"),i=o("v-layout");return u(),m(i,null,{default:l(()=>[e.pageTitle!=null?(u(),m(ye,{key:0,pageTitle:e.pageTitle,item:e.items,pemasukan:e.pemasukan,produksi:e.produksi,pengeluaran:e.pengeluaran,kirim:e.kirim},null,8,["pageTitle","item","pemasukan","produksi","pengeluaran","kirim"])):b("",!0),a(r,{class:"vh-100 vw-100"},{default:l(()=>[a(F(Ce),{actIcon:e.actIcon,cetak:e.cetak,onPage:e.page,onPages:e.page},null,8,["actIcon","cetak","onPage","onPages"])]),_:1})]),_:1})}}});const $a=Be({theme:{defaultTheme:"light"},icons:{defaultSet:"mdi"},components:Ie,directives:Ne});async function en(){(await Le(()=>import("./webfontloader-a5cddf2e.js").then(e=>e.w),["assets/webfontloader-a5cddf2e.js","assets/vendor-a6a08437.js","assets/vendor-d6f22218.css"])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}en();const _e=Ee(Qa);_e.use(me);_e.use($a);_e.mount("#app");
