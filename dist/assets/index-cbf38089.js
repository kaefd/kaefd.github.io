import{E as it,r as s,o as r,c as d,w as l,a as n,b as m,t as y,m as Z,u as p,V as z,d as N,F as O,n as he,e as c,f as G,g as Pe,h as ke,i as S,j as st,k as ot,l as rt,p as ye,q as We,s as ut,v as fe,x as qe,y as ze,z as Me,A as Qe,B as Te,C as Be,D as dt,G as mt,H as pt,R as me,I as gt,J as ht,K as ct,L as ft,_ as bt,M as _t,Q as kt}from"./vendor-29a0ced7.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const g of u.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function re({next:t,router:e}){return localStorage.getItem("token")==null?e.push({path:"/login"}):t()}const f={day(){return new Date().toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleDateString("id",e);return t!=""?a:""},formatDateTime(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleTimeString("id",{timeStyle:"short"}),i=new Date(t).toLocaleDateString("id",e);return t!=""?i+" "+a:""},tglawal(){let t=new Date;return t.setDate(t.getDate()-7),t.toJSON().slice(0,10)},getTime(){return new Date().toLocaleTimeString("id",{timeStyle:"short"})},numb(t,e,a){return a?(t/1).toFixed(e).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},numb2(t){return(t/1).toFixed(0).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},generatePDF(t,e,a){const i=new it({orientation:"portrait",unit:"in",format:"letter"});let o=t,u=e;i.setFontSize(16).text(o,.5,1),i.autoTable({columns:u,body:a,margin:{left:.5,top:1.25}}).save(`${t}.pdf`)},ExportToExcel(t,e,a,i){var o=document.getElementById("tbl_exporttable_to_xls"),u=XLSX.utils.table_to_book(o,{sheet:"sheet1"});return i?XLSX.write(u,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(u,a||e+"."+t)},print(t,e,a,i){if(t=="xlsx")return this.ExportToExcel("xlsx",e);if(t=="pdf")return this.generatePDF(e,a,i)},filterObject(t,e){return t.filter(a=>a.nama.toLowerCase().includes(e.toLowerCase()))},datafilter(t,e){if(t=e,t){if(t==[])return t=[]}else return t=[]},uppercase(t){return t.toUpperCase()},removeDuplicate(t){let e=[];return t.forEach(a=>{e.includes(a)||e.push(a)}),e}},vt=["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],yt=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{key:"actions",align:"end",sortable:!1}],wt=["kategori_barang","kode_barang","nama_barang","hs_code","satuan","status"],jt=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.kategori_barang)),Vt=(t,e,a)=>{for(let i=0;i<e.length;i++)if(t==e[i].kode_barang){if(a=="k")return e[i].kategori_barang;if(a=="nm")return e[i].nama_barang;if(a=="hc")return e[i].hs_code;if(a=="s")return e[i].satuan}},Dt=t=>{let e=[];for(let a=0;a<t.length;a++)e.push({index:a,kategori_barang:t[a].kategori_barang,kode_barang:t[a].kode_barang,nama_barang:t[a].nama_barang,hs_code:t[a].hs_code,satuan:t[a].satuan,status:t[a].status});return e},Pt=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].kode_barang==t&&a.push(e[i].stok_akhir);return f.numb(a.reduce((i,o)=>i+o,0))},Tt=t=>t.map(a=>({kategori_barang:a.kategori_barang,kode_barang:a.kode_barang,nama_barang:a.nama_barang,hs_code:a.hs_code,satuan:a.satuan})),ue={category:vt,headers:yt,keyform:wt,selected:jt,slotitem:Vt,sumStok:Pt,barang:Tt,item:Dt},Bt=["Data Barang","Tambah Barang Baru","Ubah Barang","Hapus Barang"],St=["Data Pelanggan","Tambah Pelanggan Baru","Ubah Pelanggan","Hapus Pelanggan"],Ut=["Data Supplier"],Ct=["Data User"],$t=["Pembelian","Batal Pembelian","Tambah Pembelian Baru"],Lt=["Produksi","Tambah Produksi Baru","Batal Produksi"],At=["Penjualan","Tambah Penjualan Baru","Batal Penjualan"],Nt=["Pengiriman","Batal Pengiriman","Tambah Pengiriman Baru","Cetak Surat Jalan","Cetak DO","Alamat Bongkar"],Ot=["Laporan","Laporan Stok Barang","Laporan Pembelian","Laporan Produksi","Laporan Penjualan","Laporan Pengiriman","Laporan Log User"],Rt=["Pengaturan Umum","Export pdf","Export xlsx"],Ht=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].status=="true"&&e.push({username:t[a].username,jenis_otoritas:t[a].jenis_otoritas,status:t[a].status});return e},It=(t,e)=>{let a=!1;if(t.length>=1)for(let i=0;i<t.length;i++)t[i].jenis_otoritas==e&&(t[i].status=="true"?a=!0:a=!1);else a=!1;return a},Et=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].username==e&&a.push({jenis_otoritas:t[i].jenis_otoritas,status:t[i].status});return a},Jt=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].jenis_otoritas=="Data Barang"&&e.push({data_barang:!0}),t[a].jenis_otoritas=="Tambah Barang Baru"&&e.push({tambah_barang:!0}),t[a].jenis_otoritas=="Ubah Barang"&&e.push({edit_barang:!0}),t[a].jenis_otoritas=="Hapus Barang"&&e.push({hapus_barang:!0}),t[a].jenis_otoritas=="Data Pelanggan"&&e.push({data_pelanggan:!0}),t[a].jenis_otoritas=="Tambah Pelanggan Baru"&&e.push({tambah_pelanggan:!0}),t[a].jenis_otoritas=="Ubah Pelanggan"&&e.push({edit_pelanggan:!0}),t[a].jenis_otoritas=="Hapus Pelanggan"&&e.push({hapus_pelanggan:!0}),t[a].jenis_otoritas=="Data Supplier"&&e.push({data_supplier:!0}),t[a].jenis_otoritas=="Pembelian"&&e.push({pembelian:!0}),t[a].jenis_otoritas=="Tambah Pembelian"&&e.push({tambah_pembelian:!0}),t[a].jenis_otoritas=="Batal Pembelian"&&e.push({batal_pembelian:!0}),t[a].jenis_otoritas=="Produksi"&&e.push({produksi:!0}),t[a].jenis_otoritas=="Tambah Produksi"&&e.push({tambah_produksi:!0}),t[a].jenis_otoritas=="Batal Produksi"&&e.push({batal_produksi:!0}),t[a].jenis_otoritas=="Penjualan"&&e.push({penjualan:!0}),t[a].jenis_otoritas=="Tambah Penjualan"&&e.push({tambah_penjualan:!0}),t[a].jenis_otoritas=="Pengiriman"&&e.push({pengiriman:!0}),t[a].jenis_otoritas=="Tambah Pengiriman"&&e.push({tambah_pengiriman:!0}),t[a].jenis_otoritas=="Batal Pengiriman"&&e.push({batal_pengiriman:!0}),t[a].jenis_otoritas=="Laporan"&&e.push({laporan:!0}),t[a].jenis_otoritas=="Laporan Stok Barang"&&e.push({laporan_stok:!0}),t[a].jenis_otoritas=="Laporan Pembelian"&&e.push({laporan_pembelian:!0}),t[a].jenis_otoritas=="Laporan Produksi"&&e.push({laporan_produksi:!0}),t[a].jenis_otoritas=="Laporan Penjualan"&&e.push({laporan_penjualan:!0}),t[a].jenis_otoritas=="Laporan Log User"&&e.push({laporan_log:!0});return e},j={data_barang:Bt,data_pelanggan:St,data_supplier:Ut,data_user:Ct,pembelian:$t,produksi:Lt,penjualan:At,pengiriman:Nt,laporan:Ot,setelan:Rt,otoritas:Ht,routes:It,all:Et,items:Jt},Q=(t,e)=>{const a=t.__vccOpts||t;for(const[i,o]of e)a[i]=o;return a},Kt={components:{},props:["icon"],data(){return{}}};function Ft(t,e,a,i,o,u){const g=s("v-icon"),v=s("v-btn");return r(),d(v,{variant:"text",color:"grey-darken-2",size:"small",icon:""},{default:l(()=>[n(g,null,{default:l(()=>[m(y(a.icon),1)]),_:1})]),_:1})}const te=Q(Kt,[["render",Ft]]),Gt=[{title:"Tanggal",key:"tanggal"},{title:"Username",key:"username"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"}],qt=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],zt=t=>t.filter((a,i)=>i===t.findIndex(o=>a.kode_barang===o.kode_barang)),Mt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_barang==e[o].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[o].kode_group,stok_akhir:ue.sumStok(t[i].kode_barang,e)});return a},Yt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_barang==e[o].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[o].kode_group,stok_akhir:e[o].stok_akhir});return a},Qt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].kode_barang==e&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:t[i].kode_group,stok_akhir:f.numb(t[i].stok_akhir,2,!0)});return a},Wt=(t,e,a)=>{let i=[];for(let o=0;o<a.length;o++)a[o].kode_group==t&&a[o].kode_barang==e&&i.push({tanggal:a[o].tanggal,kode_group:a[o].kode_group,kode_barang:a[o].kode_barang,kategori:a[o].kategori,keterangan:a[o].keterangan,stok_awal:f.numb(a[o].stok_awal,2,!0),stok_masuk:f.numb(a[o].stok_masuk,2,!0),stok_keluar:f.numb(a[o].stok_keluar,2,!0),stok_akhir:f.numb(a[o].stok_akhir,2,!0)});return i},_e={headLogUser:Gt,headStokBarang:qt,stokBarang:Mt,noDuplicate:zt,detail:Yt,subDetail:Qt,log:Wt},Xt={components:{VDataTable:z,TextButton:te},props:["kode_group","barang","kode_barang","detail","groupbarang","logbrg"],data(){return{dialog:!1,dialogbrg:[],log_brg:"",authority:"",headers:[{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],subheaders:[{title:"Tanggal",key:"tanggal"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"},{title:"Stok Awal",key:"stok_awal"},{title:"Stok Masuk",key:"stok_masuk"},{title:"Stok Keluar",key:"stok_keluar"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}]}},computed:{},methods:{},mounted(){}},Xe=Object.assign(Xt,{__name:"LogBarang",setup(t){return(e,a)=>{const i=s("v-toolbar-title"),o=s("v-spacer"),u=s("v-toolbar"),g=s("v-sheet"),v=s("v-card"),P=s("v-dialog");return r(),d(P,{modelValue:e.dialog,"onUpdate:modelValue":a[1]||(a[1]=k=>e.dialog=k),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:k})=>[n(te,Z(k,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(v,null,{default:l(()=>[n(u,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{onClick:a[0]||(a[0]=k=>e.dialog=!1),icon:"mdi-close",color:"white"}),n(i,{class:"text-button"},{default:l(()=>[m("DETAIL STOK BARANG")]),_:1}),n(o)]),_:1}),n(g,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"items-per-page":"10",headers:e.headers,items:t.detail,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.actions":l(({item:k,index:_})=>[n(te,{onClick:h=>e.dialogbrg[_]=!0,icon:"mdi-dots-vertical"},null,8,["onClick"]),n(P,{modelValue:e.dialogbrg[_],"onUpdate:modelValue":h=>e.dialogbrg[_]=h,scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{default:l(()=>[n(u,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{onClick:h=>e.dialogbrg[_]=!1,icon:"mdi-close",color:"white"},null,8,["onClick"]),n(i,{class:"text-button"},{default:l(()=>[m("DETAIL LOG BARANG")]),_:1}),n(o)]),_:2},1024),n(v,null,{default:l(()=>[n(g,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"items-per-page":"10",headers:e.subheaders,items:p(_e).log(k.raw.kode_group,k.raw.kode_barang,t.logbrg),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.tanggal":l(({item:h})=>[m(y(p(f).formatDate(h.raw.tanggal)),1)]),_:2},1032,["headers","items","search","height"])]),_:2},1032,["height"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","search","height"])]),_:1},8,["height"])]),_:1})]),_:1},8,["modelValue"])}}}),Zt={components:{},props:["btn_title"],data(){return{}}};function xt(t,e,a,i,o,u){const g=s("v-btn");return r(),d(g,{class:"elevation-0 text-caption px-5",variant:"tonal",height:"42","min-width":"100"},{default:l(()=>[m(y(a.btn_title),1)]),_:1})}const I=Q(Zt,[["render",xt]]),ea={components:{},props:["btn_title","icon"],data(){return{}}};function ta(t,e,a,i,o,u){const g=s("v-btn");return r(),d(g,{class:"elevation-0 text-caption px-5 text-white rounded",color:"blue-custom",height:"42","min-width":"100","prepend-icon":a.icon},{default:l(()=>[m(y(a.btn_title),1)]),_:1},8,["prepend-icon"])}const ne=Q(ea,[["render",ta]]),aa={components:{},props:["btn_title"],data(){return{}}};function na(t,e,a,i,o,u){const g=s("v-btn");return r(),d(g,{class:"elevation-0 text-white text-caption px-5",color:"orange-lighten-1",height:"42","min-width":"100"},{default:l(()=>[m(y(a.btn_title),1)]),_:1})}const E=Q(aa,[["render",na]]),la={components:{},props:["label","rules","disabled","hideDetails","type","value"],data(){return{}}};function ia(t,e,a,i,o,u){const g=s("v-text-field");return r(),d(g,{type:a.type,label:a.label,variant:"outlined",density:"compact",class:"mb-3",rules:a.rules,"hide-details":"",disabled:a.disabled},null,8,["type","label","rules","disabled"])}const $=Q(la,[["render",ia]]),sa={components:{},props:["toolbar_title"],data(){return{}}};function oa(t,e,a,i,o,u){const g=s("v-span"),v=s("v-toolbar"),P=s("v-divider");return r(),N(O,null,[n(v,{class:"bg-transparent"},{default:l(()=>[n(g,{class:"text-button w-100 text-center font-weight-bold text-orange"},{default:l(()=>[m(y(a.toolbar_title),1)]),_:1})]),_:1}),n(P)],64)}const ra=Q(sa,[["render",oa]]),ua={components:{},data(){return{}}};function da(t,e,a,i,o,u){const g=s("v-icon"),v=s("v-btn");return r(),d(v,{size:"small",variant:"text",icon:""},{default:l(()=>[n(g,{size:"20",color:"blue-custom"},{default:l(()=>[m("mdi-dots-vertical")]),_:1})]),_:1})}const Ze=Q(ua,[["render",da]]),ma={components:{btnOption:Ze,textButton:te},props:["icon","items","variant","submenu","index","otority"],data(){return{}},methods:{clicked(t){this.$emit("result",t,this.index)}}},q=Object.assign(ma,{__name:"menuList",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-list-item"),u=s("v-list"),g=s("v-menu");return r(),d(g,null,{activator:l(({props:v})=>[t.submenu?c("",!0):(r(),d(Ze,he(Z({key:0},v)),null,16)),t.submenu?(r(),d(te,Z({key:1},v,{icon:t.icon}),null,16,["icon"])):c("",!0)]),default:l(()=>[n(u,null,{default:l(()=>[(r(!0),N(O,null,G(t.items,(v,P)=>(r(),d(o,{key:P,value:v.key,onClick:k=>e.clicked(v.key),density:"compact",class:"text-caption","prepend-icon":v.icon},{default:l(()=>[!t.submenu&&p(j).routes(t.otority,v.title)?(r(),d(i,{key:0},{default:l(()=>[m(y(v.title),1)]),_:2},1024)):c("",!0),t.submenu?(r(),d(i,{key:1},{default:l(()=>[m(y(v.title),1)]),_:2},1024)):c("",!0)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}}});const pa={components:{btnInfo:ne,toolbarHeader:ra,textFieldForm:$,BtnOrange:E,BtnCancel:I,MenuList:q,BtnInfo:ne},props:["keyform","tambah","disabled","ishidden","master","hapus","headers","category","toolbar_title","alpha","view","item","form","noselect","intable"],data(){return{dialog:!1,edit:{},data:this.tambah,list:[{title:"Edit Data",icon:"mdi-pencil",key:"edit"},{title:"Hapus Data",icon:"mdi-delete",key:"hapus"}],valid:!0,required:[t=>t?!0:"harus diisi !"]}},computed:{},methods:{menuAksi(t){t=="edit"&&(this.dialog=!0)},submit(t){this.item==null?this.$emit("form",t):this.$emit("edit",t),this.dialog=!1},del(t){this.$emit("del",t)},async validate(){const{valid:t}=await this.$refs.form.validate();let e={};if(t)return this.item==null?e=this.data:e=this.item,this.submit(e)}},mounted(){}};function ga(t,e,a,i,o,u){const g=s("btn-info"),v=s("toolbar-header"),P=s("text-field-form"),k=s("v-list-item-title"),_=s("v-list-item"),h=s("v-list"),b=s("v-menu"),H=s("v-div"),T=s("v-for"),F=s("v-container"),V=s("v-divider"),B=s("btn-cancel"),U=s("btn-orange"),Y=s("v-form"),W=s("v-card"),ce=s("v-dialog");return r(),d(ce,{modelValue:o.dialog,"onUpdate:modelValue":e[6]||(e[6]=A=>o.dialog=A),scrim:!1,transition:"dialog-bottom-transition",width:"370"},{activator:l(({props:A})=>[a.intable?c("",!0):(r(),d(g,Z({key:0},A,{icon:"mdi-plus",btn_title:"Tambah Baru"}),null,16))]),default:l(()=>[n(W,{class:"rounded-xl"},{default:l(()=>[n(Y,{onSubmit:e[5]||(e[5]=Pe(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(v,{toolbar_title:a.toolbar_title},null,8,["toolbar_title"]),n(F,{class:"mt-5 w-75"},{default:l(()=>[a.noselect?c("",!0):(r(),d(H,{key:0},{default:l(()=>[this.item==null?(r(),d(P,{key:0,id:"tambah",label:a.headers[0].title,modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[0]||(e[0]=A=>o.data[a.keyform[0]]=A),readonly:"",rules:o.required},null,8,["label","modelValue","rules"])):c("",!0),n(b,{activator:"#tambah",class:"elevation-0"},{default:l(()=>[n(h,null,{default:l(()=>[(r(!0),N(O,null,G(a.category.slice(this.alpha,a.category.length),(A,w)=>(r(),d(_,{key:w,density:"compact"},{default:l(()=>[n(k,{onClick:L=>o.data[a.keyform[0]]=A,class:"text-caption"},{default:l(()=>[m(y(A),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),a.item!=null?(r(),d(P,{key:1,id:"tipe",label:a.headers[0].title,modelValue:a.item[a.keyform[0]],"onUpdate:modelValue":e[1]||(e[1]=A=>a.item[a.keyform[0]]=A),readonly:"",rules:o.required},null,8,["label","modelValue","rules"])):c("",!0),n(b,{activator:"#tipe",class:"elevation-0"},{default:l(()=>[n(h,null,{default:l(()=>[(r(!0),N(O,null,G(a.category.slice(this.alpha,a.category.length),(A,w)=>(r(),d(_,{key:w,density:"compact"},{default:l(()=>[n(k,{onClick:L=>a.item[a.keyform[0]]=A,class:"text-caption"},{default:l(()=>[m(y(A),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})),a.noselect?(r(),d(H,{key:1},{default:l(()=>[this.item==null?(r(),d(P,{key:0,label:a.headers[0].title,modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[2]||(e[2]=A=>o.data[a.keyform[0]]=A),rules:o.required},null,8,["label","modelValue","rules"])):c("",!0),this.item!=null?(r(),d(P,{key:1,label:a.headers[0].title,modelValue:a.item[a.keyform[0]],"onUpdate:modelValue":e[3]||(e[3]=A=>a.item[a.keyform[0]]=A),readonly:a.headers[0].dis,rules:o.required},null,8,["label","modelValue","readonly","rules"])):c("",!0)]),_:1})):c("",!0),(r(!0),N(O,null,G(a.headers.slice(1,a.headers.length-1),(A,w)=>(r(),d(T,{key:w},{default:l(()=>[this.item==null?(r(),d(P,{key:0,label:A.title,modelValue:o.data[a.keyform[w+1]],"onUpdate:modelValue":L=>o.data[a.keyform[w+1]]=L,rules:o.required},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c("",!0),this.item!=null?(r(),d(P,{key:1,label:A.title,modelValue:a.item[a.keyform[w+1]],"onUpdate:modelValue":L=>a.item[a.keyform[w+1]]=L,readonly:a.headers[w+1].dis,rules:o.required},null,8,["label","modelValue","onUpdate:modelValue","readonly","rules"])):c("",!0)]),_:2},1024))),128))]),_:1}),n(V),a.view?c("",!0):(r(),d(H,{key:0,class:"d-flex align-center float-end ma-5"},{default:l(()=>[o.edit?c("",!0):(r(),d(B,{key:0,onClick:e[4]||(e[4]=A=>(o.data="",o.dialog=!1)),btn_title:"Batal"})),ke(t.$slots,"cancel"),n(U,{type:"submit",onClick:u.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:3}))]),_:3},512)]),_:3})]),_:3},8,["modelValue"])}const Ue=Q(pa,[["render",ga]]),ha="/inventori/assets/confirm-2fdee6a6.png",ca={props:["object"]},fa=S("img",{src:ha,style:{width:"100px"},class:"animate_animated animate__bounceIn animate__delay-2s"},null,-1);function ba(t,e,a,i,o,u){const g=s("v-sheet"),v=s("v-card-title"),P=s("v-span"),k=s("v-divider"),_=s("v-div"),h=s("v-card"),b=s("v-dialog");return r(),d(b,{transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(h,{class:"rounded-xl"},{default:l(()=>[n(g,{class:"mx-auto mt-7"},{default:l(()=>[fa]),_:1}),n(v,{class:"text-center mt-5 text-body-1"},{default:l(()=>[m("Apakah Anda Yakin ?")]),_:1}),n(P,{class:"text-center mb-7 text-caption"},{default:l(()=>[m("Anda Akan Menghapus "+y(a.object),1)]),_:1}),n(k),n(_,{class:"d-flex mt-3 mb-5 me-5 ms-auto"},{default:l(()=>[ke(t.$slots,"cancelButton"),ke(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const se=Q(ca,[["render",ba]]),_a={components:{},props:["icon","btn_title","placeholder"],data(){return{}}};function ka(t,e,a,i,o,u){const g=s("v-text-field");return r(),d(g,{density:"compact",variant:"text",class:"text-blue-custom rounded border-sm text-caption","prepend-inner-icon":"mdi-magnify",placeholder:a.placeholder,"single-line":"","hide-details":"",style:{height:"42px","min-width":"200px !important"}},null,8,["placeholder"])}const K=Q(_a,[["render",ka]]),va={components:{textFieldForm:$},name:"currencyInput",props:{modelValue:Number,options:Object,label:String},setup(t){const{inputRef:e}=st(t.options);return{inputRef:e}}};function ya(t,e,a,i,o,u){const g=s("text-field-form");return r(),d(g,{label:a.label,ref:"inputRef","model-value":a.modelValue},null,8,["label","model-value"])}const de=Q(va,[["render",ya]]),wa={components:{btnInfo:ne,BtnCancel:I,BtnOrange:E,TextField:K,CurrencyInput:de,TextFieldForm:$},name:"DialogCard2",props:["hiddenbtn","btn","itemDetail","pemasukan","nokirim","belumkirim","kodegroup","belumkirim_detail","blmkirim","penjualan","pengeluaran","pengiriman","produksi","barang","tambah","inputbahan","pembeliandetl","getbarang","kurs","dialog_title","pjl_blmterkirm","window","group_detail","stok_akhir"],data(){return{search:"",dialog:!1,dialogchild:[],newbarang:this.barang,newproduksi:this.getbarang,groupbarang:"",bahan:this.inputbahan,dialItem:"",pjl:"",total:"",pemasukan_item:[],penjualan_detail:{jumlah:"",nilai:"",harga_jual:"",jumlah_konversi:0,satuan_konversi:""}}},setup(){const t={kode_barang:"",nama_barang:"",hs_code:"",jumlah:"",jumlah_diterima:"",satuan:"",nilai:"",no_urut:"",status:"",harga_jual:""},e=ot({...t}),i=rt({kode_barang:{required:ye},nama_barang:{required:ye},hs_code:{required:ye},jumlah:{required:ye},jumlah_diterima:{required:ye},satuan:{required:ye},nilai:{required:ye},no_urut:{required:ye},harga_jual:{required:ye}},e);function o(){i.value.$reset();for(const[u,g]of Object.entries(t))e[u]=g}return{state:e,clear:o,v$:i}},computed:{terjual(){return this.penjualan_detail.jumlah*this.penjualan_detail.harga_jual},filteredItems(){return!this.tambah&&!this.blmkirim?this.search!=""?this.searchBarang(this.barang):this.barang:this.blmkirim&&!this.tambah?this.search!=""?this.searchObj(this.pjl_blmterkirm):this.pjl_blmterkirm:this.search!=""?this.searchBarang(this.getbarang):this.getbarang}},methods:{stok_detail(t){for(let e=0;e<this.group_detail.length;e++)if(this.group_detail[e].kode_barang==t)return this.group_detail[e].stok_akhir},searchBarang(t){let e={};return e=t.filter(a=>a.kode_barang.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.nama_barang.toLowerCase().includes(this.search.toLowerCase()))),e},searchObj(t){let e={};return e=t.filter(a=>a.no_dokumen.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.nama_barang.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.no_penjualan.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.kode_group.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.tipe_dokumen.toLowerCase().includes(this.search.toLowerCase())))))),e},stok(t,e){for(let a=0;a<this.groupbarang.length;a++)if(this.groupbarang[a].kode_group==t&&this.groupbarang[a].kode_barang==e)return f.numb2(this.groupbarang[a].stok_akhir)},min(t,e){let a=t-e;return f.numb2(a)},async api(){return new Promise(t=>{setTimeout(()=>{t(Array.from({length:10},(e,a)=>a+this.filteredItems.value.at(-1)+1))},1e3)})},async load({done:t}){const e=await this.api();this.filteredItems.push(...e),t("ok")},pemasukanItem(t,e){this.state.hs_code=t.hs_code,this.state.satuan=t.satuan;let a="";if(this.pengiriman){for(let i=0;i<this.groupbarang.length;i++)for(let o=0;o<this.pjl_blmterkirm.length;o++)if(this.groupbarang[i].kode_group==this.pjl_blmterkirm[o].kode_group)for(let u=0;u<this.belumkirim_detail.length;u++)this.groupbarang[i].kode_barang==this.belumkirim_detail[u].kode_barang&&(a=this.groupbarang[i].nilai_akhir/this.groupbarang[i].stok_akhir)}if(this.pemasukan){this.pemasukan_item.push({no_pembelian:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.state.jumlah,jumlah_diterima:this.state.jumlah_diterima,satuan:this.state.satuan,nilai:this.state.nilai,no_urut:""});let i=[];for(let u=0;u<this.pemasukan_item.length;u++)i.push(this.pemasukan_item[u].nilai);let o=i.reduce((u,g)=>u+g);this.total=o*this.kurs}else if(this.produksi){for(let i=0;i<this.groupbarang.length;i++)this.groupbarang[i].kode_group==this.kodegroup&&this.groupbarang[i].kode_barang==t.kode_barang&&(a=this.groupbarang[i].nilai_akhir/this.groupbarang[i].stok_akhir);this.pemasukan_item.push({no_produksi:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,satuan:this.state.satuan,no_urut:"",nilai:a})}else this.pengeluaran?this.pemasukan_item.push({no_penjualan:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_terkirim:0,satuan:this.state.satuan,harga_jual:this.penjualan_detail.harga_jual,total_terjual:this.terjual,no_urut:""}):this.pengiriman&&this.pemasukan_item.push({no_penjualan:t.no_penjualan,no_pengiriman:this.nokirim,kode_barang:t.kode_barang,nama_barang:t.nama_barang,kode_group:t.kode_group,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_konversi:this.penjualan_detail.jumlah_konversi,satuan_konversi:this.penjualan_detail.satuan_konversi,jumlah_terkirim:this.penjualan_detail.jumlah_terkirim,satuan:this.state.satuan,no_urut:"",nilai:a});this.$emit("pemasukanitem",this.pemasukan_item,this.total),this.clear(),this.penjualan_detail={jumlah:"",nilai:"",harga_jual:"",jumlah_konversi:0,satuan_konversi:""},this.dialogchild[e]=!1,this.dialog=!1}},async mounted(){this.groupbarang=await D.getGroupBarang(),this.bahan}},ja=S("br",null,null,-1),Va=S("br",null,null,-1),Da=S("br",null,null,-1);function Pa(t,e,a,i,o,u){const g=s("btn-info"),v=s("v-btn"),P=s("v-card-title"),k=s("text-field"),_=s("v-div"),h=s("v-span"),b=s("v-list-item"),H=s("v-spacer"),T=s("v-divider"),F=s("currency-input"),V=s("text-field-form"),B=s("btn-cancel"),U=s("btn-orange"),Y=s("v-card"),W=s("v-dialog"),ce=s("v-list");return r(),d(W,{modelValue:o.dialog,"onUpdate:modelValue":e[11]||(e[11]=A=>o.dialog=A),transition:"dialog-bottom-transition"},{activator:l(({props:A})=>[n(g,Z(A,{disabled:a.getbarang==""||a.inputbahan=="",btn_title:"Tambah Barang",icon:"mdi-plus"}),null,16,["disabled"])]),default:l(()=>[n(Y,{class:"py-5 px-7 rounded-xl vh-100","min-width":"300","max-width":"400"},{default:l(()=>[a.window<500?(r(),d(v,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:e[0]||(e[0]=A=>o.dialog=!1)})):c("",!0),n(P,{class:"text-center text-orange text-button font-weight-bold mb-3 px-12"},{default:l(()=>[m(y(a.dialog_title),1)]),_:1}),n(_,null,{default:l(()=>[n(k,{id:"input",modelValue:o.search,"onUpdate:modelValue":e[1]||(e[1]=A=>o.search=A),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(ce,{class:"me-2"},{default:l(()=>[(r(!0),N(O,null,G(u.filteredItems.slice(0,40),(A,w)=>(r(),d(_,{key:A},{default:l(()=>[a.blmkirim?c("",!0):(r(),d(b,{key:0,class:"text-caption",density:"compact",onClick:L=>(o.dialogchild[w]=!0,i.state.nama_barang=A.nama_barang)},{default:l(()=>[n(_,{class:"d-flex justify-space-between text-caption"},{default:l(()=>[n(h,null,{default:l(()=>[m(y(A.nama_barang),1)]),_:2},1024),a.stok_akhir?(r(),d(h,{key:0},{default:l(()=>[m(y(u.stok_detail(A.kode_barang)),1)]),_:2},1024)):c("",!0),a.stok_akhir?c("",!0):(r(),d(h,{key:1},{default:l(()=>[m(y(A.kode_barang),1)]),_:2},1024))]),_:2},1024)]),_:2},1032,["onClick"])),a.blmkirim?(r(),d(b,{key:1,onClick:L=>o.dialogchild[w]=!0,class:"text-caption",density:"compact"},{default:l(()=>[n(_,{class:"d-flex"},{default:l(()=>[n(_,null,{default:l(()=>[n(h,{class:"font-weight-medium"},{default:l(()=>[m(y(A.tipe_dokumen)+"-"+y(A.no_dokumen),1)]),_:2},1024),m(),ja,n(h,{class:"text-small"},{default:l(()=>[m(y(A.nama_barang)+" ("+y(A.kode_group)+") ",1),Va,m(" Jumlah belum terkirim: "+y(u.min(A.jumlah,A.jumlah_terkirim))+" ",1),Da,m(" Stok barang: "+y(u.stok(A.kode_group,A.kode_barang)),1)]),_:2},1024)]),_:2},1024),n(H),n(h,{class:"font-weight-medium"},{default:l(()=>[m(y(A.no_penjualan),1)]),_:2},1024)]),_:2},1024),n(T)]),_:2},1032,["onClick"])):c("",!0),n(W,{onUpdate:o.dialogchild,transition:"dialog-bottom-transition",width:"auto",modelValue:o.dialogchild[w],"onUpdate:modelValue":L=>o.dialogchild[w]=L},{default:l(()=>[n(Y,{class:"py-5 mx-auto rounded-xl","min-width":"300","max-width":"375",width:"35vw"},{default:l(()=>[n(h,{class:"text-button text-orange text-center font-weight-bold"},{default:l(()=>[m(y(A.nama_barang),1)]),_:2},1024),n(h,{class:"text-caption text-center"},{default:l(()=>[m(y(A.kode_barang)+" - "+y(A.hs_code),1)]),_:2},1024),n(T,{class:"mt-3 mb-5"}),S("form",{onSubmit:e[10]||(e[10]=Pe((...L)=>t.submit&&t.submit(...L),["prevent"])),ref_for:!0,ref:"form",class:"mx-auto w-75 pt-2 bg-transparent"},[a.pemasukan?c("",!0):(r(),d(F,{key:0,modelValue:o.penjualan_detail.jumlah,"onUpdate:modelValue":e[2]||(e[2]=L=>o.penjualan_detail.jumlah=L),label:"Jumlah (Tonase)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])),a.pengiriman?(r(),d(F,{key:1,modelValue:o.penjualan_detail.jumlah_konversi,"onUpdate:modelValue":e[3]||(e[3]=L=>o.penjualan_detail.jumlah_konversi=L),label:"Qty","hide-details":!0,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])):c("",!0),a.pengiriman?(r(),d(V,{key:2,modelValue:o.penjualan_detail.satuan_konversi,"onUpdate:modelValue":e[4]||(e[4]=L=>o.penjualan_detail.satuan_konversi=L),label:"Satuan konversi","hide-details":!0},null,8,["modelValue"])):c("",!0),a.pemasukan?(r(),d(F,{key:3,modelValue:i.state.jumlah,"onUpdate:modelValue":e[5]||(e[5]=L=>i.state.jumlah=L),label:"Jumlah (Tonase)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):c("",!0),a.pemasukan?(r(),d(F,{key:4,modelValue:i.state.jumlah_diterima,"onUpdate:modelValue":e[6]||(e[6]=L=>i.state.jumlah_diterima=L),label:"Jumlah Diterima","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):c("",!0),a.pemasukan?(r(),d(F,{key:5,modelValue:i.state.nilai,"onUpdate:modelValue":e[7]||(e[7]=L=>i.state.nilai=L),label:"Nilai Total","hide-details":!0,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])):c("",!0),!a.tambah&&a.pengeluaran?(r(),d(F,{key:6,modelValue:o.penjualan_detail.harga_jual,"onUpdate:modelValue":e[8]||(e[8]=L=>o.penjualan_detail.harga_jual=L),label:"Harga","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):c("",!0),!a.tambah&&a.pengeluaran?(r(),d(F,{key:7,modelValue:u.terjual,"onUpdate:modelValue":e[9]||(e[9]=L=>u.terjual=L),label:"Total Harga","hide-details":!0,readonly:"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])):c("",!0)],544),n(T,{class:"mt-3"}),n(_,{class:"d-inline me-5 ms-auto mt-5"},{default:l(()=>[n(B,{onClick:L=>o.dialogchild[w]=!1,btn_title:"batal"},null,8,["onClick"]),n(U,{type:"submit",onClick:L=>u.pemasukanItem(A,w),btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])}const je=Q(wa,[["render",Pa]]);const Ta={components:{textFieldForm:$},props:["label","validated","rules","filter","tema"],data(){return{data:""}},created(){if(this.default)return this.data=this.default},methods:{},mounted(){this.def}},Ba=()=>({top:0,left:0}),J=Object.assign(Ta,{__name:"datePicker",setup(t){return(e,a)=>{const i=s("VueDatePicker");return r(),d(i,{dark:t.tema=="dark",class:"text-small","alt-position":Ba,clearable:!1,"format-locale":p(ut),required:"",locale:"id",cancelText:"batal",selectText:"pilih",format:"PP","calendar-cell-class-name":"dp-custom-cell","menu-class-name":"dp-custom-menu","enable-time-picker":!1,modelValue:e.data,"onUpdate:modelValue":a[0]||(a[0]=o=>e.data=o)},We({_:2},[t.filter?void 0:{name:"trigger",fn:l(()=>[n($,{readonly:"",label:t.label,"model-value":p(f).formatDate(e.data),rules:t.rules,hideDetails:""},null,8,["label","model-value","rules"])]),key:"0"}]),1032,["dark","format-locale","modelValue"])}}}),Sa={components:{btnInfo:ne},props:["window","label","dataValue","objectFilter","button","btn_title","cardTitle","rules"],data(){return{dialog:!1,searchModel:"",search:"",pilih:""}},methods:{result(t){this.dialog=!1,this.$emit("pilihObjek",t)}}},Re=Object.assign(Sa,{__name:"dialogSearch",setup(t){return(e,a)=>{const i=s("v-btn"),o=s("v-card-title"),u=s("v-list-item"),g=s("v-div"),v=s("v-list"),P=s("v-card"),k=s("v-dialog");return r(),d(k,{modelValue:e.dialog,"onUpdate:modelValue":a[3]||(a[3]=_=>e.dialog=_),transition:"dialog-bottom-transition"},{activator:l(({props:_})=>[t.button?c("",!0):(r(),d($,Z({key:0},_,{label:t.label,modelValue:e.pilih,"onUpdate:modelValue":a[0]||(a[0]=h=>e.pilih=h),readonly:"",rules:t.rules}),null,16,["label","modelValue","rules"])),t.button?(r(),d(ne,Z({key:1},_,{icon:"mdi-plus",btn_title:t.btn_title}),null,16,["btn_title"])):c("",!0)]),default:l(()=>[n(P,{class:"py-5 px-7 rounded-xl","min-width":"300","max-width":"400"},{default:l(()=>[t.window<500?(r(),d(i,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[1]||(a[1]=_=>e.dialog=!1)})):c("",!0),n(o,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[m(y(t.cardTitle),1)]),_:1}),n(K,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=_=>e.search=_),label:"Search",class:"mb-4"},null,8,["modelValue"]),n(v,{class:"vh-100"},{default:l(()=>[n(g,null,{default:l(()=>[(r(!0),N(O,null,G(p(f).filterObject(t.objectFilter,e.search),(_,h)=>(r(),d(u,{key:h,class:"text-caption",density:"compact",onClick:b=>(e.result(_),e.pilih=_.nama)},{default:l(()=>[m(y(_.nama),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ua={props:["icon","items"],data(){return{}},methods:{clicked(t){this.$emit("result",t)}}};function Ca(t,e,a,i,o,u){const g=s("v-list-item"),v=s("v-list"),P=s("v-menu");return r(),d(P,{transition:"slide-y-transition"},{default:l(()=>[n(v,null,{default:l(()=>[(r(!0),N(O,null,G(a.items,(k,_)=>(r(),d(g,{key:_,value:k.key,onClick:h=>u.clicked(k.key),density:"compact",class:"text-caption","prepend-icon":k.icon},{default:l(()=>[m(y(k.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}const xe=Q(Ua,[["render",Ca]]);const $a={components:{TextButton:te,BtnInfo:ne},props:["label","validated","rules","master"],data(){return{data:""}},computed:{},methods:{},mounted(){}},Ve=Object.assign($a,{__name:"dialogVue",setup(t){return(e,a)=>{const i=s("v-divider"),o=s("v-card"),u=s("v-dialog");return r(),d(u,{transition:"dialog-bottom-transition",width:"auto"},{activator:l(({props:g})=>[t.master?c("",!0):(r(),d(te,Z({key:0},g,{icon:"mdi-dots-vertical"}),null,16)),t.master?(r(),d(ne,Z({key:1},g,{icon:"mdi-plus",btn_title:"Tambah Data"}),null,16)):c("",!0)]),default:l(()=>[n(o,{class:"bg-white mx-auto py-5 rounded-xl","min-width":"300","max-width":"375",width:"35vw"},{default:l(()=>[ke(e.$slots,"titlecard"),n(i),ke(e.$slots,"content")]),_:3})]),_:3})}}}),La=[{key:"no_pembelian",order:"desc"}],Aa=[{title:"Nomor Pemasukan",key:"no_pembelian"},{title:"Tanggal Masuk",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Mata Uang",key:"mata_uang"},{title:"Total Nilai",key:"total_nilai"},{title:"Total Nilai(Rp)",key:"rp"},{key:"actions"}],Na=["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],Oa=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions"}],Ra={no_pembelian:"",tgl_pembelian:"",tgl_input:f.day(),tgl_batal:"1999-12-31T17:00:00.000Z",kode_supplier:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",no_invoice:"",no_bl:"",total_nilai:"",mata_uang:"",kurs:"",user_input:"admin",user_batal:"",status:"true"},we=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)e[o].no_pembelian==t&&(a=="nama"?i.push(e[o].nama_barang):i=e[o]);return a=="nama"?i.toString():i},Ha=(t,e)=>{for(let a=0;a<e.length;a++)if(e[a].kode_barang==t)return e[a].kategori_barang},Ee=(t,e,a,i)=>{let o=[];for(let u=0;u<t.length;u++)for(let g=0;g<e.length;g++)t[u].kode_supplier==e[g].kode_supplier&&o.push({no_pembelian:t[u].no_pembelian,tgl_pembelian:t[u].tgl_pembelian,tipe_dokumen:t[u].tipe_dokumen,no_dokumen:t[u].no_dokumen,tgl_dokumen:f.formatDate(t[u].tgl_dokumen),kode_supplier:e[g].nama,mata_uang:t[u].mata_uang,total_nilai:f.numb(t[u].total_nilai,2,!0),rp:f.numb(t[u].total_nilai*t[u].kurs,2,!0),no_invoice:t[u].no_invoice,no_bl:t[u].no_bl,kurs:t[u].kurs,user_input:t[u].user_input,user_batal:t[u].user_batal,tgl_input:t[u].tgl_input,tgl_batal:t[u].tgl_batal,status:t[u].status,nama_barang:we(t[u].no_pembelian,a,"nama"),kode_barang:we(t[u].no_pembelian,a).kode_barang,hs_code:we(t[u].no_pembelian,a).hs_code,satuan:we(t[u].no_pembelian,a).satuan,jumlah_diterima:f.numb(we(t[u].no_pembelian,a).jumlah_diterima),jumlah:we(t[u].no_pembelian,a).jumlah,nilai:we(t[u].no_pembelian,a).nilai,kategori_barang:Ha(we(t[u].no_pembelian,a).kode_barang,i)});return o},Ia=t=>{let e=[];for(let a=0;a<globalThis.pembeliandetl.length;a++)globalThis.pembeliandetl[a].no_pembelian==t&&e.push(globalThis.pembeliandetl[a]);return e},Ea=(t,e,a,i)=>{if(e=="nama"){for(let o=0;o<a.length;o++)if(a[o].kode_supplier==t)return a[o].nama}else if(e=="pembelian"){let o=[];for(let u=0;u<i.length;u++)i[u].no_pembelian==t&&o.push(i[u]);return o}else{if(e=="total")return f.numb(t);if(e=="rp"){let o=t.kurs,u=t.total_nilai;return f.numb(o*u)}}},Ja=(t,e,a)=>{let i=[];for(let o=0;o<t.length;o++)i.push({no_pembelian:t[o].no_pembelian,tgl_pembelian:t[o].tgl_pembelian,tipe_dokumen:t[o].tipe_dokumen,no_dokumen:t[o].no_dokumen,kode_supplier:globalThis.dataTable(t[o].kode_supplier,"nama",e,a),kode_group:t[o].kode_group,kurs:t[o].kurs,mata_uang:t[o].mata_uang,total_nilai:globalThis.dataTable(t[o].total_nilai,"total",e,a),rp:globalThis.dataTable(t[o],"rp")});return i},Ka=(t,e,a,i,o)=>t.length===0?Ee(e,a,i,o):Ee(e,a,i,o).filter(u=>t.includes(u.tipe_dokumen)),Fa=t=>{let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},ae={sortBy:La,headers:Aa,tipedokumen:Na,headDetails:Oa,datainput:Ra,datatable:Ee,pembelian:Ia,dataTable:Ea,printdata:Ja,pilihtipe:Ka,sum:Fa,detailpbl:we};const Ga={components:{dialogScroll:je,VDataTable:z,datePicker:J,textButton:te,textFieldForm:$,dialogSearch:Re,menuForm:xe,menuList:q,BtnCancel:I,BtnOrange:E,dialogVue:Ve,CurrencyInput:de,BtnInfo:ne},props:["tema","window","windowH","hapus","total_nilai","barang","pembelianbaru","laporan","namaPelanggan","total","groupbarang","batalbtn","penjualan","pemasukan","alamatBongkar","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,valid:!1,detaildial:[],tipe_dokumen:[{title:"BC23",key:"BC23"},{title:"BC40",key:"BC40"},{title:"PPKEK dari LDP",key:"PPKEK-LDP"},{title:"PPKEK dari TDDP",key:"PPKEK-TLDDP"}],list:[{title:"Lihat Data",key:"lihat"},{title:"Batal Pemasukan",key:"batal"}],viewOnly:[{title:"Lihat Data",key:"lihat"}],item:"",searched:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:[],inputdata:this.datainput,kurs:"",pemasukan_detail:"",pembelian_detail:[this.pembelian],validated:Boolean,required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="55vh":t="40vh":this.window<1500&&(this.windowH>800?t="55vh":t="40vh"):this.edit||(this.window>1500?this.windowH>800?t="40vh":t="23vh":this.window<1500&&(this.windowH>800?t="40vh":t="23vh")),t}},methods:{itemmasuk(t,e){this.inputdata.total_nilai=e,this.pembelian_input=t},menuAksi(t){t=="lihat"?this.dialog=!0:this.confirm()},confirm(){this.$emit("confirm",this.dataitem,this.pembelian)},pilihObjek(t){this.inputdata.kode_supplier=t.kode_supplier,this.namasupplier=t.nama},pilihtipedokumen(t){return this.inputdata.tipe_dokumen=t},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].nilai);return a.reduce((i,o)=>i+o,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_pembelian:this.pembelian_input[a].no_pembelian,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_diterima:this.pembelian_input[a].jumlah_diterima,satuan:this.pembelian_input[a].satuan,nilai:this.pembelian_input[a].nilai,no_urut:a+1});this.$emit("inputhead",this.inputdata,e),this.dialog=!1}}}},Ce=Object.assign(Ga,{__name:"PemasukanDetail",setup(t){return(e,a)=>{const i=s("v-toolbar-title"),o=s("v-spacer"),u=s("v-toolbar"),g=s("v-responsive"),v=s("v-row"),P=s("v-form"),k=s("v-container"),_=s("v-span"),h=s("v-card-title"),b=s("v-card-subtitle"),H=s("v-sheet"),T=s("v-divider"),F=s("v-div"),V=s("v-card"),B=s("v-dialog");return r(),d(B,{modelValue:e.dialog,"onUpdate:modelValue":a[12]||(a[12]=U=>e.dialog=U),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:U})=>[t.edit?c("",!0):(r(),d(ne,Z({key:0},U,{icon:"mdi-plus",btn_title:"Tambah Baru"}),null,16)),t.edit?(r(),d(q,{key:1,submenu:!0,icon:"mdi-dots-vertical",items:t.hapus?e.list:e.viewOnly,onResult:e.menuAksi},null,8,["items","onResult"])):c("",!0)]),default:l(()=>[n(V,null,{default:l(()=>[n(u,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{icon:"mdi-close",onClick:a[0]||(a[0]=U=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1)),color:e.white},null,8,["color"]),n(i,{class:"text-button mt-1"},{default:l(()=>[m(y("DETAIL "+t.pageTitle),1)]),_:1}),n(o)]),_:1}),n(k,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(r(),d(v,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(g,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"No Pemasukan","model-value":t.items.no_pembelian,readonly:""},null,8,["model-value"]),n($,{label:"Tgl Pemasukan","model-value":p(f).formatDate(t.items.tgl_pembelian),readonly:""},null,8,["model-value"]),n($,{label:"Nama Supplier","model-value":t.items.kode_supplier,readonly:""},null,8,["model-value"])]),_:1}),n(g,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n($,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"]),n($,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"]),n($,{label:"Tgl Dokumen","model-value":t.items.tgl_dokumen,readonly:""},null,8,["model-value"])]),_:1}),n(g,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"No Invoice","model-value":t.items.no_invoice,readonly:""},null,8,["model-value"]),n($,{label:"No BL","model-value":t.items.no_bl,readonly:""},null,8,["model-value"]),n($,{label:"Mata Uang","model-value":t.items.mata_uang,readonly:""},null,8,["model-value"]),n($,{type:"number",label:"Kurs","model-value":t.items.kurs,readonly:""},null,8,["model-value"])]),_:1})]),_:1})):c("",!0),!t.edit&&p(ae)?(r(),d(P,{key:1,onSubmit:a[10]||(a[10]=Pe(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[n(v,{"no-gutters":"",justify:"center","justify-md":"space-between"},{default:l(()=>[n(g,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n($,{label:"No Pemasukan",modelValue:e.inputdata.no_pembelian,"onUpdate:modelValue":a[1]||(a[1]=U=>e.inputdata.no_pembelian=U),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"]),n(J,{label:"Tgl Pemasukan",modelValue:e.inputdata.tgl_pembelian,"onUpdate:modelValue":a[2]||(a[2]=U=>e.inputdata.tgl_pembelian=U),"max-date":new Date,tema:t.tema,rules:e.required},null,8,["modelValue","max-date","tema","rules"]),t.edit?c("",!0):(r(),d(Re,{key:0,window:t.window,label:"Supplier",objectFilter:t.supplier,onPilihObjek:e.pilihObjek,cardTitle:"SUPPLIER","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"]))]),_:1}),n(g,{class:"pt-2 mx-3 overflow-visible",width:"250"},{default:l(()=>[n($,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[3]||(a[3]=U=>e.inputdata.tipe_dokumen=U),readonly:"",rules:e.required},null,8,["modelValue","rules"]),n(xe,{activator:"#tipe",icon:"mdi-dots-vertical",items:e.tipe_dokumen,onResult:e.pilihtipedokumen},null,8,["items","onResult"]),n($,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[4]||(a[4]=U=>e.inputdata.no_dokumen=U),required:"",rules:e.required},null,8,["modelValue","rules"]),n(J,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[5]||(a[5]=U=>e.inputdata.tgl_dokumen=U),"max-date":new Date,tema:t.tema,rules:e.required},null,8,["modelValue","max-date","tema","rules"])]),_:1}),n(g,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"No Invoice",modelValue:e.inputdata.no_invoice,"onUpdate:modelValue":a[6]||(a[6]=U=>e.inputdata.no_invoice=U),rules:e.required},null,8,["modelValue","rules"]),n($,{label:"No BL",modelValue:e.inputdata.no_bl,"onUpdate:modelValue":a[7]||(a[7]=U=>e.inputdata.no_bl=U),rules:e.required},null,8,["modelValue","rules"]),n($,{label:"Mata Uang",modelValue:e.inputdata.mata_uang,"onUpdate:modelValue":a[8]||(a[8]=U=>e.inputdata.mata_uang=U),rules:e.required},null,8,["modelValue","rules"]),n($,{type:"number",label:"Kurs",modelValue:e.inputdata.kurs,"onUpdate:modelValue":a[9]||(a[9]=U=>e.inputdata.kurs=U),rules:e.required},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},512)):c("",!0),t.edit?c("",!0):(r(),d(k,{key:2,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center mb-n5"},{default:l(()=>[n(je,{window:t.window,onReset:e.reset,kurs:e.inputdata.kurs,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pemasukan:!0,dialog_title:"Data Barang",btn:t.btn,"max-width":"400"},null,8,["window","onReset","kurs","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),n(k,null,{default:l(()=>[n(p(z),{headers:t.headDetails,items:t.edit?t.pembelian:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 border-sm rounded-lg my-3 h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),d(_,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+y(p(f).numb(e.jumlahtotal(t.pembelian,"jumlah")))+" / Total nilai: "+y(p(f).numb(e.jumlahtotal(t.pembelian,"nilai"),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),d(_,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+y(p(f).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total nilai: "+y(p(f).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.nilai":l(({item:U})=>[m(y(p(f).numb(U.raw.nilai,2,!0)),1)]),"item.jumlah":l(({item:U})=>[m(y(p(f).numb(U.raw.jumlah)),1)]),"item.jumlah_diterima":l(({item:U})=>[m(y(p(f).numb(U.raw.jumlah_diterima)),1)]),"item.actions":l(({item:U,index:Y})=>[n(Ve,{modelValue:e.detaildial[Y],"onUpdate:modelValue":W=>e.detaildial[Y]=W},{titlecard:l(()=>[n(h,{class:"text-center text-button font-weight-bold text-orange"},{default:l(()=>[m(y(U.raw.nama_barang),1)]),_:2},1024),n(b,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(y(U.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(H,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),d($,{key:0,label:"Jumlah","model-value":p(f).numb(U.raw.jumlah),active:"true",readonly:"","hide-details":!0,class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:1,label:"Jumlah",modelValue:e.pembelian_input[Y].jumlah,"onUpdate:modelValue":W=>e.pembelian_input[Y].jumlah=W,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?c("",!0):(r(),d(de,{key:2,label:"Jumlah diterima",modelValue:e.pembelian_input[Y].jumlah_diterima,"onUpdate:modelValue":W=>e.pembelian_input[Y].jumlah_diterima=W,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),d($,{key:3,label:"Jumlah diterima","model-value":p(f).numb(U.raw.jumlah_diterima),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:4,label:"Total nilai",modelValue:e.pembelian_input[Y].nilai,"onUpdate:modelValue":W=>e.pembelian_input[Y].nilai=W,"hide-details":"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),d($,{key:5,label:"Total nilai","model-value":t.items.total_nilai,readonly:!0,"hide-details":""},null,8,["model-value"])):c("",!0)]),_:2},1024),n(T,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),d(F,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(I,{btn_title:"Hapus",onClick:W=>(e.deleteditem(U.raw),e.detaildial[Y]=!1),class:"me-2"},{default:l(()=>[m("Hapus")]),_:2},1032,["onClick"]),n(E,{btn_title:"Simpan",onClick:W=>e.detaildial[Y]=!1},{default:l(()=>[m("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),n(F,{class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[t.edit?c("",!0):(r(),d(I,{key:0,class:"mb-3 me-2",btn_title:"Batal",onClick:a[11]||(a[11]=U=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1))})),t.edit?c("",!0):(r(),d(E,{key:1,class:"mb-3",type:"submit",btn_title:"Simpan",onClick:e.validate},null,8,["onClick"]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const qa={components:{textFieldForm:$,BtnOrange:E},props:["editdata","otority","tambahUser","user_otoritas","j_otoritas","userselect"],data(){return{confirmdialog:!1,edit:this.editdata,tambah:this.tambahUser,ds:{},open:[],databarang:[{title:"Data Barang",key:"data_barang"},{title:"Tambah Barang Baru",key:"tambah_barang"},{title:"Ubah Barang",key:"ubah_barang"},{title:"Hapus Barang",key:"hapus_barang"}]}},computed:{edituser(){let t=this.userselect,e="",a=[],i=[],o=[],u=[],g=[],v=[],P=[],k=[],_=[],h=[];for(let b=0;b<j.data_barang.length;b++)a.push({jenis_otoritas:j.data_barang[b],status:this.edit?j.routes(this.otority,j.data_barang[b]):!1});for(let b=0;b<j.data_pelanggan.length;b++)i.push({jenis_otoritas:j.data_pelanggan[b],status:this.edit?j.routes(this.otority,j.data_pelanggan[b]):!1});for(let b=0;b<j.data_supplier.length;b++)o.push({jenis_otoritas:j.data_supplier[b],status:this.edit?j.routes(this.otority,j.data_supplier[b]):!1});for(let b=0;b<j.data_user.length;b++)u.push({jenis_otoritas:j.data_user[b],status:this.edit?j.routes(this.otority,j.data_user[b]):!1});for(let b=0;b<j.pembelian.length;b++)g.push({jenis_otoritas:j.pembelian[b],status:this.edit?j.routes(this.otority,j.pembelian[b]):!1});for(let b=0;b<j.produksi.length;b++)v.push({jenis_otoritas:j.produksi[b],status:this.edit?j.routes(this.otority,j.produksi[b]):!1});for(let b=0;b<j.penjualan.length;b++)P.push({jenis_otoritas:j.penjualan[b],status:this.edit?j.routes(this.otority,j.penjualan[b]):!1});for(let b=0;b<j.pengiriman.length;b++)k.push({jenis_otoritas:j.pengiriman[b],status:this.edit?j.routes(this.otority,j.pengiriman[b]):!1});for(let b=0;b<j.laporan.length;b++)_.push({jenis_otoritas:j.laporan[b],status:this.edit?j.routes(this.otority,j.laporan[b]):!1});for(let b=0;b<j.setelan.length;b++)h.push({jenis_otoritas:j.setelan[b],status:this.edit?j.routes(this.otority,j.setelan[b]):!1});return this.ds={username:t,password:e,data_barang:a,data_pelanggan:i,data_supplier:o,data_user:u,pembelian:g,produksi:v,penjualan:P,pengiriman:k,laporan:_,setelan:h}}},methods:{submit(){return this.$emit("submitUser",this.ds)}},mounted(){}},za=Object.assign(qa,{__name:"userDetail",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-icon"),g=s("v-avatar"),v=s("v-div"),P=s("v-checkbox"),k=s("v-list-item"),_=s("v-list-group"),h=s("v-list"),b=s("v-spacer"),H=s("v-sheet"),T=s("v-card"),F=s("v-dialog");return r(),d(F,{modelValue:e.detail,"onUpdate:modelValue":a[23]||(a[23]=V=>e.detail=V),width:"400",transition:"dialog-bottom-transition"},{default:l(()=>[n(T,{class:"rounded-xl pa-3"},{default:l(()=>[n(i,{class:"mx-auto text-button font-weight-bold text-orange"},{default:l(()=>[m("DETAIL USER")]),_:1}),n(o),n(H,{class:"d-flex flex-column align-center w-100 px-3 mt-2",height:"80vh"},{default:l(()=>[n(g,{class:"bg-blue-custom",size:"70"},{default:l(()=>[n(u,{size:"50"},{default:l(()=>[m("mdi-account")]),_:1})]),_:1}),n(v,{class:"w-100"},{default:l(()=>[n($,{label:"Username","model-value":t.userselect,modelValue:e.ds.username,"onUpdate:modelValue":a[0]||(a[0]=V=>e.ds.username=V),readonly:!!e.edit,disabled:!!e.edit,class:"w-75 my-3 mx-auto"},null,8,["model-value","modelValue","readonly","disabled"]),n($,{label:"Password",modelValue:e.ds.password,"onUpdate:modelValue":a[1]||(a[1]=V=>e.ds.password=V),class:"w-75 mx-auto"},null,8,["modelValue"])]),_:1}),n(i,{class:"text-grey mx-auto text-button"},{default:l(()=>[m("OTORITAS")]),_:1}),n(v,{class:"overflow-auto vh-30 w-100"},{default:l(()=>[n(h,{opened:e.open[0],"onUpdate:opened":a[3]||(a[3]=V=>e.open[0]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Data Barang",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:e.edituser.data_barang[0].jenis_otoritas,"model-value":e.edituser.data_barang[0].status,modelValue:e.ds.data_barang[0].status,"onUpdate:modelValue":a[2]||(a[2]=B=>e.ds.data_barang[0].status=B),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.data_barang.slice(1,e.edituser.data_barang.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.data_barang[B+1].status,"onUpdate:modelValue":U=>e.ds.data_barang[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[1],"onUpdate:opened":a[5]||(a[5]=V=>e.open[1]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Data Pelanggan",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:e.edituser.data_pelanggan[0].jenis_otoritas,"model-value":e.edituser.data_pelanggan[0].status,modelValue:e.ds.data_pelanggan[0].status,"onUpdate:modelValue":a[4]||(a[4]=B=>e.ds.data_pelanggan[0].status=B),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.data_pelanggan.slice(1,e.edituser.data_pelanggan.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.data_pelanggan[B+1].status,"onUpdate:modelValue":U=>e.ds.data_pelanggan[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[2],"onUpdate:opened":a[7]||(a[7]=V=>e.open[2]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Data Supplier",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:e.edituser.data_supplier[0].jenis_otoritas,"model-value":e.edituser.data_supplier[0].status,modelValue:e.ds.data_supplier[0].status,"onUpdate:modelValue":a[6]||(a[6]=B=>e.ds.data_supplier[0].status=B),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.data_supplier.slice(1,e.edituser.data_supplier.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.data_supplier[B+1].status,"onUpdate:modelValue":U=>e.ds.data_supplier[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[3],"onUpdate:opened":a[9]||(a[9]=V=>e.open[3]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Data User",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:e.edituser.data_user[0].jenis_otoritas,"model-value":e.edituser.data_user[0].status,modelValue:e.ds.data_user[0].status,"onUpdate:modelValue":a[8]||(a[8]=B=>e.ds.data_user[0].status=B),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.data_user.slice(1,e.edituser.data_user.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.data_user[B+1].status,"onUpdate:modelValue":U=>e.ds.data_user[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[4],"onUpdate:opened":a[11]||(a[11]=V=>e.open[4]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Pembelian",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:"Pemasukan","model-value":e.edituser.pembelian[0].status,modelValue:e.ds.pembelian[0].status,"onUpdate:modelValue":a[10]||(a[10]=B=>e.ds.pembelian[0].status=B),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.pembelian.slice(1,e.edituser.pembelian.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.pembelian[B+1].status,"onUpdate:modelValue":U=>e.ds.pembelian[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[5],"onUpdate:opened":a[13]||(a[13]=V=>e.open[5]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Produksi",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:"Produksi","model-value":e.edituser.produksi[0].status,modelValue:e.ds.produksi[0].status,"onUpdate:modelValue":a[12]||(a[12]=B=>e.ds.produksi[0].status=B),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.produksi.slice(1,e.edituser.produksi.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.produksi[B+1].status,"onUpdate:modelValue":U=>e.ds.produksi[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[6],"onUpdate:opened":a[15]||(a[15]=V=>e.open[6]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Pengeluaran",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:"Pengeluaran","model-value":e.edituser.penjualan[0].status,modelValue:e.ds.penjualan[0].status,"onUpdate:modelValue":a[14]||(a[14]=B=>e.ds.penjualan[0].status=B),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.penjualan.slice(1,e.edituser.penjualan.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.penjualan[B+1].status,"onUpdate:modelValue":U=>e.ds.penjualan[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[7],"onUpdate:opened":a[17]||(a[17]=V=>e.open[7]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Pengiriman",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:"Pengiriman","model-value":e.edituser.pengiriman[0].status,modelValue:e.ds.pengiriman[0].status,"onUpdate:modelValue":a[16]||(a[16]=B=>e.ds.pengiriman[0].status=B),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.pengiriman.slice(1,e.edituser.pengiriman.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.pengiriman[B+1].status,"onUpdate:modelValue":U=>e.ds.pengiriman[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[8],"onUpdate:opened":a[19]||(a[19]=V=>e.open[8]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Laporan",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:"Laporan","model-value":e.edituser.laporan[0].status,modelValue:e.ds.laporan[0].status,"onUpdate:modelValue":a[18]||(a[18]=B=>e.ds.laporan[0].status=B),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.laporan.slice(1,e.edituser.laporan.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.laporan[B+1].status,"onUpdate:modelValue":U=>e.ds.laporan[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(h,{opened:e.open[9],"onUpdate:opened":a[21]||(a[21]=V=>e.open[9]=V),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(_,{value:"Setelan",class:"text-caption"},{activator:l(({props:V})=>[n(k,he(fe(V)),{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:"Pengaturan Umum","model-value":e.edituser.setelan[0].status,modelValue:e.ds.setelan[0].status,"onUpdate:modelValue":a[20]||(a[20]=B=>e.ds.setelan[0].status=B),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),N(O,null,G(e.edituser.setelan.slice(1,e.edituser.setelan.length),(V,B)=>(r(),d(k,{key:B},{default:l(()=>[n(P,{color:"orange",class:"radio-small customdense",label:V.jenis_otoritas,"model-value":V.status,modelValue:e.ds.setelan[B+1].status,"onUpdate:modelValue":U=>e.ds.setelan[B+1].status=U,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"])]),_:1}),n(b),n(v,{class:"d-flex ms-auto pb-3"},{default:l(()=>[ke(e.$slots,"cancel",{},void 0,!0),n(E,{onClick:a[22]||(a[22]=V=>e.submit()),btn_title:"Simpan"})]),_:3})]),_:3})]),_:3})]),_:3},8,["modelValue"])}}}),He=Q(za,[["__scopeId","data-v-a7a741e4"]]),Ma={components:{PemasukanDetail:Ce,VDataTable:z,dialogMaster:Ue,LogBarang:Xe,dialogConfirm:se,btnCancel:I,menuList:q,BtnOrange:E,UserDetail:He},props:["userdetail","windowH","editdata","sortby","stok","otority","logbrg","user_otoritas","j_otoritas","stokbarang","update","hapus","groupbarang","laporanstok","masuk","supplier","pembeliandetl","view","disabled","keyform","headers","items","search","category","toolbar_title","form","noselect","ishidden","pageTitle","log","window"],data(){return{dialog:[],detail:[],paginate:"",sorting:this.sortby,totaldata:this.items.length,confirmdialog:[],list:[{title:"Edit Data",key:"edit",icon:"mdi-pencil"},{title:"Hapus Data",key:"hapus",icon:"mdi-delete"}],list2:[{title:"Lihat Data",key:"lihat"}]}},methods:{result(t,e){return t!="hapus"?this.dialog[e]=!0:this.confirmdialog[e]=!0},result2(t,e){return t!="hapus"?this.detail[e]=!0:this.confirmdialog[e]=!0},edit(t){return this.$emit("edit",t)},del(t,e){return this.confirmdialog[e]=!1,this.$emit("del",t)},confirm(t,e){this.$emit("confirm",t,e)},test(t){return alert(t)}},mounted(){}},ge=Object.assign(Ma,{__name:"TableVue",setup(t){return(e,a)=>{const i=s("v-sheet");return r(),d(i,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sorting,"onUpdate:sortBy":a[0]||(a[0]=o=>e.sorting=o),"items-per-page":10,headers:t.headers,items:t.items,loading:e.loading,search:t.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-2 pb-12 h-100 border-sm rounded-lg",height:t.window>776?"100%":"92%"},We({_:2},[t.userdetail?{name:"item.actions",fn:l(({item:o,index:u})=>[n(q,{items:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result2,index:u},null,8,["items","onResult","index"]),n(He,{modelValue:e.detail[u],"onUpdate:modelValue":g=>e.detail[u]=g,editdata:t.editdata,user_otoritas:t.user_otoritas,j_otoritas:t.j_otoritas,userselect:o.raw.username,otority:p(j).all(t.otority,o.raw.username),onSubmitUser:e.edit},{cancel:l(()=>[n(I,{onClick:g=>e.detail[u]=!1,btn_title:"Batal",class:"mx-2"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","editdata","user_otoritas","j_otoritas","userselect","otority","onSubmitUser"]),n(se,{modelValue:e.confirmdialog[u],"onUpdate:modelValue":g=>e.confirmdialog[u]=g,object:t.pageTitle},{yesButton:l(()=>[n(E,{class:"ms-2",type:"submit",onClick:g=>e.del(o.raw.username,u),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(I,{onClick:g=>e.confirmdialog[u]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object"])]),key:"0"}:void 0,t.laporanstok?{name:"item.actions",fn:l(({item:o})=>[n(Xe,{headers:t.headers,logbrg:t.logbrg,barang:t.groupbarang,groupbarang:t.groupbarang,detail:p(_e).subDetail(t.stok,o.raw.kode_barang),kode_group:o.raw.kode_group,kode_barang:o.raw.kode_barang},null,8,["headers","logbrg","barang","groupbarang","detail","kode_group","kode_barang"])]),key:"1"}:void 0,t.log?{name:"item.tanggal",fn:l(({item:o})=>[m(y(p(f).formatDateTime(o.raw.tanggal)),1)]),key:"2"}:void 0,!t.laporanstok&&!t.masuk&&t.update||t.view?{name:"item.actions",fn:l(({item:o,index:u})=>[n(q,{items:t.view?e.list2:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result,index:u},null,8,["items","onResult","index"]),n(Ue,{modelValue:e.dialog[u],"onUpdate:modelValue":g=>e.dialog[u]=g,view:t.view,editbtn:"true",ishidden:!0,keyform:t.keyform,intable:!0,edit:!0,disabled:t.disabled,noselect:t.noselect,form:o.raw,onEdit:e.edit,item:o.raw,screen:e.screen,headers:t.headers,items:o.raw,category:t.category,toolbar_title:t.toolbar_title,alpha:e.alpha},{cancel:l(()=>[n(I,{onClick:g=>e.dialog[u]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","view","keyform","disabled","noselect","form","onEdit","item","screen","headers","items","category","toolbar_title","alpha"]),n(se,{modelValue:e.confirmdialog[u],"onUpdate:modelValue":g=>e.confirmdialog[u]=g,object:t.pageTitle},{yesButton:l(()=>[n(E,{class:"ms-2",type:"submit",onClick:g=>e.del(o.raw,u),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(I,{onClick:g=>e.confirmdialog[u]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object"])]),key:"3"}:void 0,t.masuk?{name:"item.tgl_pembelian",fn:l(({item:o})=>[m(y(p(f).formatDate(o.raw.tgl_pembelian)),1)]),key:"4"}:void 0,t.masuk?{name:"item.actions",fn:l(({item:o})=>[n(Ce,{hapus:t.hapus,window:t.window,windowH:t.windowH,batalbtn:"Pemasukan",onConfirm:e.confirm,supplier:t.supplier,namaSupplier:p(ae).dataTable(o.raw.kode_supplier,"nama",t.supplier,t.pembeliandetl),pembelian:p(ae).dataTable(o.raw.no_pembelian,"pembelian",t.supplier,t.pembeliandetl),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:p(ae).headDetails,headers:p(ae).headers,items:o.raw,search:t.search,category:p(ae).tipedokumen,selectCategory:e.selectCategory,pageTitle:t.pageTitle},null,8,["hapus","window","windowH","onConfirm","supplier","namaSupplier","pembelian","itemDetail","datatext","btn","headDetails","headers","items","search","category","selectCategory","pageTitle"])]),key:"5"}:void 0]),1032,["sort-by","headers","items","loading","search","height"])]),_:1},8,["height"])}}}),Ya={components:{},props:["btn_title","color"],data(){return{}}};function Qa(t,e,a,i,o,u){const g=s("v-icon"),v=s("v-btn");return r(),d(v,{class:"me-2",size:"small",variant:"text",icon:""},{default:l(()=>[n(g,{size:"20",color:"blue-custom"},{default:l(()=>[m("mdi-filter")]),_:1})]),_:1})}const x=Q(Ya,[["render",Qa]]),Wa={components:{},props:["label"],data(){return{}},computed:{},methods:{},mounted(){}};function Xa(t,e,a,i,o,u){const g=s("v-checkbox");return r(),d(g,{label:a.label,color:"orange-lighten-1",class:"mt-n6","hide-details":""},null,8,["label"])}const oe=Q(Wa,[["render",Xa]]),Za={components:{BtnOrange:E,BtnCancel:I},props:["icon"],data(){return{filter:!1}},methods:{filtered(){this.$emit("close",!1)},reset(){this.$emit("reset")},filterdata(){return this.$emit("filterdata"),this.filtered()}}},xa={class:"d-flex align-center"};function en(t,e,a,i,o,u){const g=s("v-span"),v=s("v-container"),P=s("v-sheet"),k=s("btn-cancel"),_=s("btn-orange"),h=s("v-div"),b=s("v-navigation-drawer");return r(),d(b,{class:"border-0 elevation-0 mt-5 rounded-left",width:"320",location:"right",temporary:""},{default:l(()=>[n(P,{class:"py-5 h-80 rounded-left"},{default:l(()=>[S("div",xa,[n(g,{class:"text-button ms-4"},{default:l(()=>[m("Filter")]),_:1})]),n(v,{class:"py-3 px-4 h-100"},{default:l(()=>[ke(t.$slots,"default")]),_:3})]),_:3}),n(h,{class:"d-flex ms-5"},{default:l(()=>[n(k,{btn_title:"Reset",onClick:e[0]||(e[0]=H=>u.reset()),class:"mt-5 me-2"}),n(_,{btn_title:"Filter",onClick:e[1]||(e[1]=H=>u.filterdata()),class:"mt-5 me-2"})]),_:1})]),_:3})}const ee=Q(Za,[["render",en]]),tn="/inventori/assets/sukses-70259593.gif",an="/inventori/assets/gagal-5f734029.jpg",nn={props:["sukses","message"],data(){return{}},mounted(){}},ln=S("img",{src:tn,style:{width:"100px"}},null,-1),sn=S("img",{src:an,class:"animate__animated animate__bounceIn mt-3",style:{width:"90px"}},null,-1);function on(t,e,a,i,o,u){const g=s("v-if"),v=s("v-sheet"),P=s("v-span"),k=s("v-div"),_=s("v-card"),h=s("v-dialog");return r(),d(h,{"close-delay":1e3,transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(_,{class:"rounded-xl pb-3",height:"220"},{default:l(()=>[n(v,{class:"mx-auto mt-3"},{default:l(()=>[a.sukses?(r(),d(g,{key:0},{default:l(()=>[ln]),_:1})):c("",!0),a.sukses?c("",!0):(r(),d(g,{key:1},{default:l(()=>[sn]),_:1}))]),_:1}),a.sukses?(r(),d(P,{key:0,class:"text-center text-button text-green"},{default:l(()=>[m("Berhasil!")]),_:1})):c("",!0),a.sukses?c("",!0):(r(),d(P,{key:1,class:"text-center text-button text-red"},{default:l(()=>[m("Gagal!")]),_:1})),a.sukses?(r(),d(P,{key:2,class:"text-center text-caption text-green-lighten-1"},{default:l(()=>[m(y(a.message),1)]),_:1})):c("",!0),a.sukses?c("",!0):(r(),d(P,{key:3,class:"text-center text-caption text-red-lighten-1"},{default:l(()=>[m(y(a.message),1)]),_:1})),n(k,{class:"d-flex w-50 mx-auto justify-space-between mb-3"},{default:l(()=>[ke(t.$slots,"cancelButton"),ke(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const le=Q(nn,[["render",on]]),rn={props:["loading"],data(){}};function un(t,e,a,i,o,u){const g=s("v-progress-circular"),v=s("v-overlay");return r(),d(v,{"model-value":a.loading,class:"align-center justify-center",persistent:""},{default:l(()=>[n(g,{color:"white",indeterminate:"",size:"64"})]),_:1},8,["model-value"])}const M=Q(rn,[["render",un]]),dn={class:"d-flex align-center w-100"},mn={class:"d-flex align-center justify-sm-end justify-start"},pn=qe({components:{dialogMaster:Ue,TableVue:ge,btnFilter:x,menuList:q,textField:K,checkBox:oe,filterDrawer:ee,alertVue:le,circularLoader:M},name:"DataBarang",props:["cetak","tema","window"],data(){return{dialog:!1,valert:!1,status:null,loading:!0,authority:"",akses:"",message:"",search:"",filter:!1,pageTitle:"DATA BARANG",selectCategory:[],statusselect:!1,items:"",fresh:!1,tambah:{kategori_barang:"",kode_barang:"",nama_barang:"",hs_code:"",satuan:"",status:1},filtered:{kategori_barang:[]}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await D.getOtoritas(t),this.authority=j.otoritas(this.akses)),j.routes(this.akses,"Data Barang")){this.loading=!0;let e=await D.getBarang();this.items=ue.item(e),this.loading=!1}else return await D.logout()},refresh(){},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=ue.headers,i=this.items;f.print(t,e,a,i)},submit(t){D.postBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editForm(t){D.putBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},del(t){D.deleteBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[]},reset(){this.filtered.kategori_barang=[],this.selectCategory=[]}},mounted(){this.page(),this.fetchData(),this.cetak}}),gn=Object.assign(pn,{setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-responsive"),g=s("v-btn"),v=s("v-row"),P=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=k=>e.filter=k),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Kategori Barang")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(p(ue).category,(k,_)=>(r(),d(oe,{key:_,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.kategori_barang=h),label:k,value:k},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(P,{class:"pt-9 h-100"},{default:l(()=>[n(v,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(u,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[S("div",dn,[p(j).routes(e.authority,"Tambah Barang Baru")?(r(),d(Ue,{key:0,toolbar_title:"Tambah Data",keyform:p(ue).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submit,screen:400,headers:p(ue).headers,items:e.items,category:p(ue).category,submitForm:e.submitForm},null,8,["keyform","tambah","noselect","onForm","headers","items","category","submitForm"])):c("",!0)])]),_:1}),n(u,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[S("div",mn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=k=>e.search=k),placeholder:"Search",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[3]||(a[3]=k=>e.filter=!e.filter)}),n(g,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[4]||(a[4]=k=>e.fetchData())})])]),_:1})]),_:1}),n(ge,{create:p(j).routes(e.authority,"Tambah Barang Baru"),update:p(j).routes(e.authority,"Ubah Barang"),hapus:p(j).routes(e.authority,"Hapus Barang"),window:e.window,keyform:p(ue).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",headers:p(ue).headers,items:p(ue).selected(e.selectCategory,e.items),search:e.search,category:p(ue).category,selectCategory:e.selectCategory,toolbar_title:"Edit Data",form:e.form,pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","form","pageTitle"])]),_:1}),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[5]||(a[5]=k=>e.valert=k),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])],64)}}}),hn={components:{VDataTable:z},props:["items","headers"],data(){return{search:""}},methods:{},mounted(){}};function cn(t,e,a,i,o,u){const g=s("v-data-table");return r(),d(g,{headers:a.headers,items:a.items,density:"compact",class:"text-caption pt-2 pb-12 h-100 border-sm rounded-lg"},null,8,["headers","items"])}const fn=Q(hn,[["render",cn]]);const et=t=>(ze("data-v-ee4f4466"),t=t(),Me(),t),bn=et(()=>S("thead",null,[S("tr",null,[S("th",{class:"text-medium"},"Barang"),S("th",{class:"text-medium"},"Qty"),S("th",{class:"text-medium"},"Keterangan"),S("th",{class:"text-medium"},"Catatan")])],-1)),_n=et(()=>S("tbody",{class:"text-body-2"},[S("tr",null,[S("td",{class:"text-medium"}),S("td",{class:"text-medium"}),S("td",{class:"text-medium",contenteditable:""}),S("td",{class:"text-medium",contenteditable:""})]),S("tr",null,[S("td"),S("td"),S("td"),S("td"),S("td",{class:"text-left font-weight-bold"})])],-1)),kn={component:{tableMain:fn},props:["item"],data(){return{items:"",res:""}},methods:{print(){window.print()}},mounted(){this.fetch()}},vn=Object.assign(kn,{__name:"testPage",setup(t){return(e,a)=>{const i=s("v-icon"),o=s("v-btn"),u=s("v-span"),g=s("v-spacer"),v=s("v-toolbar"),P=s("v-div"),k=s("v-table"),_=s("v-sheet"),h=s("v-card");return r(),N(O,null,[n(v,{class:"bg-blue-custom",height:"50"},{default:l(()=>[n(o,{icon:"",onClick:a[0]||(a[0]=b=>e.jalan=!1),size:"small",class:"text-white"},{default:l(()=>[n(i,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(u,{class:"text-button mt-1 text-white"},{default:l(()=>[m("Cetak DO")]),_:1}),n(g),n(o,{icon:"",class:"text-white",onClick:a[1]||(a[1]=b=>e.print())},{default:l(()=>[n(i,null,{default:l(()=>[m("mdi-printer")]),_:1})]),_:1})]),_:1}),n(h,{id:"do",class:"overflow-auto"},{default:l(()=>[n(_,{class:"page mx-auto pa-7"},{default:l(()=>[n(u,{class:"text-h5 font-weight-bold d-flex justify-center"},{default:l(()=>[m("DELIVERY ORDER")]),_:1}),n(P,{class:"d-flex text-body-2 text-regular my-5 subheader"},{default:l(()=>[n(P,{class:"d-flex flex-column justify-space-around"},{default:l(()=>[n(u,{class:"me-2"},{default:l(()=>[m("Tgl Pengiriman")]),_:1}),n(u,{class:"me-2"},{default:l(()=>[m("Supir - No Polisi")]),_:1}),n(u,{class:"me-2"},{default:l(()=>[m("Tujuan Kirim")]),_:1})]),_:1}),n(P,{class:"d-flex flex-column justify-space-around"},{default:l(()=>[n(u,{class:"me-2"},{default:l(()=>[m(": Tgl Pengiriman")]),_:1}),n(u,{class:"me-2"},{default:l(()=>[m(": Supir - No Polisi")]),_:1}),n(u,{class:"me-2"},{default:l(()=>[m(": Tujuan Kirim")]),_:1})]),_:1})]),_:1}),n(_,{height:"60%"},{default:l(()=>[n(k,{density:"compact",class:"mt-5 w-100"},{default:l(()=>[bn,_n]),_:1})]),_:1}),n(u,{class:"d-block text-right font-italic"},{default:l(()=>[m("Print Date : "+y(p(f).formatDateTime(new Date)),1)]),_:1})]),_:1})]),_:1})],64)}}}),yn=Q(vn,[["__scopeId","data-v-ee4f4466"]]),wn="/inventori/assets/logo_text-5a0d98cf.png",jn="/inventori/assets/USER-778b9647.png",Vn="/inventori/assets/PASS-bdd62e1b.png";const Dn="inventori",Pn="0.0.0",Tn={dev:"vite",build:"vite build",preview:"vite preview --port 8080",lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs --fix --ignore-path .gitignore",format:"prettier --write src/",start:"json-server --watch fake-server/inventori.json","start-auth":"node src/modules/server.js",deploy:"vite build && gh-pages -d dist"},Bn={"@quasar/extras":"^1.16.3","@vitejs/plugin-vue":"^4.2.1","@vuelidate/core":"^2.0.2","@vuelidate/validators":"^2.0.2","@vuepic/vue-datepicker":"^5.0.1","@vueuse/core":"^10.2.1","animate.css":"^4.1.1",axios:"^1.3.6","body-parser":"^1.20.2",cors:"^2.8.5",dotenv:"^16.0.3","export-xlsx":"^0.1.4",express:"^4.18.2","file-saver":"^2.0.5",install:"^0.13.0","json-server":"^0.17.3",jsonwebtoken:"^9.0.0",jspdf:"^2.5.1","jspdf-autotable":"^3.5.29","jwt-decode":"^3.1.2",quasar:"^2.11.10",sass:"^1.62.1",scss:"^0.2.4","v-data-table":"^2.1.0","vee-validate":"^4.8.6","vite-plugin-vuetify":"^1.0.2",vue:"^3.2.47","vue-currency-input":"^3.0.5","vue-router":"^4.1.6","vue-sweetalert":"^0.1.18",vuetify:"^3.1.13",vuex:"^4.1.0","vuex-persistedstate":"^4.1.0",webfontloader:"^1.6.28",yup:"^1.1.1"},Sn={"@mdi/font":"^7.2.96","@rushstack/eslint-patch":"^1.2.0","@vitejs/plugin-vue-jsx":"^3.0.0","@vue/eslint-config-prettier":"^7.1.0",eslint:"^8.34.0","eslint-plugin-vue":"^9.9.0",prettier:"^2.8.4",vite:"^4.3.3"},Un={name:Dn,version:Pn,private:!0,scripts:Tn,dependencies:Bn,devDependencies:Sn},Cn=S("img",{src:wn,alt:"brandlogo",style:{"min-width":"250px",width:"40vw"}},null,-1),$n=S("img",{src:jn,class:"me-3 mb-2 icon-small"},null,-1),Ln=S("img",{src:Vn,class:"me-3 mb-2 icon-small"},null,-1),An=S("br",null,null,-1),Nn={components:{},props:["window"],data(){return{pageTitle:null,message:"",username:"",password:"",valert:!1,status:null,user:!1,pass:!1,ispassword:!1}},methods:{page(){return this.$emit("page",this.pageTitle)},handleLogin(){D.postLogin({username:this.username,password:this.password}).then(t=>{localStorage.setItem("token",t.data),localStorage.setItem("user",this.username),window.location.href="/inventori"}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data,setTimeout(()=>{this.valert=!1},2e3)})}},mounted(){this.page()}},On=Object.assign(Nn,{__name:"LoginView",setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-span"),u=s("v-spacer"),g=s("v-text-field"),v=s("v-div"),P=s("v-icon"),k=s("v-form"),_=s("v-card"),h=s("v-row"),b=s("v-alert"),H=s("v-container");return r(),d(i,{class:"bg-auri h-100"},{default:l(()=>[n(H,{fluid:"",class:"d-flex flex-column h-100"},{default:l(()=>[n(h,{class:"h-100"},{default:l(()=>[n(i,{class:"pt-14 ps-14 align-center",height:t.window>776?"40vh":"",width:"375"},{default:l(()=>[Cn]),_:1},8,["height"]),n(i,{class:Qe(["align-center",t.window>776?"me-10":""]),"min-width":t.window>776?375:267},{default:l(()=>[n(_,{class:Qe([t.window>776?"":"bg-trans-blue mt-n7","rounded-xl mx-auto elevation-3 px-2"]),height:t.window>776?430:365,"max-width":t.window>776?350:300},{default:l(()=>[n(k,{onSubmit:Pe(e.handleLogin,["prevent"]),"validation-schema":e.schema,class:"text-center w-75 mx-auto py-14 h-100 d-flex flex-column"},{default:l(()=>[n(o,{class:"text-blue-custom font-25 text-montserrat mx-auto"},{default:l(()=>[m("USER LOGIN")]),_:1}),n(u),n(v,null,{default:l(()=>[n(g,{variant:"underlined",class:"text-blue-custom text-field",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=T=>e.username=T),name:"username","hide-details":""},{default:l(()=>[$n]),_:1},8,["modelValue"])]),_:1}),n(v,{class:"d-flex align-end"},{default:l(()=>[n(g,{type:e.ispassword==!0?"text":"password",variant:"underlined",class:"text-blue-custom text-field",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=T=>e.password=T),name:"password","hide-details":""},{default:l(()=>[Ln]),_:1},8,["type","modelValue"]),e.ispassword?(r(),d(P,{key:0,onClick:a[2]||(a[2]=T=>e.ispassword=!1),class:"mb-1 text-info"},{default:l(()=>[m("mdi-eye")]),_:1})):c("",!0),e.ispassword?c("",!0):(r(),d(P,{key:1,onClick:a[3]||(a[3]=T=>e.ispassword=!0),class:"mb-1 text-info"},{default:l(()=>[m("mdi-eye-off")]),_:1}))]),_:1}),n(u),n(v,null,{default:l(()=>[n(E,{type:"submit",class:"mx-auto w-100",btn_title:"LOGIN"})]),_:1})]),_:1},8,["onSubmit","validation-schema"])]),_:1},8,["class","height","max-width"])]),_:1},8,["class","min-width"])]),_:1}),n(o,{class:"text-caption text-center text-grey"},{default:l(()=>[m("AURI STEEL METALINDO "),An,m("version."+y(p(Un).version),1)]),_:1}),n(v,{class:"absolute w-100 pe-8 text-caption mt-n3"},{default:l(()=>[n(b,{modelValue:e.valert,"onUpdate:modelValue":a[4]||(a[4]=T=>e.valert=T),transition:"scroll-y-transition",color:"red-darken-1",density:"compact",type:"error",title:"Gagal !",text:e.message},null,8,["modelValue","text"])]),_:1})]),_:1})]),_:1})}}}),Rn=[{title:"Kode Pelanggan",key:"kode_pelanggan",dis:!0},{title:"Nama",key:"nama"},{title:"Alamat",key:"alamat"},{title:"NPWP",key:"npwp"},{title:"",key:"actions",align:"end",sortable:!1}],Hn=["kode_pelanggan","nama","alamat","npwp","status"],In=(t,e)=>{for(let a=0;a<t.length;a++)if(t[a].kode_pelanggan==e)return t[a].nama},De={headers:Rn,keyform:Hn,namaPelanggan:In};const En={class:"d-flex align-center w-100"},Jn={class:"d-flex align-center justify-sm-end justify-start"},Kn=qe({name:"CustomerView",props:["cetak","user","window"],components:{TableVue:ge,dialogMaster:Ue,menuList:q,textField:K,AlertVue:le,CircularLoader:M},data(){return{pageTitle:"DATA PELANGGAN",statusselect:!0,loading:!0,status:"",message:"",valert:!1,search:"",items:"",dialog:!1,akses:"",authority:"",tambah:{kode_pelanggan:"",nama:"",alamat:"",npwp:"",status:"true"}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""&&(this.akses=await D.getOtoritas(t),this.authority=j.otoritas(this.akses)),j.routes(this.akses,"Data Pelanggan"))this.loading=!0,this.items=await D.getPelanggan(),this.loading=!1;else return await D.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=De.headers,i=this.items;f.print(t,e,a,i)},submitForm(t){D.postPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.message=e.response.data,this.valert=!0})},editForm(){let t={kode_pelanggan:"ASMT",nama:"Auristeel Metalindo Terboyo",alamat:"Semarang",npwp:"0.0.0.0",status:"true"};D.putPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},del(t){D.deletePelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})}},mounted(){this.fetchData(),this.page()}}),Fn=Object.assign(Kn,{setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-row"),u=s("v-container");return r(),N(O,null,[n(u,{class:"pt-9 h-100"},{default:l(()=>[n(o,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[S("div",En,[p(j).routes(e.authority,"Tambah Pelanggan Baru")?(r(),d(Ue,{key:0,keyform:p(De).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,headers:p(De).headers,items:e.items,category:e.category,toolbar_title:"Tambah Data"},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):c("",!0)])]),_:1}),n(i,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[S("div",Jn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=g=>e.search=g),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0)])]),_:1})]),_:1}),n(ge,{id:"tbl_exporttable_to_xls",create:p(j).routes(e.authority,"Tambah Pelanggan Baru"),update:p(j).routes(e.authority,"Ubah Pelanggan"),hapus:p(j).routes(e.authority,"Hapus Pelanggan"),window:e.window,keyform:p(De).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,headers:p(De).headers,items:e.items,search:e.search,category:e.category,toolbar_title:"Edit Data",form:e.form,pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","form","pageTitle"])]),_:1}),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[1]||(a[1]=g=>e.valert=g),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])],64)}}}),Gn=[{title:"Kode Supplier",align:"start",key:"kode_supplier",dis:!0},{title:"Nama",align:"start",key:"nama",dis:!0},{title:"Alamat",align:"start",key:"alamat",dis:!0},{title:"Kota",align:"start",key:"kota",dis:!0},{title:"Negara",align:"start",key:"negara",dis:!0},{title:"",align:"end",key:"actions",sortable:!1}],qn=["kode_supplier","nama","alamat","kota","negara","status"],Je={headers:Gn,keyform:qn};const zn={class:"d-flex"},Mn={props:["cetak","window"],components:{TableVue:ge,menuList:q,textField:K,CircularLoader:M},data(){return{drawer:!1,loading:!0,authority:"",akses:"",pageTitle:"DATA SUPPLIER",search:"",alpha:0,items:""}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await D.getOtoritas(t),this.authority=j.otoritas(this.akses)),j.routes(this.akses,"Data Supplier"))this.loading=!0,this.items=await D.getSupplier(),this.loading=!1;else return await D.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=Je.headers,i=this.items;f.print(t,e,a,i)}},mounted(){this.page(),this.fetchData()}},Yn=Object.assign(Mn,{__name:"DataSupplier",setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-row"),u=s("v-container");return r(),N(O,null,[n(u,{class:"h-100 pt-9"},{default:l(()=>[n(o,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[S("div",zn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=g=>e.search=g),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0)])]),_:1})]),_:1}),n(ge,{window:t.window,keyform:p(Je).keyform,ishidden:!0,disabled:!0,noselect:!0,id:"tbl_exporttable_to_xls",screen:400,headers:p(Je).headers,items:e.items,view:!0,search:e.search,toolbar_title:"Detail Data",pageTitle:e.pageTitle},null,8,["window","keyform","headers","items","search","pageTitle"])]),_:1}),n(M,{loading:e.loading},null,8,["loading"])],64)}}}),Qn=qe({props:["user","cetak","window"],name:"UserView",components:{BtnInfo:ne,BtnCancel:I,BtnOrange:E,AlertVue:le,DialogConfirm:se,TableVue:ge,UserDetail:He,CircularLoader:M},data(){return{drawer:!1,detail:!1,confirmdialog:!1,pageTitle:"DATA USER",loading:!0,tab:null,valert:!1,message:"",status:null,username:"",password:"",otority:"",akses:"",authority:"",dialogotoritas:[],userselect:"",open:["barang","Laporan"],scrollInvoked:0,items:"",head:[{title:"Username",key:"username"},{key:"actions",align:"end"}],jns_otoritas:["Data Barang","Data Pelanggan","Data Supplier","Data User","Pembelian","Produksi","Penjualan","Pengiriman","Laporan"],user_otoritas:"",headers:[{title:"Jenis Otoritas",key:"jenis_otoritas"},{title:"Tambah Data",key:"tambah"},{title:"Edit Data",key:"edit"},{title:"Batal/Hapus Data",key:"hapus"}]}},methods:{async fetchData(){let t=localStorage.getItem("user");t!=null&&(this.akses=await D.getOtoritas(t),this.authority=j.otoritas(this.akses)),j.routes(this.akses,"Data User")?(this.loading=!0,this.items=await D.getUser(),this.otority=await D.getOtoritas(this.userselect),this.user_otoritas=j.otoritas(this.otority),this.loading=!1):await D.logout()},async pilihUser(t){this.userselect=t;let e=await D.getOtoritas(t);this.user_otoritas=j.otoritas(e)},page(){return this.$emit("page",this.pageTitle)},dataUser(t,e){this.username=t,this.password=e},onScroll(){this.scrollInvoked++},dialog(t){this.tambah=!1,this.ds={},this.detail=!0,this.pilihUser(t)},updt(){this.fetchData()},postUser(t){D.postUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editUser(t){D.editUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},deleteUser(t){D.deleteUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})}},mounted(){this.page(),this.fetchData()}}),Wn=Object.assign(Qn,{setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-row"),u=s("v-container");return r(),d(u,{class:"pt-9 h-100"},{default:l(()=>[n(o,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(i,{class:"mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[n(ne,{onClick:a[0]||(a[0]=g=>(e.tambah=!0,e.edit=!1,e.detail=!0,e.ds=e.j_otoritas)),btn_title:"Tambah User",icon:"mdi-plus"})]),_:1})]),_:1}),n(ge,{window:e.window,userdetail:!0,items:e.items,headers:e.head,editdata:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect,otority:e.otority,onEdit:e.editUser,onDel:e.deleteUser},null,8,["window","items","headers","user_otoritas","j_otoritas","userselect","otority","onEdit","onDel"]),n(He,{modelValue:e.detail,"onUpdate:modelValue":a[2]||(a[2]=g=>e.detail=g),onSubmitUser:e.postUser,tambahUser:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect},{cancel:l(()=>[n(I,{onClick:a[1]||(a[1]=g=>e.detail=!1),btn_title:"Batal",class:"mx-2"})]),_:1},8,["modelValue","onSubmitUser","user_otoritas","j_otoritas","userselect"]),n(se,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[5]||(a[5]=g=>e.confirmdialog=g),object:e.pageTitle},{yesButton:l(()=>[n(E,{onClick:a[3]||(a[3]=g=>(e.deleteUser(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{class:"me-2",onClick:a[4]||(a[4]=g=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[6]||(a[6]=g=>e.valert=g),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])]),_:1})}}}),Xn={class:"d-flex align-center w-100"},Zn={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},xn={components:{PemasukanDetail:Ce,dialogConfirm:se,TableVue:ge,filterDrawer:ee,textField:K,menuList:q,checkBox:oe,DatePicker:J,BtnOrange:E,BtnCancel:I,AlertVue:le,CircularLoader:M},props:["cetak","tema","window","windowH"],data(){return{search:"",periode:[],filter:!1,confirmdialog:!1,loading:!0,status:null,valert:!1,authority:"",message:"",pageTitle:"PEMASUKAN BARANG",btn:"Tambah Barang",sortBy:[{key:"no_pembelian",order:"desc"}],selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",barang:"",pemasukan_item:"",pembelian_head:"",pdetail:"",items:"",dataitems:"",supplier:"",pembeliandetl:"",filtered:{selectdokumen:[],periode:[]},details:[]}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}this.authority!=""?(this.loading=!0,this.items=await D.getPemasukanHead(this.periode),this.supplier=await D.getSupplier(),this.pembeliandetl=await D.getPemasukanDetail(this.periode),this.barang=await D.getBarang(),this.dataitems=ae.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1):await D.logout()},inputhead(t,e){D.postPemasukan(t,e).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){D.deletePemasukan(this.pembelian_head,this.pdetail).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.pembelian_head=t,this.pdetail=e},selected(){this.fetchData()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=ae.headers,i=this.dataitems;f.print(t,e,a,i)},reset(){this.def=!0,this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.filtered.selectdokumen=[],this.selectdokumen=[],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.selected(),this.page()}},el=Object.assign(xn,{__name:"PemasukanBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-responsive"),v=s("v-btn"),P=s("v-row"),k=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=_=>e.filter=_),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=_=>e.filtered.periode[0]=_),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=_=>e.filtered.periode[1]=_),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(p(ae).tipedokumen,(_,h)=>(r(),d(oe,{key:h,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=b=>e.filtered.selectdokumen=b),label:_,value:_},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(k,{class:"pt-9 h-100"},{default:l(()=>[n(P,{"no-gutters":"",class:"mt-n4"},{default:l(()=>[n(g,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[S("div",Xn,[p(j).routes(e.authority,"Tambah Pembelian Baru")?(r(),d(Ce,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,barang:e.barang,batalbtn:"Pemasukan",datainput:p(ae).datainput,onInputhead:e.inputhead,pemasukan:!0,supplier:e.supplier,edit:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:p(ae).headDetails,details:e.details,headers:p(ae).headers,items:e.dataitems,pembeliandetl:e.pembeliandetl,search:e.search,category:p(ae).tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","windowH","tema","barang","datainput","onInputhead","supplier","itemDetail","datatext","btn","headDetails","details","headers","items","pembeliandetl","search","category","selectCategory","pageTitle"])):c("",!0)])]),_:1}),n(g,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[S("div",Zn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=_=>e.search=_),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[5]||(a[5]=_=>e.filter=!e.filter)}),n(v,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=_=>e.fetchData())})])]),_:1})]),_:1}),n(ge,{window:t.window,windowH:t.windowH,sortby:p(ae).sortBy,hapus:p(j).routes(e.authority,"Batal Pembelian"),id:"tbl_exporttable_to_xls",items:e.dataitems,search:e.search,headers:p(ae).headers,masuk:!0,supplier:e.supplier,pembeliandetl:e.pembeliandetl,onConfirm:e.confirm,pageTitle:e.pageTitle,class:"mt-2"},null,8,["window","windowH","sortby","hapus","items","search","headers","supplier","pembeliandetl","onConfirm","pageTitle"]),n(se,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=_=>e.confirmdialog=_),object:e.pageTitle},{yesButton:l(()=>[n(E,{onClick:a[7]||(a[7]=_=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{class:"me-2",onClick:a[8]||(a[8]=_=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=_=>e.valert=_),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),tl=[{title:"Nomor Produksi",key:"no_produksi"},{title:"Tgl Produksi",key:"tgl_produksi"},{title:"Kode Group",key:"kode_group"},{title:"Bahan Baku",key:"bahan_baku"},{title:"Jumlah Bahan Baku",key:"jumlah"},{title:"Barang Jadi",key:"barang_jadi"},{title:"Jumlah Barang Jadi",key:"jml_barang_jadi"},{title:"",key:"actions",sortable:!1}],al=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],nl={no_produksi:"",kode_group:"",tgl_produksi:"",tgl_input:f.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_input:"admin",user_batal:"",status:"true"},Ke=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)t==e[i].no_produksi&&a.push(e[i].nama_barang);return a.toString()},Fe=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)t==e[i].no_produksi&&a.push(e[i].jumlah);return a.reduce((i,o)=>i+o,0)},ll=(t,e,a)=>{let i=[];for(let o=0;o<t.length;o++)for(let u=0;u<e.length;u++)for(let g=0;g<a.length;g++)e[u].no_produksi==t[o].no_produksi&&a[g].no_produksi==t[o].no_produksi&&i.push({no_produksi:t[o].no_produksi,tgl_produksi:t[o].tgl_produksi,tgl_input:t[o].tgl_input,kode_group:t[o].kode_group,bahan_baku:Ke(t[o].no_produksi,e),jumlah:f.numb(Fe(t[o].no_produksi,e)),barang_jadi:Ke(t[o].no_produksi,a),jml_barang_jadi:f.numb(Fe(t[o].no_produksi,a))});return i},il=t=>t.filter((a,i)=>i===t.findIndex(o=>a.no_produksi===o.no_produksi)),sl=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].no_produksi==t&&a.push({no_produksi:e[i].no_produksi,no_urut:1,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,hs_code:e[i].hs_code,jumlah:e[i].jumlah,satuan:e[i].satuan,nilai:e[i].nilai});return a},ol=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].no_produksi==t&&a.push({no_produksi:e[i].no_produksi,no_urut:1,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,jumlah:e[i].jumlah,hs_code:e[i].hs_code,satuan:e[i].satuan,nilai:e[i].nilai});return a},be={headers:tl,headItem:al,input:nl,items:ll,bahan:sl,barang:ol,noDuplicate:il,detail_items:Ke,sum:Fe},rl={components:{VDataTable:z,dialogScroll:je,btnInfoVue:ne,btnCancel:I,btnOrange:E,DatePicker:J,TextFieldForm:$,TextField:K,DialogVue:Ve,TextButton:te,CurrencyInput:de},props:["window","windowH","tema","headers","headItem","edit","hapus","getbarang","detailbahan","groupbarang","detailbarang","select_kode","item"],data(){return{dialog:!1,dialog2:!1,dialogbhn:[],dialogbrg:[],dialog5:!1,valert:!1,status:null,message:"",searched:"",inputbahan:"",inputbarang:"",masuk:"",inputproduksi:be.input,btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="55vh":this.window<1500&&(this.windowH>800?t="60vh":t="55vh"):this.edit||(this.window>1500?this.windowH>800?t="55vh":t="50vh":this.window<1500&&(this.windowH>800?t="55vh":t="50vh")),t},filterkodegroup(){let t=[];for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return f.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))},group_detail(){let t=[];for(let e=0;e<this.filterkodegroup.length;e++)for(let a=0;a<this.groupbarang.length;a++)this.filterkodegroup[e]==this.groupbarang[a].kode_group&&t.push(this.groupbarang[a]);return t}},methods:{bahanmasuk(t){this.inputbahan=t},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},deleteditem(t,e){let a=[];e=="bahan"&&(a=this.inputbahan),e=="barang"&&(a=this.inputbarang);for(let i=0;i<a.length;i++)t==a[i]&&a.splice(i,1)},jumlahtotal(t){let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},confirm(){this.$emit("confirm",this.item,this.detailbahan,this.detailbarang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[],a=[];for(let i=0;i<this.inputbahan.length;i++)e.push({no_produksi:this.inputbahan[i].no_produksi,kode_barang:this.inputbahan[i].kode_barang,nama_barang:this.inputbahan[i].nama_barang,hs_code:this.inputbahan[i].hs_code,jumlah:this.inputbahan[i].jumlah,satuan:this.inputbahan[i].satuan,no_urut:i+1,nilai:this.inputbahan[i].nilai});for(let i=0;i<this.inputbarang.length;i++)a.push({no_produksi:this.inputbarang[i].no_produksi,kode_barang:this.inputbarang[i].kode_barang,nama_barang:this.inputbarang[i].nama_barang,hs_code:this.inputbarang[i].hs_code,jumlah:this.inputbarang[i].jumlah,satuan:this.inputbarang[i].satuan,no_urut:i+1,nilai:this.inputbahan[0].nilai});return this.$emit("inputhead",this.inputproduksi,e,a)}}},mounted(){}},Ge=Object.assign(rl,{__name:"ScreenDialog2",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-list"),u=s("v-menu"),g=s("v-toolbar-title"),v=s("v-spacer"),P=s("v-toolbar"),k=s("v-responsive"),_=s("v-row"),h=s("v-form"),b=s("v-span"),H=s("v-card-title"),T=s("v-card-subtitle"),F=s("v-sheet"),V=s("v-divider"),B=s("v-div"),U=s("v-container"),Y=s("v-card"),W=s("v-btn"),ce=s("v-for"),A=s("v-dialog");return r(),d(A,{modelValue:e.dialog,"onUpdate:modelValue":a[12]||(a[12]=w=>e.dialog=w),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:w})=>[t.edit?c("",!0):(r(),d(ne,Z({key:0,btn_title:"Tambah Baru"},w,{icon:"mdi-plus"}),null,16)),n(u,null,{activator:l(({props:L})=>[t.edit?(r(),d(te,Z({key:0,id:"menu-actions"},L,{icon:"mdi-dots-vertical"}),null,16)):c("",!0)]),default:l(()=>[n(o,null,{default:l(()=>[n(i,Z({class:"text-caption",density:"compact"},w),{default:l(()=>[m("Lihat Data")]),_:2},1040),t.hapus?(r(),d(i,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=L=>e.confirm())},{default:l(()=>[m("Batal Produksi")]),_:1})):c("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(Y,null,{default:l(()=>[n(P,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{icon:"mdi-close",color:"white",onClick:a[1]||(a[1]=w=>(e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]))}),n(g,{class:"text-button"},{default:l(()=>[m("DETAIL PRODUKSI")]),_:1}),n(v)]),_:1}),n(U,{class:"mt-5"},{default:l(()=>[n(h,{onSubmit:a[6]||(a[6]=Pe(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(_,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"pb-3","min-width":"400"},{default:l(()=>[n(k,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[t.edit?(r(),d($,{key:0,"model-value":t.item.no_produksi,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d($,{key:1,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":a[2]||(a[2]=w=>e.inputproduksi.no_produksi=w)},null,8,["modelValue"]))]),_:1}),n(k,{class:"pt-2 mx-3 overflow-visible",width:"250"},{default:l(()=>[t.edit?c("",!0):(r(),d(J,{key:0,"max-date":new Date,label:"Tgl Produksi",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":a[3]||(a[3]=w=>e.inputproduksi.tgl_produksi=w),tema:t.tema,rules:e.required},null,8,["modelValue","tema","rules"])),t.edit?(r(),d($,{key:1,label:"Tgl Produksi",readonly:!0,rules:e.required,"model-value":p(f).formatDate(t.item.tgl_produksi)},null,8,["rules","model-value"])):c("",!0)]),_:1}),n(k,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[t.edit?(r(),d($,{key:0,label:"Kode Group","model-value":t.item.kode_group,readonly:"",rules:e.required},null,8,["model-value","rules"])):c("",!0),t.edit?c("",!0):(r(),d($,{key:1,label:"Kode Group",onClick:a[4]||(a[4]=w=>e.dialog5=!0),modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":a[5]||(a[5]=w=>e.inputproduksi.kode_group=w),rules:e.required},null,8,["modelValue","rules"]))]),_:1})]),_:1})]),_:1},512),n(_,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"mx-sm-0 mx-3","min-width":"400"},{default:l(()=>[n(k,{class:"me-sm-2 me-0 text-sm-left text-center",width:"400"},{default:l(()=>[t.edit?c("",!0):(r(),d(je,{key:0,window:t.window,dialog_title:"stok barang",group_detail:e.group_detail,produksi:!0,btn:e.btn[0],width:"400",barang:t.detailbahan,stok_akhir:!0,tambah:!0,getbarang:t.select_kode,kodegroup:e.inputproduksi.kode_group,onPemasukanitem:e.bahanmasuk},null,8,["window","group_detail","btn","barang","getbarang","kodegroup","onPemasukanitem"])),t.edit?(r(),d(_,{key:1,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[m("detail bahan")]),_:1})):c("",!0),n(U,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(p(z),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbahan:e.inputbahan,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),d(b,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah Bahan : "+y(p(f).numb(e.jumlahtotal(t.detailbahan))),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),d(b,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah bahan : "+y(p(f).numb(e.jumlahtotal(e.inputbahan))),1)]),_:1}))]),"item.jumlah":l(({item:w})=>[m(y(p(f).numb(w.raw.jumlah)),1)]),"item.actions":l(({item:w,index:L})=>[n(Ve,{onUpdate:e.dialogchild,modelValue:e.dialogbhn[L],"onUpdate:modelValue":C=>e.dialogbhn[L]=C},{titlecard:l(()=>[n(H,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[m(y(w.raw.nama_barang),1)]),_:2},1024),n(T,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(y(w.raw.kode_barang),1)]),_:2},1024)]),content:l(()=>[n(F,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),d($,{key:0,"model-value":p(f).numb(w.raw.jumlah),label:"Jumlah",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:1,modelValue:w.raw.jumlah,"onUpdate:modelValue":C=>w.raw.jumlah=C,label:"Jumlah",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(V,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),d(B,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(I,{btn_title:"Hapus",onClick:C=>(e.deleteditem(w.raw,"bahan"),e.dialogbhn[L]=!1),class:"me-2"},null,8,["onClick"]),n(E,{btn_title:"Simpan",type:"submit",onClick:C=>e.dialogbhn[L]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1}),n(k,{class:"mt-md-0 mt-2 text-sm-left text-center",width:"400"},{default:l(()=>[t.edit?c("",!0):(r(),d(je,{key:0,dialog_title:"data barang",produksi:!0,kodegroup:e.inputproduksi.kode_group,btn:e.btn[1],width:"400",barang:t.detailbarang,getbarang:t.getbarang,inputbahan:e.inputbahan,tambah:!0,onPemasukanitem:e.barangmasuk},null,8,["kodegroup","btn","barang","getbarang","inputbahan","onPemasukanitem"])),t.edit?(r(),d(_,{key:1,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[m("detail barang")]),_:1})):c("",!0),n(U,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(p(z),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption he",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),d(b,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah Barang : "+y(p(f).numb(e.jumlahtotal(t.detailbarang))),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),d(b,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah Barang : "+y(p(f).numb(e.jumlahtotal(e.inputbarang))),1)]),_:1}))]),"item.jumlah":l(({item:w})=>[m(y(p(f).numb(w.raw.jumlah)),1)]),"item.actions":l(({item:w,index:L})=>[n(Ve,{onUpdate:e.dialogbrg,modelValue:e.dialogbrg[L],"onUpdate:modelValue":C=>e.dialogbrg[L]=C},{titlecard:l(()=>[n(H,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[m(y(w.raw.nama_barang),1)]),_:2},1024),n(T,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(y(w.raw.kode_barang),1)]),_:2},1024)]),content:l(()=>[n(F,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),d($,{key:0,"model-value":p(f).numb(w.raw.jumlah),label:"Jumlah",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:1,modelValue:w.raw.jumlah,"onUpdate:modelValue":C=>w.raw.jumlah=C,label:"Jumlah",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(V,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),d(B,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(I,{btn_title:"Hapus",onClick:C=>(e.deleteditem(w.raw,"barang"),e.dialogbrg[L]=!1),class:"me-2"},null,8,["onClick"]),n(E,{btn_title:"Simpan",type:"submit",onClick:C=>e.dialogbrg[L]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1})]),_:1}),n(_,{"no-gutters":"",class:"float-end mt-3"},{default:l(()=>[t.edit?c("",!0):(r(),d(I,{key:0,onClick:a[7]||(a[7]=w=>(e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[])),btn_title:"Batal"})),t.edit?c("",!0):(r(),d(E,{key:1,onClick:e.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"]))]),_:1})]),_:1})]),_:1}),n(A,{modelValue:e.dialog5,"onUpdate:modelValue":a[10]||(a[10]=w=>e.dialog5=w),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(Y,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),d(W,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[8]||(a[8]=w=>e.dialog5=!1)})):c("",!0),n(H,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[m("KODE GROUP")]),_:1}),n(B,null,{default:l(()=>[n(K,{modelValue:e.searched,"onUpdate:modelValue":a[9]||(a[9]=w=>e.searched=w),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(o,null,{default:l(()=>[(r(!0),N(O,null,G(e.filterkodegroup,(w,L)=>(r(),d(ce,{key:L},{default:l(()=>[n(i,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:C=>(e.input_kodegroup(w),e.dialog5=!1)},{default:l(()=>[n(b,{class:"text-caption"},{default:l(()=>[m(y(w),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[11]||(a[11]=w=>e.valert=w),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"])]),_:1},8,["modelValue"])}}}),ul={class:"d-flex justify-sm-end justify-start"},dl={components:{ScreenDialog2:Ge,VDataTable:z,textField:K,menuList:q,dialogConfirm:se,BtnFilter:x,datePickerVue:J,BtnCancel:I,BtnOrange:E,alertVue:le,CircularLoader:M},props:["cetak","tema","user","window","windowH"],data(){return{filter:!1,drawer:null,search:"",periode:[],dialog2:!1,confirmdialog:!1,loading:!0,valert:!1,authority:"",status:null,message:"",pageTitle:"PRODUKSI BARANG",selectCategory:"semua",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_produksi",order:"desc"}],filtered:{periode:[]},items:"",detailbahan:"",head:"",detailbhn:"",detailbrg:"",detailbarang:"",groupbarang:"",getbarang:"",getbahan:"",temp:"",select_kode:[]}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getProduksiHead(this.periode);this.detailbahan=await D.getProDBahan(this.periode),this.detailbarang=await D.getProDBarang(this.periode);let a=be.items(e,this.detailbahan,this.detailbarang);this.items=be.noDuplicate(a),this.groupbarang=await D.getGroupBarang(),this.getbarang=await D.getBarang(),this.loading=!1}else return await D.logout()},inputhead(t,e,a){D.postProduksi(t,e,a).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(i=>{this.status=!1,this.valert=!0,this.message=i.response.data})},del(){D.deleteProduksi(this.head,this.detailbhn,this.detailbrg).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e,a){this.confirmdialog=!0,this.head=t,this.detailbrg=e,this.detailbhn=a},selected(){return this.fetchData()},input_kodegroup(t){let e=[],a=[];for(let i=0;i<this.groupbarang.length;i++)this.groupbarang[i].kode_group==t&&e.push(this.groupbarang[i].kode_barang);for(let i=0;i<this.getbarang.length;i++)for(let o=0;o<e.length;o++)this.getbarang[i].kode_barang==e[o]&&a.push(this.getbarang[i]);return this.temp=a,this.select_kode=e},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=be.headers,i=this.items;f.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()}},mounted(){this.fetchData(),this.page()}},ml=Te();Be(()=>{const t=new Date;ml.value=[t,t]});const pl=Object.assign(dl,{__name:"ProduksiBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-div"),v=s("v-responsive"),P=s("v-btn"),k=s("v-row"),_=s("v-sheet"),h=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=b=>e.filter=b),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"","max-date":new Date,modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=b=>e.filtered.periode[0]=b),filter:!0,tema:t.tema},null,8,["max-date","modelValue","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"","min-date":e.filtered.periode[0],modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=b=>e.filtered.periode[1]=b),filter:!0,tema:t.tema},null,8,["min-date","modelValue","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(h,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(v,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[n(g,{class:"d-flex align-center w-100"},{default:l(()=>[p(j).routes(e.authority,"Tambah Produksi Baru")?(r(),d(Ge,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,headers:p(be).headItem,items:e.items,groupbarang:e.groupbarang,getbarang:e.getbarang,onInput_kodegroup:e.input_kodegroup,onInputhead:e.inputhead,select_kode:e.temp},null,8,["window","windowH","tema","headers","items","groupbarang","getbarang","onInput_kodegroup","onInputhead","select_kode"])):c("",!0)]),_:1})]),_:1}),n(v,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[S("div",ul,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=b=>e.search=b),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[4]||(a[4]=b=>e.filter=!e.filter)}),n(P,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=b=>e.fetchData())})])]),_:1})]),_:1}),n(_,{height:t.window>776?"95%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=b=>e.sortBy=b),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(be).headers,items:e.items,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 h-100 border-sm rounded-lg",height:t.window>776?"100%":"92%"},{"item.tgl_produksi":l(({item:b})=>[m(y(p(f).formatDate(b.raw.tgl_produksi)),1)]),"item.actions":l(({item:b})=>[n(Ge,{window:t.window,windowH:t.windowH,hapus:p(j).routes(e.authority,"Batal Pembelian"),batalbtn:"Produksi",edit:!0,detailbahan:p(be).bahan(b.raw.no_produksi,e.detailbahan),detailbarang:p(be).barang(b.raw.no_produksi,e.detailbarang),onConfirm:e.confirm,headItem:p(be).headItem,item:b.raw,headers:p(be).headers},null,8,["window","windowH","hapus","detailbahan","detailbarang","onConfirm","headItem","item","headers"])]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(se,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=b=>e.confirmdialog=b),object:e.pageTitle},{yesButton:l(()=>[n(E,{onClick:a[7]||(a[7]=b=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{class:"me-2",onClick:a[8]||(a[8]=b=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=b=>e.valert=b),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),gl=["BC25","BC41"],hl=[{title:"menunggu",key:"open"},{title:"selesai",key:"true"}],cl=[{title:"Nomor Pengeluaran",key:"no_penjualan"},{title:"Tanggal Keluar",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Total Penjualan",key:"total_penjualan"},{title:"",key:"actions",sortable:!1}],fl=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],bl={no_penjualan:"",tgl_penjualan:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",kode_pelanggan:"",kode_group:"",total_penjualan:"",tgl_input:f.day(),user_input:"admin",tgl_batal:"",user_batal:"",status:"status"},_l=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_pelanggan==e[o].kode_pelanggan&&a.push({no_penjualan:t[i].no_penjualan,tgl_penjualan:t[i].tgl_penjualan,tipe_dokumen:t[i].tipe_dokumen,tgl_dokumen:t[i].tgl_dokumen,no_dokumen:t[i].no_dokumen,nama:e[o].nama,kode_pelanggan:e[o].kode_pelanggan,kode_group:t[i].kode_group,user_input:t[i].user_input,user_batal:"",tgl_input:t[i].tgl_input,tgl_batal:t[i].tgl_batal,total_penjualan:t[i].total_penjualan,status:t[i].status});return a},tt=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.tipe_dokumen)),kl=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].no_penjualan==e&&a.push(t[i]);return a},vl=(t,e,a)=>{let i=tt(t,e);return a.length===0?i:i.filter(o=>a.includes(o.status))},yl=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)e[i].no_penjualan==t[o].no_penjualan&&a.push({no_penjualan:e[i].no_penjualan,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,hs_code:e[i].hs_code,jumlah:e[i].jumlah,jumlah_terkirim:e[i].jumlah_terkirim,satuan:e[i].satuan,harga_jual:e[i].harga_jual,tipe_dokumen:t[o].tipe_dokumen,no_dokumen:t[o].no_dokumen,tgl_dokumen:t[o].tgl_dokumen,kode_pelanggan:t[o].kode_pelanggan,kode_group:t[o].kode_group,total_penjualan:t[o].total_penjualan});return a},ie={tipedokumen:gl,status:hl,headers:cl,headDetails:fl,datainput:bl,items:_l,pilihtipe:tt,penjualan:kl,checkstatus:vl,item_blmterikirim:yl};const wl={components:{dialogScroll:je,VDataTable:z,datePickerVue:J,BtnInfo:ne,textFieldForm:$,BtnCancel:I,BtnOrange:E,dialogSearch:Re,TextField:K,DialogVue:Ve,CurrencyInput:de},props:["tema","window","windowH","hapus","pembelianbaru","namaPelanggan","laporan","groupbarang","barang","batalbtn","penjualan","pemasukan","alamatBongkar","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,dialogkodeg:!1,valid:!1,detaildial:[],arr:[],tipe_dokumen:["BC25","BC41"],searched:"",nama:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:"",inputdata:this.datainput,kurs:"",pemasukan_detail:"",penjualan_detail:[this.penjualan],required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="50vh":this.window<1500&&(this.windowH>800?t="60vh":t="47vh"):this.edit||(this.window>1500?this.windowH>800?t="40vh":t="32vh":this.window<1500&&(this.windowH>800?t="40vh":t="32vh")),t},filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){let t=[];for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return f.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.dataitem,this.penjualan)},tipeDokumen(t){this.inputdata.kode_group=t;let e="";return t.slice(0,4)=="BC23"&&(e="BC25"),t.slice(0,4)=="BC40"&&(e="BC41"),t.slice(0,9)=="PPKEK-LDP"&&(e="BC25"),t.slice(0,11)=="PPKEK-TLDDP"&&(e="BC41"),t.slice(0,10)=="PPKEK-TDDP"&&(e="BC41"),this.inputdata.tipe_dokumen=e},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].jumlah*t[i].harga_jual);return a.reduce((i,o)=>i+o,0)},pilihObjek(t){this.inputdata.kode_pelanggan=t.kode_pelanggan,this.namasupplier=t.nama,this.dialog4=!1},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_penjualan:this.pembelian_input[a].no_penjualan,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_terkirim:this.pembelian_input[a].jumlah_terkirim,satuan:this.pembelian_input[a].satuan,harga_jual:this.pembelian_input[a].harga_jual,total_terjual:this.pembelian_input[a].total_terjual,no_urut:a+1});this.$emit("inputhead",this.inputdata,e)}}},mounted(){}},Ae=Object.assign(wl,{__name:"PengeluaranDetail",setup(t){return(e,a)=>{const i=s("v-icon"),o=s("v-btn"),u=s("v-list-item"),g=s("v-list"),v=s("v-menu"),P=s("v-toolbar-title"),k=s("v-spacer"),_=s("v-toolbar"),h=s("v-responsive"),b=s("v-row"),H=s("v-list-item-title"),T=s("v-form"),F=s("v-container"),V=s("v-span"),B=s("v-if"),U=s("v-card-title"),Y=s("v-card-subtitle"),W=s("v-div"),ce=s("v-divider"),A=s("v-card"),w=s("v-for"),L=s("v-dialog");return r(),d(L,{modelValue:e.dialog,"onUpdate:modelValue":a[14]||(a[14]=C=>e.dialog=C),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:C})=>[t.edit?c("",!0):(r(),d(ne,Z({key:0,icon:"mdi-plus",btn_title:"Tambah Baru"},C),null,16)),n(v,null,{activator:l(({props:X})=>[t.edit?(r(),d(o,Z({key:0,id:"menu-actions",size:"small",variant:"text",color:"grey-darken-2"},X,{icon:""}),{default:l(()=>[n(i,null,{default:l(()=>[m("mdi-dots-vertical")]),_:1})]),_:2},1040)):c("",!0)]),default:l(()=>[n(g,null,{default:l(()=>[n(u,Z({class:"text-caption",density:"compact"},C),{default:l(()=>[m("Lihat Data")]),_:2},1040),!t.laporan&&t.hapus?(r(),d(u,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=X=>e.confirm())},{default:l(()=>[m("Batal Pengeluaran")]),_:1})):c("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(A,null,{default:l(()=>[n(_,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(o,{icon:"",dark:"",onClick:a[1]||(a[1]=C=>(e.inputdata={},e.pembelian_input=[],e.dialog=!1)),size:"small"},{default:l(()=>[n(i,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(P,{class:"text-button mt-1"},{default:l(()=>[m(y("DETAIL "+t.pageTitle),1)]),_:1}),n(k)]),_:1}),n(F,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(r(),d(b,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(h,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"No Penjualan","model-value":t.items.no_penjualan,readonly:""},null,8,["model-value"]),n($,{label:"Tgl Penjualan","model-value":p(f).formatDate(t.items.tgl_penjualan),readonly:""},null,8,["model-value"])]),_:1}),n(h,{class:"pt-2 mx-3 pt-2",width:"250"},{default:l(()=>[n($,{label:"Pelanggan","model-value":t.items.nama,readonly:""},null,8,["model-value"]),n($,{label:"Kode Group","model-value":t.items.kode_group,readonly:""},null,8,["model-value"])]),_:1}),n(h,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"]),n($,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"]),n($,{label:"Tgl Dokumen","model-value":p(f).formatDate(t.items.tgl_dokumen),readonly:""},null,8,["model-value"])]),_:1})]),_:1})):c("",!0),n(T,{onSubmit:a[9]||(a[9]=Pe(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[!t.edit&&t.pengeluaran?(r(),d(b,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400"},{default:l(()=>[n(h,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n($,{label:"No Pengeluaran",modelValue:e.inputdata.no_penjualan,"onUpdate:modelValue":a[2]||(a[2]=C=>e.inputdata.no_penjualan=C),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"]),n(J,{label:"Tgl Keluar",modelValue:e.inputdata.tgl_penjualan,"onUpdate:modelValue":a[3]||(a[3]=C=>e.inputdata.tgl_penjualan=C),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1}),n(h,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[t.edit?c("",!0):(r(),d(Re,{key:0,window:t.window,label:"Pelanggan",objectFilter:t.pelanggan,onPilihObjek:e.pilihObjek,cardTitle:"PELANGGAN","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"])),n($,{label:"Kode Group",onClick:a[4]||(a[4]=C=>e.dialogkodeg=!0),modelValue:e.inputdata.kode_group,"onUpdate:modelValue":a[5]||(a[5]=C=>e.inputdata.kode_group=C),readonly:"",rules:e.required},null,8,["modelValue","rules"])]),_:1}),n(h,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n($,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[6]||(a[6]=C=>e.inputdata.tipe_dokumen=C),rules:e.required,readonly:""},null,8,["modelValue","rules"]),n(v,{activator:"#tipe",class:"elevation-0"},{default:l(()=>[n(g,null,{default:l(()=>[(r(!0),N(O,null,G(e.tipe_dokumen,(C,X)=>(r(),d(u,{key:X,value:X,density:"compact"},{default:l(()=>[n(H,{onClick:ve=>e.inputdata.tipe_dokumen=C,class:"text-caption"},{default:l(()=>[m(y(C),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),n($,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[7]||(a[7]=C=>e.inputdata.no_dokumen=C),rules:e.required},null,8,["modelValue","rules"]),n(J,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[8]||(a[8]=C=>e.inputdata.tgl_dokumen=C),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1})]),_:1})):c("",!0)]),_:1},512),t.edit?c("",!0):(r(),d(F,{key:1,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center mb-n5"},{default:l(()=>[n(je,{window:t.window,dialog_title:"Data Barang",onReset:e.reset,pengeluaran:!0,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,btn:t.btn,width:"400"},null,8,["window","onReset","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),n(F,null,{default:l(()=>[n(p(z),{headers:t.headDetails,items:t.edit?t.penjualan:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 mt-2 px-5 border-sm rounded-lg h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),d(V,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+y(p(f).numb(p(ae).sum(t.penjualan)))+" / Total harga: "+y(p(f).numb(e.jumlahtotal(t.penjualan,"nilai"),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),d(V,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+y(p(f).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total harga: "+y(p(f).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.jumlah":l(({item:C})=>[m(y(p(f).numb(C.raw.jumlah)),1)]),"item.jumlah_terkirim":l(({item:C})=>[m(y(p(f).numb(C.raw.jumlah_terkirim)),1)]),"item.harga_jual":l(({item:C})=>[m(y(p(f).numb(C.raw.harga_jual,2,!0)),1)]),"item.total_terjual":l(({item:C,index:X})=>[t.edit?(r(),d(B,{key:0},{default:l(()=>[m(y(p(f).numb(C.raw.jumlah*C.raw.harga_jual,2,!0)),1)]),_:2},1024)):c("",!0),t.edit?c("",!0):(r(),d(B,{key:1},{default:l(()=>[m(y(p(f).numb(e.pembelian_input[X].jumlah*e.pembelian_input[X].harga_jual,2,!0)),1)]),_:2},1024))]),"item.tipe_dokumen":l(()=>[m(y(t.dokumenpjl.tipe_dokumen),1)]),"item.no_dokumen":l(()=>[m(y(t.dokumenpjl.no_dokumen),1)]),"item.actions":l(({item:C,index:X})=>[n(Ve,{modelValue:e.detaildial[X],"onUpdate:modelValue":ve=>e.detaildial[X]=ve},{titlecard:l(()=>[n(U,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[m(y(C.raw.nama_barang),1)]),_:2},1024),n(Y,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(y(C.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(W,{class:"mx-auto mt-5 w-75"},{default:l(()=>[t.edit?(r(),d($,{key:0,label:"Jumlah","model-value":p(f).numb(C.raw.jumlah),active:"true",readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:1,label:"Jumlah",modelValue:e.pembelian_input[X].jumlah,"onUpdate:modelValue":ve=>e.pembelian_input[X].jumlah=ve,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),d($,{key:2,label:"Harga","model-value":p(f).numb(C.raw.harga_jual,2,!0),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:3,label:"Harga",modelValue:e.pembelian_input[X].harga_jual,"onUpdate:modelValue":ve=>e.pembelian_input[X].harga_jual=ve,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),n($,{label:"Total Harga","model-value":t.edit?p(f).numb(C.raw.harga_jual*C.raw.jumlah):e.pembelian_input[X].harga_jual*e.pembelian_input[X].jumlah,readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])]),_:2},1024),n(ce,{class:"mb-5"}),t.edit?c("",!0):(r(),d(W,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(I,{btn_title:"Hapus",onClick:ve=>(e.deleteditem(C.raw),e.detaildial[X]=!1),hidden:t.disable,class:"me-2"},{default:l(()=>[m("Hapus")]),_:2},1032,["onClick","hidden"]),n(E,{btn_title:"Simpan",hidden:t.disable,onClick:ve=>e.detaildial[X]=!1},{default:l(()=>[m("Simpan")]),_:2},1032,["hidden","onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),n(W,{class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[t.edit?c("",!0):(r(),d(I,{key:0,onClick:a[10]||(a[10]=C=>(e.dialog=!1,e.inputdata={},e.pembelian_input=[])),btn_title:"Batal",class:"mb-3"})),t.edit?c("",!0):(r(),d(E,{key:1,onClick:e.validate,hidden:t.disable,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick","hidden"]))]),_:1})]),_:1})]),_:1}),n(L,{modelValue:e.dialogkodeg,"onUpdate:modelValue":a[13]||(a[13]=C=>e.dialogkodeg=C),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(A,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),d(o,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[11]||(a[11]=C=>e.dialogkodeg=!1)})):c("",!0),n(U,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[m("KODE GROUP")]),_:1}),n(W,null,{default:l(()=>[n(K,{modelValue:e.searched,"onUpdate:modelValue":a[12]||(a[12]=C=>e.searched=C),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(g,null,{default:l(()=>[(r(!0),N(O,null,G(e.filterkodegroup.slice(0,20),(C,X)=>(r(),d(w,{key:X},{default:l(()=>[n(u,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:ve=>(e.tipeDokumen(C),e.dialogkodeg=!1)},{default:l(()=>[m(y(C),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),jl={class:"d-flex align-center w-100"},Vl={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},Dl={components:{dialogConfirm:se,PengeluaranDetail:Ae,VDataTable:z,filterDrawer:ee,textField:K,menuList:q,checkBox:oe,BtnFilter:x,DatePicker:J,BtnCancel:I,BtnOrange:E,AlertVue:le,CircularLoader:M},props:["cetak","tema","user","window","windowH"],data(){return{filter:!1,search:"",periode:"",checkStatus:[],datapelanggan:"",dialog2:!1,confirmdialog:!1,loading:!0,authority:"",status:null,valert:!1,message:"",pageTitle:"PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_penjualan",order:"desc"}],filtered:{selectdokumen:[],periode:[],status:[]},penjualan_head:"",penjualan_detail:"",head:"",detail:"",groupbarang:"",barang:""}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getPenjualanHead(this.periode);this.datapelanggan=await D.getPelanggan(),this.penjualan_head=ie.items(e,this.datapelanggan),this.penjualan_detail=await D.getPenjualanDetail(this.periode),this.groupbarang=await D.getGroupBarang(),this.barang=await D.getBarang(),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},inputhead(t,e){D.postPengeluaran(t,e).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){D.deletePengeluaran(this.head,this.detail).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=ie.headers,i=this.penjualan_head;f.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.filtered.selectdokumen=[],this.filtered.status=[],f.day(),this.selectdokumen=[],this.checkStatus=[],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.checkStatus=this.filtered.status,this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.selected()}},Pl=Te();Be(()=>{const t=new Date;Pl.value=[t,t]});const Tl=Object.assign(Dl,{__name:"PengeluaranBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-responsive"),v=s("v-btn"),P=s("v-row"),k=s("v-sheet"),_=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[4]||(a[4]=h=>e.filter=h),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,null,{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.periode[0]=h),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=h=>e.filtered.periode[1]=h),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(p(ie).tipedokumen,(h,b)=>(r(),d(oe,{key:b,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=H=>e.filtered.selectdokumen=H),label:h,value:h},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Status")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(p(ie).status,(h,b)=>(r(),d(oe,{key:b,modelValue:e.filtered.status,"onUpdate:modelValue":a[3]||(a[3]=H=>e.filtered.status=H),label:h.title,value:h.key},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(_,{class:"pt-9 h-100"},{default:l(()=>[n(P,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(g,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[S("div",jl,[p(j).routes(e.authority,"Tambah Penjualan Baru")?(r(),d(Ae,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,batalbtn:"Pengeluaran",datainput:p(ie).datainput,pengeluaran:!0,groupbarang:e.groupbarang,pelanggan:e.datapelanggan,datatext:e.datatext,pageTitle:e.pageTitle,btn:e.btn,headDetails:p(ie).headDetails,headers:p(ie).headers,items:p(ie).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),barang:e.barang,search:e.search,category:e.category,selectCategory:e.selectCategory,alpha:e.alpha,onInputhead:e.inputhead},null,8,["window","windowH","tema","datainput","groupbarang","pelanggan","datatext","pageTitle","btn","headDetails","headers","items","barang","search","category","selectCategory","alpha","onInputhead"])):c("",!0)])]),_:1}),n(g,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[S("div",Vl,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[5]||(a[5]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[6]||(a[6]=h=>e.filter=!e.filter)}),n(v,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[7]||(a[7]=h=>e.fetchData())})])]),_:1})]),_:1}),n(k,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[8]||(a[8]=h=>e.sortBy=h),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(ie).headers,items:p(ie).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.total_penjualan":l(({item:h})=>[m(y(p(f).numb(h.raw.total_penjualan,2,!0)),1)]),"item.tgl_penjualan":l(({item:h})=>[m(y(p(f).formatDate(h.raw.tgl_penjualan)),1)]),"item.actions":l(({item:h})=>[n(Ae,{window:t.window,windowH:t.windowH,hapus:p(j).routes(e.authority,"Batal Penjualan"),onConfirm:e.confirm,batalbtn:"Pengeluaran",namaPelanggan:p(De).namaPelanggan(p(De),h.raw.kode_pelanggan),penjualan:p(ie).penjualan(e.penjualan_detail,h.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:p(ie).headDetails,items:h.raw,headers:p(ie).headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","windowH","hapus","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","headers","search","category","selectCategory"])]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(se,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[11]||(a[11]=h=>e.confirmdialog=h),object:e.pageTitle},{yesButton:l(()=>[n(E,{class:"ms-2",onClick:a[9]||(a[9]=h=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{onClick:a[10]||(a[10]=h=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[12]||(a[12]=h=>e.valert=h),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Bl=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"",key:"actions",sortable:!1}],Sl=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"Kode Group",key:"kode_group"},{title:"Nama Barang",key:"nama_barang"},{title:"Hs Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],Ul=[{title:"No Penjualan",key:"no_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"Qty",key:"jumlah_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"",key:"actions",sortable:!1}],Cl={no_pengiriman:"",tgl_pengiriman:"",kode_pelanggan:"",kode_alamat_bongkar:"",supir:"",no_polisi:"",user_input:"",tgl_input:"",tgl_batal:"",user_batal:"",keterangan:"",status:""},$e=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)e[o].no_pengiriman==t&&(a=="nama"?i.push(e[o].nama_barang):i=e[o]);return a=="nama"?[...new Set(i)].toString():i},$l=(t,e,a,i)=>{let o=[];for(let u=0;u<t.length;u++)for(let g=0;g<e.length;g++)for(let v=0;v<a.length;v++)t[u].kode_pelanggan==e[g].kode_pelanggan&&t[u].kode_alamat_bongkar==a[v].kode_pelanggan&&o.push({no_pengiriman:t[u].no_pengiriman,tgl_pengiriman:t[u].tgl_pengiriman,kode_pelanggan:t[g].kode_pelanggan,keterangan:t[g].keterangan,kode_alamat_bongkar:t[g].kode_alamat_bongkar,alamat:a[v].alamat,alamat_pelanggan:e[g].alamat,kabupaten:a[v].kabupaten,supir:t[u].supir,no_polisi:t[u].no_polisi,user_input:t[u].user_input,user_batal:t[u].user_batal,tgl_input:t[u].tgl_input,tgl_batal:t[u].tgl_batal,nama:a[v].nama,namaplg:e[g].nama,kode_barang:$e(t[u].no_pengiriman,i).kode_barang,kode_group:$e(t[u].no_pengiriman,i).kode_group,hs_code:$e(t[u].no_pengiriman,i).hs_code,satuan:$e(t[u].no_pengiriman,i).satuan,nama_barang:$e(t[u].no_pengiriman,i,"nama")});return o},Ll=t=>t.filter((a,i)=>i===t.findIndex(o=>a.nama_barang===o.nama_barang)),Al=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)for(let u=0;u<a.length;u++)e[o].no_pengiriman==t&&e[o].no_penjualan==a[u].no_penjualan&&i.push({no_penjualan:e[o].no_penjualan,tipe_dokumen:a[u].tipe_dokumen,no_dokumen:a[u].no_dokumen,kode_group:e[o].kode_group,kode_barang:e[o].kode_barang,nama_barang:e[o].nama_barang,hs_code:e[o].hs_code,jumlah:e[o].jumlah,satuan:e[o].satuan});return i},pe={headers:Bl,headDetails:Ul,datainput:Cl,headersLaporan:Sl,items:$l,details:Al,noDuplicate:Ll};const Nl=S("br",null,null,-1),Ol={components:{dialogScroll:je,VDataTable:z,datePickerVue:J,btnInfoVue:ne,BtnOrange:E,BtnCancel:I,TextFieldForm:$,TextField:K,DialogVue:Ve,CurrencyInput:de},props:["tema","window","windowH","alamatBgkr","hapus","pjl_blmterkirm","pembelianbaru","namaPelanggan","detailkirim","nokirim","nopjl","pjl_detail","alamatBongkar","groupbarang","batalbtn","pengiriman","pemasukan","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","no","tipe","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog4:!1,dialogbongkar:!1,valid:!1,detaildial:[],tipe_dokumen:["BC25","BC41"],searched:"",barang:"",belumkirim:"",belumkirim_detail:"",kirim_detail:"",item_blmterkirim:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",pembelian_input:"",kode_pelanggan:this.namaPelanggan,inputdata:this.datainput,kurs:"",required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="55vh":this.window<1500&&(this.windowH>800?t="60vh":t="55vh"):this.edit||(this.window>1500?this.windowH>800?t="50vh":t="43vh":this.window<1500&&(this.windowH>800?t="50vh":t="43vh")),t},filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.searched!=""?this.searchObj(this.alamatBongkar):this.alamatBongkar},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{async fetchData(){if(this.belumkirim=await D.getBelumTerkirim(),this.belumkirim_detail=await D.getBelumTerkirimDetail(),this.edit){let t=[];for(let a=0;a<this.nopjl.length;a++)t.push(await D.getHeadPenjualan(this.nopjl[a]));let e=[];for(let a=0;a<this.pjl_detail.length;a++)for(let i=0;i<t.length;i++)this.pjl_detail[a].no_penjualan==t[i][0].no_penjualan&&e.push({no_penjualan:this.pjl_detail[a].no_penjualan,tipe_dokumen:t[i][0].tipe_dokumen,no_dokumen:t[i][0].no_dokumen,kode_group:this.pjl_detail[a].kode_group,kode_barang:this.pjl_detail[a].kode_barang,nama_barang:this.pjl_detail[a].nama_barang,hs_code:this.pjl_detail[a].hs_code,jumlah:this.pjl_detail[a].jumlah,jumlah_konversi:this.pjl_detail[a].jumlah_konversi,satuan_konversi:this.pjl_detail[a].satuan_konversi,satuan:this.pjl_detail[a].satuan,no_urut:this.pjl_detail[a].no_urut,nilai:this.pjl_detail[a].nilai});this.kirim_detail=e}},searchObj(t){let e={};return e=t.filter(a=>a.nama.toLowerCase().includes(this.searched.toLowerCase())),e==""&&(e=t.filter(a=>a.alamat.toLowerCase().includes(this.searched.toLowerCase())),e==""&&(e=t.filter(a=>a.kabupaten.toLowerCase().includes(this.searched.toLowerCase())))),e},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.dataitem,this.kirim_detail)},totalharga(t){if(this.dataitem.no_penjualan==t)return f.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t){let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_penjualan:this.pembelian_input[a].no_penjualan,no_pengiriman:this.inputdata.no_pengiriman,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,kode_group:this.pembelian_input[a].kode_group,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_konversi:this.pembelian_input[a].jumlah_konversi,satuan_konversi:this.pembelian_input[a].satuan_konversi,satuan:this.pembelian_input[a].satuan,no_urut:1,nilai:this.pembelian_input[a].nilai});this.$emit("inputhead",this.inputdata,e)}}},mounted(){this.fetchData()}},Ne=Object.assign(Ol,{__name:"PengirimanDetail",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-icon"),u=s("v-btn"),g=s("v-toolbar-title"),v=s("v-spacer"),P=s("v-toolbar"),k=s("v-responsive"),_=s("v-row"),h=s("v-form"),b=s("v-container"),H=s("v-span"),T=s("v-card-title"),F=s("v-card-subtitle"),V=s("v-sheet"),B=s("v-divider"),U=s("v-div"),Y=s("v-card"),W=s("v-for"),ce=s("v-list"),A=s("v-dialog");return r(),d(A,{modelValue:e.dialog,"onUpdate:modelValue":a[19]||(a[19]=w=>e.dialog=w),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:w})=>[t.edit?c("",!0):(r(),d(ne,Z({key:0},w,{btn_title:"Tambah Baru",icon:"mdi-plus"}),null,16)),t.edit?(r(),d(i,Z({key:1},w,{class:"text-caption"}),{default:l(()=>[m(" Lihat Detail ")]),_:2},1040)):c("",!0),t.edit&&t.hapus?(r(),d(i,{key:2,class:"text-caption",onClick:a[0]||(a[0]=L=>e.confirm())},{default:l(()=>[m(" Batal Pengiriman ")]),_:1})):c("",!0)]),default:l(()=>[n(Y,null,{default:l(()=>[n(P,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(u,{icon:"",dark:"",onClick:a[1]||(a[1]=w=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1)),size:"small"},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(g,{class:"text-button mt-1"},{default:l(()=>[m(y("DETAIL "+t.pageTitle),1)]),_:1}),n(v)]),_:1}),n(b,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(r(),d(_,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(k,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"No Pengiriman",modelValue:e.dataitem.no_pengiriman,"onUpdate:modelValue":a[2]||(a[2]=w=>e.dataitem.no_pengiriman=w),readonly:""},null,8,["modelValue"]),n($,{label:"Tgl Pengiriman","model-value":p(f).formatDate(e.dataitem.tgl_pengiriman),readonly:""},null,8,["model-value"])]),_:1}),n(k,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n($,{label:"Supir","model-value":e.dataitem.supir,readonly:""},null,8,["model-value"]),n($,{label:"No Polisi","model-value":e.dataitem.no_polisi,readonly:""},null,8,["model-value"])]),_:1}),n(k,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"Pelanggan","model-value":e.dataitem.namaplg,readonly:""},null,8,["model-value"]),t.alamatBgkr?(r(),d($,{key:0,label:"Tujuan Bongkar","model-value":e.dataitem.nama,readonly:""},null,8,["model-value"])):c("",!0)]),_:1})]),_:1})):c("",!0),n(h,{onSubmit:a[11]||(a[11]=Pe(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[t.edit?c("",!0):(r(),d(_,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between"},{default:l(()=>[n(k,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n($,{label:"No Pengiriman",modelValue:e.inputdata.no_pengiriman,"onUpdate:modelValue":a[3]||(a[3]=w=>e.inputdata.no_pengiriman=w)},null,8,["modelValue"]),n(J,{label:"Tgl Pengiriman",modelValue:e.inputdata.tgl_pengiriman,"onUpdate:modelValue":a[4]||(a[4]=w=>e.inputdata.tgl_pengiriman=w),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1}),n(k,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n($,{onClick:a[5]||(a[5]=w=>e.dialog4=!0),label:"Pelanggan",modelValue:e.inputdata.nama,"onUpdate:modelValue":a[6]||(a[6]=w=>e.inputdata.nama=w),rules:e.required,readonly:""},null,8,["modelValue","rules"]),n($,{onClick:a[7]||(a[7]=w=>e.dialogbongkar=!0),label:"Tujuan Bongkar",modelValue:e.inputdata.tujuan,"onUpdate:modelValue":a[8]||(a[8]=w=>e.inputdata.tujuan=w),rules:e.required,readonly:""},null,8,["modelValue","rules"])]),_:1}),n(k,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n($,{label:"Supir",modelValue:e.inputdata.supir,"onUpdate:modelValue":a[9]||(a[9]=w=>e.inputdata.supir=w),rules:e.required},null,8,["modelValue","rules"]),n($,{label:"No Polisi",modelValue:e.inputdata.no_polisi,"onUpdate:modelValue":a[10]||(a[10]=w=>e.inputdata.no_polisi=w),rules:e.required},null,8,["modelValue","rules"])]),_:1})]),_:1}))]),_:1},512),t.edit?c("",!0):(r(),d(b,{key:1,class:"text-sm-left text-center mt-n5 mb-n5"},{default:l(()=>[n(je,{window:t.window,dialog_title:"pengeluaran belum terkirim",onReset:e.reset,nokirim:e.inputdata.no_pengiriman,blmkirim:!0,pjl_blmterkirm:t.pjl_blmterkirm,belumkirim:e.belumkirim,belumkirim_detail:e.belumkirim_detail,barang:e.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pengiriman:!0,penjualan:e.penjualan,btn:t.btn,width:"400"},null,8,["window","onReset","nokirim","pjl_blmterkirm","belumkirim","belumkirim_detail","barang","itemDetail","onPemasukanitem","penjualan","btn"])]),_:1})),n(b,null,{default:l(()=>[n(p(z),{headers:t.headDetails,items:t.edit?e.kirim_detail:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 rounded-lg border-sm mt-2 h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),d(H,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+y(p(f).numb(e.jumlahtotal(e.kirim_detail),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),d(H,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+y(p(f).numb(e.jumlahtotal(e.pembelian_input))),1)]),_:1}))]),"item.actions":l(({item:w,index:L})=>[n(Ve,{modelValue:e.detaildial[L],"onUpdate:modelValue":C=>e.detaildial[L]=C},{titlecard:l(()=>[n(T,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[m(y(w.raw.nama_barang),1)]),_:2},1024),n(F,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(y(w.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(V,{class:"mx-auto mt-5 w-75"},{default:l(()=>[t.edit?(r(),d($,{key:0,label:"Jumlah (Tonase)","model-value":p(f).numb(w.raw.jumlah),active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:1,label:"Jumlah (Tonase)",modelValue:e.pembelian_input[L].jumlah,"onUpdate:modelValue":C=>e.pembelian_input[L].jumlah=C,active:"true",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),d($,{key:2,label:"Qty","model-value":w.raw.jumlah_konversi,active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d(de,{key:3,label:"Qty",modelValue:e.pembelian_input[L].jumlah_konversi,"onUpdate:modelValue":C=>e.pembelian_input[L].jumlah_konversi=C,active:"true",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),d($,{key:4,label:"Satuan Konversi","model-value":w.raw.satuan_konversi,active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),d($,{key:5,label:"Satuan Konversi",modelValue:e.pembelian_input[L].satuan_konversi,"onUpdate:modelValue":C=>e.pembelian_input[L].satuan_konversi=C,active:"true",class:"mb-3"},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(B,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),d(U,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(I,{btn_title:"Hapus",onClick:C=>(e.deleteditem(w.raw),e.detaildial[L]=!1),class:"me-2"},{default:l(()=>[m("Hapus")]),_:2},1032,["onClick"]),n(E,{btn_title:"Simpan",onClick:C=>e.detaildial[L]=!1},{default:l(()=>[m("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),t.edit?c("",!0):(r(),d(U,{key:2,class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[n(I,{onClick:a[12]||(a[12]=w=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1)),btn_title:"Batal",class:"mb-3"}),n(E,{onClick:e.validate,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick"])]),_:1}))]),_:1})]),_:1}),n(A,{modelValue:e.dialog4,"onUpdate:modelValue":a[15]||(a[15]=w=>e.dialog4=w),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(Y,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[n(U,null,{default:l(()=>[t.window<500?(r(),d(u,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[13]||(a[13]=w=>e.dialog4=!1)})):c("",!0),n(T,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[m("PELANGGAN")]),_:1}),n(K,{modelValue:e.searched,"onUpdate:modelValue":a[14]||(a[14]=w=>e.searched=w),label:"Search"},null,8,["modelValue"])]),_:1}),n(ce,null,{default:l(()=>[(r(!0),N(O,null,G(e.filtersupplier,(w,L)=>(r(),d(W,{key:L},{default:l(()=>[n(i,{density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:C=>(e.inputdata.kode_pelanggan=w.kode_pelanggan,e.inputdata.nama=w.nama,e.dialog4=!1)},{default:l(()=>[m(y(w.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(A,{modelValue:e.dialogbongkar,"onUpdate:modelValue":a[18]||(a[18]=w=>e.dialogbongkar=w),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(Y,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),d(u,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[16]||(a[16]=w=>e.dialogbongkar=!1)})):c("",!0),n(T,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[m("ALAMAT BONGKAR")]),_:1}),n(U,null,{default:l(()=>[n(K,{modelValue:e.searched,"onUpdate:modelValue":a[17]||(a[17]=w=>e.searched=w),label:"Search"},null,8,["modelValue"])]),_:1}),n(ce,{class:"my-4"},{default:l(()=>[n(U,{class:"vh-100"},{default:l(()=>[(r(!0),N(O,null,G(e.filteralamat.slice(0,15),(w,L)=>(r(),d(i,{key:L,density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:C=>(e.inputdata.kode_alamat_bongkar=w.kode_pelanggan,e.inputdata.tujuan=w.nama,e.dialogbongkar=!1)},{default:l(()=>[n(H,{class:"font-weight-medium"},{default:l(()=>[m(y(w.nama),1)]),_:2},1024),m(),Nl,n(H,{class:"text-small"},{default:l(()=>[m(y(w.alamat)+" - "+y(w.kabupaten),1)]),_:2},1024),n(B)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}});const Se=t=>(ze("data-v-0c5ddde2"),t=t(),Me(),t),Rl=Se(()=>S("br",null,null,-1)),Hl=Se(()=>S("br",null,null,-1)),Il=Se(()=>S("thead",null,[S("tr",null,[S("th",{class:"text-left bg-white"},"No"),S("th",{class:"text-left bg-white"},"Nama Barang"),S("th",{class:"text-left bg-white"},"Qty"),S("th",{class:"text-left bg-white"},"Satuan"),S("th",{class:"text-left bg-white"},"Berat (KG)"),S("th",{class:"text-left bg-white"},"Keterangan(Ex.BC)")])],-1)),El={class:"text-body-2"},Jl={class:"text-left"},Kl={class:"text-left"},Fl={class:"text-left",contenteditable:""},Gl={class:"text-left",contenteditable:""},ql={class:"text-left"},zl={class:"text-left"},Ml=Se(()=>S("td",null,null,-1)),Yl=Se(()=>S("td",null,null,-1)),Ql=Se(()=>S("td",null,null,-1)),Wl=Se(()=>S("td",null,null,-1)),Xl={class:"text-left font-weight-bold"},Zl={props:["items","namaTujuan","pengiriman","alamatPelanggan","nokirim","pjl_detail","nopjl"],data(){return{jalan:!1,kirim:this.pengiriman,detailpengiriman:"",penjualanHead:""}},computed:{kirim_detail(){let t=[];for(let e=0;e<this.pjl_detail.length;e++)for(let a=0;a<this.penjualanHead.length;a++)this.pjl_detail[e].no_penjualan==this.penjualanHead[a][0].no_penjualan&&t.push({no_penjualan:this.pjl_detail[e].no_penjualan,tipe_dokumen:this.penjualanHead[a][0].tipe_dokumen,no_dokumen:this.penjualanHead[a][0].no_dokumen,kode_group:this.pjl_detail[e].kode_group,kode_barang:this.pjl_detail[e].kode_barang,nama_barang:this.pjl_detail[e].nama_barang,hs_code:this.pjl_detail[e].hs_code,jumlah:this.pjl_detail[e].jumlah,satuan:this.pjl_detail[e].satuan,jumlah_konversi:this.pjl_detail[e].jumlah_konversi,satuan_konversi:this.pjl_detail[e].satuan_konversi});return t},nama_brg(){let t=[];for(let e=0;e<this.kirim_detail.length;e++)t.push(this.kirim_detail[e].nama_barang);return[...new Set(t)]}},methods:{async fetchData(){let t=[];for(let e=0;e<this.nopjl.length;e++)t.push(await D.getHeadPenjualan(this.nopjl[e]));this.penjualanHead=t},dataitems(t,e){let a=[],i=[],o=[],u="";for(let g=0;g<this.kirim_detail.length;g++)t==this.kirim_detail[g].nama_barang&&(e=="qty"&&a.push(this.kirim_detail[g].jumlah_konversi),e=="jumlah"&&i.push(this.kirim_detail[g].jumlah),e=="keterangan"&&o.push(`
`+this.kirim_detail[g].no_dokumen+"/"+this.kirim_detail[g].tipe_dokumen.slice(2)),e=="satuan"&&(u=this.kirim_detail[g].satuan_konversi));if(e=="qty")return a.reduce((g,v)=>g+v,0);if(e=="jumlah")return i.reduce((g,v)=>g+v,0);if(e=="keterangan")return o.toString();if(e=="satuan")return u},print(){window.print()},sum(){let t=[];for(let e=0;e<this.kirim_detail.length;e++)t.push(this.kirim_detail[e].jumlah);return t.reduce((e,a)=>e+a,0)}},mounted(){this.fetchData()}},xl=Object.assign(Zl,{__name:"SuratJalan",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-icon"),u=s("v-btn"),g=s("v-span"),v=s("v-spacer"),P=s("v-toolbar"),k=s("v-divider"),_=s("v-div"),h=s("v-table"),b=s("v-text"),H=s("v-sheet"),T=s("v-card"),F=s("v-dialog");return r(),d(F,{modelValue:e.jalan,"onUpdate:modelValue":a[2]||(a[2]=V=>e.jalan=V),fullscreen:"",scrim:!1},{activator:l(({props:V})=>[n(i,Z({class:"text-caption"},V),{default:l(()=>[m("Cetak Surat Jalan")]),_:2},1040)]),default:l(()=>[n(P,{class:"bg-blue-custom",height:"50"},{default:l(()=>[n(u,{icon:"",onClick:a[0]||(a[0]=V=>e.jalan=!1),size:"small",class:"text-white"},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(g,{class:"text-button mt-1 text-white"},{default:l(()=>[m("cetak surat jalan")]),_:1}),n(v),n(u,{icon:"",class:"text-white",onClick:a[1]||(a[1]=V=>e.print())},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-printer")]),_:1})]),_:1})]),_:1}),n(T,{id:"suratjalan",class:"bg-grey-lighten-1 overflow-visible"},{default:l(()=>[n(H,{class:"mx-auto text-center py-3 px-7 page"},{default:l(()=>[n(g,{class:"text-h6 font-weight-bold"},{default:l(()=>[m("PT. AURI STEEL METALINDO")]),_:1}),n(k,{thickness:"3",color:"black",class:"border-opacity-100 mt-3 mb-1"}),n(g,{class:"text-h6 font-weight-bold"},{default:l(()=>[m("SURAT JALAN")]),_:1}),n(_,{class:"d-flex mt-3"},{default:l(()=>[n(_,{class:"d-flex text-body-2"},{default:l(()=>[n(g,{class:"me-2"},{default:l(()=>[m("PENERIMA: ")]),_:1}),n(g,{class:"text-start w-75"},{default:l(()=>[m(y(p(f).uppercase(t.items.namaplg))+" ",1),Rl,m(" "+y(p(f).uppercase(t.items.alamat_pelanggan))+" ",1),Hl]),_:1})]),_:1}),n(v),n(_,{class:"d-flex text-body-2"},{default:l(()=>[n(_,{class:"d-flex flex-column"},{default:l(()=>[n(g,{class:"me-2 text-start"},{default:l(()=>[m("No Surat Jalan")]),_:1}),n(g,{class:"me-2 text-start"},{default:l(()=>[m("Tgl Pengiriman")]),_:1}),n(g,{class:"me-2 text-start"},{default:l(()=>[m("Supir/No Polisi")]),_:1})]),_:1}),n(_,{class:"d-flex flex-column"},{default:l(()=>[n(g,{class:"text-start"},{default:l(()=>[m(": "+y(t.items.no_pengiriman),1)]),_:1}),n(g,{class:"text-start"},{default:l(()=>[m(": "+y(p(f).formatDate(t.items.tgl_pengiriman))+" ",1),n(g,{contenteditable:""},{default:l(()=>[m("/ "+y(p(f).getTime()),1)]),_:1})]),_:1}),n(g,{class:"text-start"},{default:l(()=>[m(": "+y(t.items.supir)+"/"+y(t.items.no_polisi),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(h,{density:"compact",class:"text-body-2 mt-2"},{default:l(()=>[Il,S("tbody",El,[(r(!0),N(O,null,G(e.nama_brg,(V,B)=>(r(),N("tr",{key:B},[S("td",Jl,y(B+1),1),S("td",Kl,y(V),1),S("td",Fl,y(e.dataitems(V,"qty")),1),S("td",Gl,y(e.dataitems(V,"satuan")),1),S("td",ql,y(p(f).numb(e.dataitems(V,"jumlah"))),1),S("td",zl,y(e.dataitems(V,"keterangan")),1)]))),128)),S("tr",null,[Ml,Yl,Ql,Wl,S("td",Xl,y(p(f).numb(e.sum())),1)])])]),_:1}),n(_,{class:"d-flex flex-column align-start justify-space-between text-body-2"},{default:l(()=>[n(b,{class:"d-flex flex-column align-start"},{default:l(()=>[m(" Keterangan "),n(g,{class:"ms-3"},{default:l(()=>[m("1. Surat Jalan ini merupakan bukti penerimaan barang")]),_:1}),n(g,{class:"ms-3"},{default:l(()=>[m("2. Surat Jalan ini bukan bukti penjualan (Faktur/Invoice)")]),_:1}),m(" Barang sudah diterima dalam keadaan Baik dan Cukup oleh : ")]),_:1}),n(_,{class:"d-flex justify-space-between w-100 mt-15"},{default:l(()=>[n(_,null,{default:l(()=>[m("(Penerima)")]),_:1}),n(_,null,{default:l(()=>[m("(Supir)")]),_:1}),n(_,null,{default:l(()=>[m("(Bag. Gudang)")]),_:1}),n(_,null,{default:l(()=>[m("(Bag. Exim)")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ye=Q(xl,[["__scopeId","data-v-0c5ddde2"]]);const ei={class:"d-flex align-center w-100"},ti={class:"d-flex align-center justify-sm-end justify-start"},ai={components:{SuratJalan:Ye,dialogConfirm:se,PengirimanDetail:Ne,VDataTable:z,filterDrawer:ee,textField:K,menuList:q,BtnFilter:x,DatePicker:J,TextButton:te,AlertVue:le,BtnOrange:E,BtnCancel:I,CircularLoader:M},props:["cetak","tema","user","window","windowH"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"PENGIRIMAN BARANG",selectCategory:"",btn:"Tambah Barang",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",penjualanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:""}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getPengirimanHead(this.periode);this.alamatBongkar=await D.alamatBongkar(),this.pelanggan=await D.getPelanggan(),this.kirim_detail=await D.getPengirimanDetail(this.periode),this.penjualanHead=await D.getPenjualanHead(this.periode);let a=await D.getBelumTerkirim(),i=await D.getBelumTerkirimDetail();this.pjl_blmterkirm=ie.item_blmterikirim(a,i),this.pengirimanHead=pe.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail,this.pjl_blmterkirm),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=pe.headers,i=this.pengirimanHead;f.print(t,e,a,i)},reset(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()},inputhead(t,e){D.postPengiriman(t,e).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){D.deletePengiriman(this.head,this.detail).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},ni=Te();Be(()=>{const t=new Date;ni.value=[t,t]});const li=Object.assign(ai,{__name:"PengirimanBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-responsive"),v=s("v-btn"),P=s("v-row"),k=s("v-list-item"),_=s("v-list"),h=s("v-menu"),b=s("v-sheet"),H=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=T=>e.filter=T),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=T=>e.filtered.periode[0]=T),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=T=>e.filtered.periode[1]=T),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(H,{class:"pt-9 h-100"},{default:l(()=>[n(P,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(g,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[S("div",ei,[p(j).routes(e.authority,"Tambah Pengiriman Baru")?(r(),d(Ne,{key:0,tema:t.tema,window:t.window,windowH:t.windowH,pjl_blmterkirm:e.pjl_blmterkirm,onInputhead:e.inputhead,alamatBongkar:e.alamatBongkar,kirim:!0,supplier:e.pelanggan,datainput:p(pe).datainput,pageTitle:e.pageTitle,headDetails:p(pe).headDetails,details:e.items,headers:p(pe).headers,items:e.items,search:e.search,category:p(ue).category,selectCategory:e.selectCategory,datatext:e.datatext},null,8,["tema","window","windowH","pjl_blmterkirm","onInputhead","alamatBongkar","supplier","datainput","pageTitle","headDetails","details","headers","items","search","category","selectCategory","datatext"])):c("",!0)])]),_:1}),n(g,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[S("div",ti,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=T=>e.search=T),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[4]||(a[4]=T=>e.filter=!e.filter)}),n(v,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=T=>e.fetchData())})])]),_:1})]),_:1}),n(b,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=T=>e.sortBy=T),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(pe).headers,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pengiriman":l(({item:T})=>[m(y(p(f).formatDate(T.raw.tgl_pengiriman)),1)]),"item.nama":l(({item:T})=>[p(j).routes(e.authority,"Alamat Bongkar")?(r(),d(i,{key:0},{default:l(()=>[m(y(T.raw.nama),1)]),_:2},1024)):c("",!0)]),"column.nama":l(({column:T})=>[p(j).routes(e.authority,"Alamat Bongkar")?(r(),d(i,{key:0},{default:l(()=>[m(y(T.title),1)]),_:2},1024)):c("",!0)]),"item.actions":l(({item:T})=>[n(h,{transition:"slide-y-transition"},{activator:l(({props:F})=>[n(te,Z(F,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(_,{density:"compact",class:"px-3"},{default:l(()=>[n(k,{class:"pa-0"},{default:l(()=>[n(Ne,{window:t.window,windowH:t.windowH,hapus:p(j).routes(e.authority,"Batal Pengiriman"),alamatBgkr:p(j).routes(e.authority,"Alamat Bongkar"),batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(T.raw.no_pengiriman),nokirim:T.raw.no_pengiriman,nopjl:e.Penjualandetl(T.raw.no_pengiriman),pjl_detail:e.pjl_detail(T.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:p(pe).headDetails,headers:p(pe).headers,items:T.raw,disable:!0},null,8,["window","windowH","hapus","alamatBgkr","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items"])]),_:2},1024),p(j).routes(e.authority,"Cetak Surat Jalan")?(r(),d(Ye,{key:0,pengiriman:e.Penjualandetl(T.raw.no_pengiriman),items:T.raw,nokirim:T.raw.no_pengiriman,nopjl:e.Penjualandetl(T.raw.no_pengiriman),pjl_detail:e.pjl_detail(T.raw.no_pengiriman)},null,8,["pengiriman","items","nokirim","nopjl","pjl_detail"])):c("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(se,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=T=>e.confirmdialog=T),object:e.pageTitle},{yesButton:l(()=>[n(E,{class:"ms-2",onClick:a[7]||(a[7]=T=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{onClick:a[8]||(a[8]=T=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=T=>e.valert=T),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),ii={class:"d-flex"},si={components:{TableVue:ge,filterDrawer:ee,checkBox:oe,menuList:q,textField:K,BtnFilter:x,CircularLoader:M},props:["page","cetak","window"],data(){return{drawer:null,search:"",searched:"",group_barang:[],kode_barang:[],filter:!1,dialoggb:!1,loading:!0,pageTitle:"LAPORAN STOK BARANG",selectCategory:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",authority:"",items:"",logbrg:"",databarang:"",filtered:{kategori_barang:[],group_barang:[],kode_barang:[]}}},computed:{selected(){if(this.selectCategory.length===0)return _e.stokBarang(this.databarang,this.items);{let t=[],e=_e.stokBarang(this.databarang,this.items).filter(a=>this.selectCategory.includes(a.kategori_barang));for(let a=0;a<e.length;a++)t.push(e[a].kode_barang);return _e.stokBarang(this.databarang,this.items).filter(a=>t.includes(a.kode_barang))}},filter_kodebarang(){let t=_e.noDuplicate(this.selected);return this.kode_barang.length===0?t:t.filter(e=>this.kode_barang.includes(e.kode_barang))},dataItem(){let t=this.filter_kodebarang;return this.group_barang.length===0?t:t.filter(a=>this.group_barang.includes(a.kode_group))},kodeGroup(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].kode_group);return f.removeDuplicate(t)}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await D.getGroupBarang(),this.databarang=await D.getBarang(),this.logbrg=await D.getLogBarang(),this.loading=!1;else return await D.logout()},pages(){return this.$emit("page",this.pageTitle)},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=_e.headStokBarang,i=this.dataItem;f.print(t,e,a,i)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[],this.group_barang=this.filtered.group_barang,this.kode_barang=this.filtered.kode_barang},reset(){this.filtered.group_barang=[],this.filtered.kode_barang=[],this.filtered.kategori_barang=[],this.selectCategory=[],this.group_barang=[]}},mounted(){this.fetchData(),this.pages()}},oi=Object.assign(si,{__name:"LaporanStok",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-combobox"),g=s("v-btn"),v=s("v-responsive"),P=s("v-row"),k=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=_=>e.filter=_),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Kategori Barang")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(p(ue).category,(_,h)=>(r(),d(oe,{key:h,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[0]||(a[0]=b=>e.filtered.kategori_barang=b),label:_,value:_},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Kode Group")]),_:1}),n(o),n(u,{items:e.kodeGroup,modelValue:e.filtered.group_barang,"onUpdate:modelValue":a[1]||(a[1]=_=>e.filtered.group_barang=_),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(k,{class:"pt-9 h-100"},{default:l(()=>[n(P,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(v,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[S("div",ii,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=_=>e.search=_),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{icon:"mdi-tune-vertical",onClick:a[4]||(a[4]=_=>e.filter=!e.filter)}),n(g,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=_=>e.fetchData())})])]),_:1})]),_:1}),n(ge,{window:t.window,id:"tbl_exporttable_to_xls",groupbarang:e.items,stok:p(_e).detail(e.databarang,e.items),barang:e.databarang,logbrg:e.logbrg,headers:p(_e).headStokBarang,items:e.dataItem,search:e.search,category:p(ue).category,selectCategory:e.selectCategory,laporanstok:!0},null,8,["window","groupbarang","stok","barang","logbrg","headers","items","search","category","selectCategory"])]),_:1}),n(M,{loading:e.loading},null,8,["loading"])],64)}}}),ri={class:"d-flex"},ui={components:{VDataTable:z,PemasukanDetail:Ce,filterDrawer:ee,textField:K,menuList:q,checkBox:oe,BtnFilter:x,DatePicker:J,CircularLoader:M},props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,pageTitle:"LAPORAN PEMASUKAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pembelian",key:"no_pembelian"},{title:"Tanggal Pembelian",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Total Nilai",key:"total_nilai"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions",sortable:!1}],details:"",items:"",pembeliandetl:"",dataitems:"",barang:"",supplier:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await D.getPemasukanHead(this.periode),this.supplier=await D.getSupplier(),this.pembeliandetl=await D.getPemasukanDetail(this.periode),this.barang=await D.getBarang(),this.dataitems=ae.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1;else return await D.logout()},page(){return this.$emit("page",this.pageTitle)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.supplier.length;a++)if(t==this.supplier[a].kode_supplier)return this.supplier[a].nama}if(e=="pembelian"){let a=[];for(let i=0;i<this.pembeliandetl.length;i++)this.pembeliandetl[i].no_pembelian==t&&a.push(this.pembeliandetl[i]);return a}if(e=="total")return f.numb(t,2);if(e==="kategori"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="diterima"){for(let a=0;a<this.pembeliandetl.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pembeliandetl[a].no_pembelian){if(e=="diterima")return f.numb(this.pembeliandetl[a].jumlah_diterima);if(this.pembeliandetl[a].kode_barang==this.barang[i].kode_barang){if(e=="kategori")return this.barang[i].kategori_barang;if(e=="namabrg")return this.barang[i].nama_barang;if(e=="hscode")return this.barang[i].hs_code;if(e=="satuan")return this.barang[i].satuan}}}},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,nama:this.dataTable(this.items[e].kode_supplier,"nama"),kategori_barang:this.dataTable(this.items[e].no_pembelian,"kategori"),nama_barang:this.dataTable(this.items[e].no_pembelian,"namabrg"),hs_code:this.dataTable(this.items[e].no_pembelian,"hscode"),satuan:this.dataTable(this.items[e].no_pembelian,"satuan"),jumlah_diterima:this.dataTable(this.items[e].no_pembelian,"diterima"),total_nilai:this.dataTable(this.items[e].total_nilai,"total")});return t},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.dataitems;f.print(t,e,a,i)},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()],this.selectdokumen=[],this.getPembelian()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.fetchData()}},di=Te();Be(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));di.value=[t,e]});const mi=Object.assign(ui,{__name:"LaporanPemasukan",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-btn"),v=s("v-responsive"),P=s("v-row"),k=s("v-sheet"),_=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=h=>e.filter=h),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.periode[0]=h),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=h=>e.filtered.periode[1]=h),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(e.tipedokumen,(h,b)=>(r(),d(oe,{key:b,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=H=>e.filtered.selectdokumen=H),label:h,value:h},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(_,{class:"pt-9 h-100"},{default:l(()=>[n(P,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(v,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[S("div",ri,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=h=>e.filter=!e.filter)}),n(g,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=h=>e.fetchData())})])]),_:1})]),_:1}),n(k,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.dataitems,headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 rounded-lg border-sm h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pembelian":l(({item:h})=>[m(y(p(f).formatDate(h.raw.tgl_pembelian)),1)]),"item.actions":l(({item:h})=>[n(Ce,{window:t.window,tema:t.tema,batalbtn:"Pemasukan",onConfirm:e.confirm,laporan:!0,namaSupplier:e.dataTable(h.raw.kode_supplier,"nama"),pembelian:e.dataTable(h.raw.no_pembelian,"pembelian"),total:e.dataTable(h.raw.total_nilai,"total"),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:[e.details],headers:e.headers,items:h.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","tema","onConfirm","namaSupplier","pembelian","total","itemDetail","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","pageTitle"])]),_:1},8,["items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(M,{loading:e.loading},null,8,["loading"])],64)}}}),pi={class:"d-flex"},gi={components:{PengeluaranDetail:Ae,filterDrawer:ee,textField:K,menuList:q,checkBox:oe,BtnFilter:x,DatePicker:J,CircularLoader:M},props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,authority:"",pageTitle:"LAPORAN PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC25","BC41"],headers:[{title:"Nomor Penjualan",key:"no_penjualan"},{title:"Tgl Penjualan",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Tgl Dokumen",key:"tgl_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah",key:"jumlah"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],items:"",pjldetail:"",pelanggan:"",barang:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await D.getPenjualanHead(this.periode),this.pjldetail=await D.getPenjualanDetail(this.periode),this.pelanggan=await D.getPelanggan(),this.barang=await D.getBarang(),this.loading=!1;else return await D.logout()},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},page(){return this.$emit("page",this.pageTitle)},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},penjualan(t){let e=[];for(let a=0;a<this.pjldetail.length;a++)this.pjldetail[a].no_penjualan==t&&e.push(this.pjldetail[a]);return e},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.pelanggan.length;a++)if(t==this.pelanggan[a].kode_pelanggan)return this.pelanggan[a].nama}if(e=="total")return f.numb(t);if(e=="kategori"||e=="kodebrg"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="jumlah"){for(let a=0;a<this.pjldetail.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pjldetail[a].no_penjualan){if(e=="kodebrg")return this.pjldetail[a].kode_barang;if(e=="kategori"){if(this.pjldetail[a].kode_barang==this.barang[i].kode_barang)return this.barang[i].kategori_barang}else{if(e=="namabrg")return this.pjldetail[a].nama_barang;if(e=="hscode")return this.pjldetail[a].hs_code;if(e=="satuan")return this.pjldetail[a].satuan;if(e=="jumlah")return f.numb(this.pjldetail[a].jumlah)}}}},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.printdata();f.print(t,e,a,i)},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_penjualan:this.items[e].no_penjualan,tgl_penjualan:this.items[e].tgl_penjualan,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,tgl_dokumen:this.items[e].tgl_dokumen,nama:this.dataTable(this.items[e].kode_pelanggan,"nama"),kode_group:this.dataTable(this.items[e].no_penjualan,"kodebrg"),kategori_barang:this.dataTable(this.items[e].no_penjualan,"kategori"),nama_barang:this.dataTable(this.items[e].no_penjualan,"namabrg"),hs_code:this.dataTable(this.items[e].no_penjualan,"hscode"),satuan:this.dataTable(this.items[e].no_penjualan,"satuan"),jumlah:this.dataTable(this.items[e].no_penjualan,"jumlah")});return t},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()],this.selectdokumen=[],this.getPenjualan()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.updt()}},hi=Te();Be(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));hi.value=[t,e]});const ci=Object.assign(gi,{__name:"LaporanPengeluaran",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-btn"),v=s("v-responsive"),P=s("v-row"),k=s("v-sheet"),_=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=h=>e.filter=h),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.periode[0]=h),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=h=>e.filtered.periode[1]=h),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(e.tipedokumen,(h,b)=>(r(),d(oe,{key:b,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=H=>e.filtered.selectdokumen=H),label:h,value:h},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(_,{class:"pt-9 h-100"},{default:l(()=>[n(P,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(v,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[S("div",pi,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=h=>e.filter=!e.filter)}),n(g,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=h=>e.fetchData())})])]),_:1})]),_:1}),n(k,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 rounded-lg border-sm h-100",height:t.window>776?"100%":"92%"},{"item.tgl_penjualan":l(({item:h})=>[m(y(p(f).formatDate(h.raw.tgl_penjualan)),1)]),"item.nama":l(({item:h})=>[m(y(e.dataTable(h.raw.kode_pelanggan,"nama")),1)]),"item.kategori_barang":l(({item:h})=>[m(y(e.dataTable(h.raw.no_penjualan,"kategori")),1)]),"item.kode_barang":l(({item:h})=>[m(y(e.dataTable(h.raw.no_penjualan,"kodebrg")),1)]),"item.nama_barang":l(({item:h})=>[m(y(e.dataTable(h.raw.no_penjualan,"namabrg")),1)]),"item.hs_code":l(({item:h})=>[m(y(e.dataTable(h.raw.no_penjualan,"hscode")),1)]),"item.satuan":l(({item:h})=>[m(y(e.dataTable(h.raw.no_penjualan,"satuan")),1)]),"item.jumlah":l(({item:h})=>[m(y(e.dataTable(h.raw.no_penjualan,"jumlah")),1)]),"item.actions":l(({item:h})=>[n(Ae,{window:t.window,onConfirm:e.confirm,batalbtn:"Pengeluaran",laporan:!0,namaPelanggan:e.namaPelanggan(h.raw.kode_pelanggan),penjualan:e.penjualan(h.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:e.headDetails,items:h.raw,details:e.details,headers:e.headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","details","headers","search","category","selectCategory"])]),_:1},8,["items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(M,{loading:e.loading},null,8,["loading"])],64)}}}),fi={class:"d-flex align-center justify-sm-end justify-start"},bi={components:{SuratJalan:Ye,dialogConfirm:se,PengirimanDetail:Ne,VDataTable:z,filterDrawer:ee,textField:K,menuList:q,BtnFilter:x,DatePicker:J,TextButton:te,AlertVue:le,BtnOrange:E,BtnCancel:I,CircularLoader:M},props:["cetak","tema","user","window"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"LAPORAN PENGIRIMAN",selectCategory:"",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",penjualanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:""}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=j.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getPengirimanHead(this.periode);this.alamatBongkar=await D.alamatBongkar(),this.pelanggan=await D.getPelanggan(),this.penjualanHead=await D.getPenjualanHead(this.periode),this.kirim_detail=await D.getPengirimanDetail(this.periode);let a=await D.getBelumTerkirim(),i=await D.getBelumTerkirimDetail();this.pjl_blmterkirm=ie.item_blmterikirim(a,i),this.pengirimanHead=pe.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=pe.headers,i=this.pengirimanHead;f.print(t,e,a,i)},reset(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()},inputhead(t,e){D.postPengiriman(t,e).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){D.deletePengiriman(this.head,this.detail).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},_i=Te();Be(()=>{const t=new Date;_i.value=[t,t]});const ki=Object.assign(bi,{__name:"LaporanPengiriman",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-btn"),v=s("v-responsive"),P=s("v-row"),k=s("v-list-item"),_=s("v-list"),h=s("v-menu"),b=s("v-sheet"),H=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=T=>e.filter=T),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=T=>e.filtered.periode[0]=T),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=T=>e.filtered.periode[1]=T),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(H,{class:"pt-9 h-100"},{default:l(()=>[n(P,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(v,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[S("div",fi,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=T=>e.search=T),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(j).routes(e.authority,"Pengaturan Umum")?(r(),d(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[4]||(a[4]=T=>e.filter=!e.filter)}),n(g,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=T=>e.fetchData())})])]),_:1})]),_:1}),n(b,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=T=>e.sortBy=T),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(pe).headersLaporan,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pengiriman":l(({item:T})=>[m(y(p(f).formatDate(T.raw.tgl_pengiriman)),1)]),"item.nama":l(({item:T})=>[p(j).routes(e.authority,"Tujuan Bongkar")?(r(),d(i,{key:0},{default:l(()=>[m(y(T.raw.nama),1)]),_:2},1024)):c("",!0)]),"column.nama":l(({column:T})=>[p(j).routes(e.authority,"Tujuan Bongkar")?(r(),d(i,{key:0},{default:l(()=>[m(y(T.title),1)]),_:2},1024)):c("",!0)]),"item.actions":l(({item:T})=>[n(h,{transition:"slide-y-transition"},{activator:l(({props:F})=>[n(te,Z(F,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(_,{density:"compact",class:"px-3"},{default:l(()=>[n(k,{class:"pa-0"},{default:l(()=>[n(Ne,{window:t.window,batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(T.raw.no_pengiriman),nokirim:T.raw.no_pengiriman,nopjl:e.Penjualandetl(T.raw.no_pengiriman),pjl_detail:e.pjl_detail(T.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:p(pe).headDetails,headers:p(pe).headers,items:T.raw,disable:!0},null,8,["window","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(se,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=T=>e.confirmdialog=T),object:e.pageTitle},{yesButton:l(()=>[n(E,{class:"ms-2",onClick:a[7]||(a[7]=T=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{onClick:a[8]||(a[8]=T=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(le,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=T=>e.valert=T),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(M,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),vi={class:"d-flex"},yi={components:{filterDrawer:ee,checkBox:oe,BtnFilter:x,TextField:K,DatePicker:J,CircularLoader:M},props:["tema","cetak","user","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,akses:"",pageTitle:"LAPORAN LOG USER",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",datauser:["admin","beacukai"],selectuser:[],items:"",users:"",filtered:{selectuser:[],periode:[]}}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await D.getOtoritas(t),this.authority=j.otoritas(this.akses)),j.routes(this.akses,"Laporan Log User"))this.loading=!0,this.users=await D.getUser(),this.items=await D.getLogUser(this.periode),this.loading=!1;else return await D.logout()},selected(){return this.selectuser.length===0?this.items:this.items.filter(t=>this.selectuser.includes(t.username))},close(t){return this.filter=t},page(){return this.$emit("page",this.pageTitle)},updt(){this.fetchData()},reset(){this.filtered.selectuser=[],this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.selectuser=[],this.getLogUser()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectuser=this.filtered.selectuser,this.selectuser?this.selectuser==[]&&(this.selectuser=[]):this.selectuser=[]}},mounted(){this.page(),this.updt()}},wi=Te();Be(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));wi.value=[t,e]});const ji=Object.assign(yi,{__name:"LaporanLog",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),u=s("v-label"),g=s("v-responsive"),v=s("v-row"),P=s("v-container");return r(),N(O,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=k=>e.filter=k),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=k=>e.filtered.periode[0]=k),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(J,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=k=>e.filtered.periode[1]=k),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),N(O,null,G(e.datauser,(k,_)=>(r(),d(oe,{key:_,modelValue:e.filtered.selectuser,"onUpdate:modelValue":a[2]||(a[2]=h=>e.filtered.selectuser=h),label:k,value:k},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(P,{class:"pt-9 h-100"},{default:l(()=>[n(v,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(g,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[S("div",vi,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=k=>e.search=k),placeholder:"Search"},null,8,["modelValue"]),n(x,{class:"ms-2",onClick:a[5]||(a[5]=k=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(ge,{window:t.window,id:"tbl_exporttable_to_xls",headers:p(_e).headLogUser,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,log:!0},null,8,["window","headers","items","search","category","selectCategory"])]),_:1}),n(M,{loading:e.loading},null,8,["loading"])],64)}}}),Oe=dt({history:mt("/inventori"),routes:[{path:"/",meta:{middleware:[re]},redirect:{name:"DataBarang"}},{path:"/login",name:"login",component:On},{path:"/test-page",name:"testPage",component:yn},{path:"/data-barang",name:"DataBarang",meta:{middleware:[re]},component:gn},{path:"/data-pelanggan",name:"DataPelanggan",meta:{middleware:[re]},component:Fn},{path:"/data-supplier",name:"DataSupplier",meta:{middleware:[re]},component:Yn},{path:"/data-user",name:"DataUser",meta:{middleware:[re]},component:Wn},{path:"/pemasukan",name:"PemasukanBarang",meta:{middleware:[re]},component:el},{path:"/produksi",name:"ProduksiBarang",meta:{middleware:[re]},component:pl},{path:"/pengeluaran",name:"PengeluaranBarang",meta:{middleware:[re]},component:Tl},{path:"/pengiriman",name:"PengirimanBarang",meta:{middleware:[re]},component:li},{path:"/laporan-stok",name:"LaporanStok",meta:{middleware:[re]},component:oi},{path:"/laporan-pemasukan",name:"LaporanPemasukan",meta:{middleware:[re]},component:mi},{path:"/laporan-pengeluaran",name:"LaporanPengeluaran",meta:{middleware:[re]},component:ci},{path:"/laporan-pengiriman",name:"LaporanPengiriman",meta:{middleware:[re]},component:ki},{path:"/laporan-log",name:"log",meta:{middleware:[re]},component:ji}]});Oe.beforeEach((t,e,a)=>{if(!t.meta.middleware)return a();const i=t.meta.middleware,o={from:e,next:a,router:Oe,to:t};return i[0]({...o,next:at(o,i,1)})});function at(t,e,a){const i=e[a];return i?()=>{const o=at(t,e,a+1);i({...t,next:o})}:t.next}const R=pt.create({baseURL:"https://auristeel.com/api",headers:{csrf:localStorage.getItem("token"),"Content-Type":"application/json"}}),Le=localStorage.getItem("user"),D={postLogin(t){return R.post("/login",t)},getData(t,e){return R.get(t,e)},putData(t,e){return R.patch(t,e)},deleteData(t,e){return R.delete(t,{data:e})},async getUser(t){try{const e={username:t};return(await R.get("/user?",{params:e})).data}catch{return this.logout()}},async getLogUser(t){try{const e="/log_user?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getOtoritas(t){try{return(await R.get("/user_otoritas/"+t)).data}catch{return this.logout()}},postUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Alamat Bongkar",status:String(t.pengiriman[5].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const o=JSON.stringify(i);return R.post("/user",{username:e,password:a,otoritas:o})},editUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Alamat Bongkar",status:String(t.pengiriman[5].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const o=JSON.stringify(i);return R.patch("/user",{username:e,password:a,otoritas:o})},deleteUser(t){const e="/user";let a={username:t};return R.delete(e,{data:a})},async getGroupBarang(){try{return(await R.get("/group_barang")).data}catch{return this.logout()}},async alamatBongkar(){try{return(await R.get("/alamat_bongkar")).data}catch{return this.logout()}},async getBarang(){try{return(await R.get("/barang?status=true")).data}catch{return this.logout()}},postBarang(t){const e=JSON.stringify(t);return R.post("/barang",{barang:e})},putBarang(t){const e=JSON.stringify(t);return R.patch("/barang",{barang:e})},deleteBarang(t){let e={kode_barang:t.kode_barang};return R.delete("/barang",{data:e})},async getPelanggan(){try{return(await R.get("/pelanggan")).data}catch{return this.logout()}},postPelanggan(t){const e=JSON.stringify(t);return R.post("/pelanggan",{pelanggan:e})},putPelanggan(t){const e=JSON.stringify(t);return R.patch("/pelanggan",{pelanggan:e})},deletePelanggan(t){let e={kode_pelanggan:t.kode_pelanggan};return R.delete("/pelanggan",{data:e})},async getSupplier(){try{return(await R.get("/supplier?status=true")).data}catch{return this.logout()}},async getPemasukanHead(t){try{const e="/pembelian_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getPemasukanDetail(t){try{const e="/pembelian_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},postPemasukan(t,e){const a=JSON.stringify(t),i=JSON.stringify(e);return R.post("/pembelian_head?",{pembelian_head:a,pembelian_detail:i})},deletePemasukan(t,e){const a={no_pembelian:t.no_pembelian,tgl_batal:"",kode_supplier:t.kode_supplier,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,no_invoice:t.no_invoice,no_bl:t.no_bl,mata_uang:t.mata_uang,kurs:t.kurs,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_pembelian:t.no_pembelian};return R.delete("/pembelian_head",{data:i})},async getProduksiHead(t){try{const e="/produksi_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getProDBahan(t){try{const e="/produksi_detail_bahan?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getProDBarang(t){try{const e="/produksi_detail_barang?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getLogBarang(){try{return(await R.get("/log_barang?")).data}catch{return this.logout()}},postProduksi(t,e,a){const i=JSON.stringify(t),o=JSON.stringify(e),u=JSON.stringify(a);return R.post("/produksi_head",{produksi_head:i,produksi_detail_bahan:o,produksi_detail_barang:u})},deleteProduksi(t,e,a){let i={no_produksi:t.no_produksi,tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:f.day(),user_batal:Le,status:"false"};JSON.stringify(i),JSON.stringify(e),JSON.stringify(a);const o={no_produksi:t.no_produksi};return R.delete("/produksi_head",{data:o})},async getPengirimanHead(t){try{const e="/pengiriman_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getPengirimanDetail(t){try{const e="/pengiriman_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},postPengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,keterangan:"",no_polisi:t.no_polisi,user_input:Le,tgl_input:f.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_batal:"",status:"true"};const i=JSON.stringify(a),o=JSON.stringify(e);return R.post("/pengiriman_head?",{pengiriman_head:i,pengiriman_detail:o})},deletePengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,no_polisi:t.no_polisi,user_input:t.user_input,tgl_input:t.tgl_input,tgl_batal:f.day(),user_batal:Le,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_pengiriman:t.no_pengiriman};return R.delete("/pengiriman_head",{data:i})},async getPenjualanHead(t){try{const e="/penjualan_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getHeadPenjualan(t){try{const e="/penjualan_head/"+t;return(await R.get(e)).data}catch(e){console.log(e)}},async getPenjualanDetail(t){try{const e="/penjualan_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getBelumTerkirim(){try{return(await R.get("/penjualan_head/belum_terkirim")).data}catch{return this.logout()}},async getBelumTerkirimDetail(){try{return(await R.get("/penjualan_detail/belum_terkirim")).data}catch{return this.logout()}},postPengeluaran(t,e){let a={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:e[0].total_terjual,tgl_input:f.day(),user_input:Le,tgl_batal:"1999-12-31T17:00:00.000Z",user_batal:"",status:"open"};const i=JSON.stringify(a),o=JSON.stringify(e);return R.post("/penjualan_head?",{penjualan_head:i,penjualan_detail:o})},deletePengeluaran(t,e){const a={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:t.total_penjualan,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:new Date,user_batal:Le,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_penjualan:t.no_penjualan};return R.delete("/penjualan_head",{data:i})},logout(){return localStorage.removeItem("token"),localStorage.removeItem("user"),Oe.push("/login")}};const Vi={class:"d-flex flex-column align-center rounded-xl border"},Di={props:["pageTitle"],data(){return{user:"",dark:null,menu:[{title:"Ubah Password",value:"changepass"},{title:"Logout",value:"logout"}],title:this.pageTitle}},created(){this.user=localStorage.getItem("user")},methods:{logout(){D.logout()},theme(){this.dark=!this.dark,this.$emit("dark",this.dark)}},mounted(){}},Pi=Object.assign(Di,{__name:"AppBar",setup(t){return(e,a)=>{const i=s("v-toolbar-title"),o=s("v-spacer"),u=s("v-span"),g=s("v-btn"),v=s("v-divider"),P=s("v-icon"),k=s("v-avatar"),_=s("v-card"),h=s("v-menu"),b=s("v-sheet"),H=s("v-div"),T=s("v-toolbar"),F=s("v-container"),V=s("v-app-bar");return r(),d(V,{class:"elevation-0 py-1 border-b-sm",height:"55"},{default:l(()=>[n(F,{class:"d-flex align-center"},{default:l(()=>[ke(e.$slots,"app-btn",{},void 0,!0),n(T,{class:"bg-transparent pe-3 ms-n3"},{default:l(()=>[n(i,{class:"text-button font-weight-medium text-blue-custom"},{default:l(()=>[m(y(t.pageTitle),1)]),_:1}),n(o),n(H,{class:"d-flex align-center"},{default:l(()=>[n(g,{icon:"",size:"small",color:"blue-custom",onClick:a[0]||(a[0]=B=>e.theme())},{default:l(()=>[e.dark?(r(),d(u,{key:0,class:"material-symbols-outlined"},{default:l(()=>[m("dark_mode")]),_:1})):c("",!0),e.dark?c("",!0):(r(),d(u,{key:1,class:"material-symbols-outlined"},{default:l(()=>[m("light_mode")]),_:1}))]),_:1}),n(v,{vertical:"",class:"mx-2"}),n(b,{id:"akun",class:"d-flex align-center text-blue-custom clickable"},{default:l(()=>[n(k,{class:"bg-blue-custom me-2",size:"small"},{default:l(()=>[n(P,{size:"25",color:"white"},{default:l(()=>[m("mdi-account")]),_:1})]),_:1}),n(u,{class:"text-caption d-flex"},{default:l(()=>[m(y(e.user)+" ",1),n(P,{size:"20"},{default:l(()=>[m("mdi-chevron-down")]),_:1})]),_:1}),n(h,{activator:"#akun"},{default:l(()=>[n(_,{width:"300",class:"rounded-xl pa-2 border"},{default:l(()=>[S("div",Vi,[n(k,{class:"bg-blue-custom mt-3 mb-2",size:"100"},{default:l(()=>[n(P,{size:"80"},{default:l(()=>[m("mdi-account")]),_:1})]),_:1}),n(u,null,{default:l(()=>[m(y(e.user),1)]),_:1}),n(g,{class:"d-flex justify-start align-left rounded-b-xl elevation-0 mt-5",block:"",size:"60"},{default:l(()=>[n(P,{color:"mt-n1 ms-6",size:"19"},{default:l(()=>[m("mdi-key")]),_:1}),n(u,{class:"ms-2 text-body-2"},{default:l(()=>[m("Ganti Password")]),_:1})]),_:1})]),n(g,{onClick:a[1]||(a[1]=B=>e.logout()),variant:"text",class:"d-flex justify-start align-left rounded-xl elevation-0 text-body-2",block:"",size:"60"},{default:l(()=>[n(P,{size:"20",class:"me-2 ms-6"},{default:l(()=>[m("mdi-logout")]),_:1}),n(u,null,{default:l(()=>[m("Log out")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:3})]),_:3})}}}),nt=Q(Pi,[["__scopeId","data-v-174289bb"]]),Ti="/inventori/assets/just_logo-b2ce2bdc.png",Bi=S("img",{src:Ti,width:"35"},null,-1),Si={props:["pageTitle"],data(){return{master:["master"],pages:[{key:"master",value:"Master"},{key:"masuk",value:"Pemasukan Barang"},{key:"produksi",value:"Produksi"},{key:"keluar",value:"Pengeluaran Barang"},{key:"kirim",value:"Pengiriman Barang"},{key:"laporan",value:"Laporan"}],navtitle:"",drawer:null,rail:!0,drawerMaster:null,pemasukan:"",pemasukandetail:"",pengeluaran:"",pengeluarandetail:"",produksi:"",produksidetail:"",kirim:"",akses:"",authority:"",title:"",aut:"",empty:null}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);return this.aut=j.otoritas(e)}},page(){return this.pageTitle=="DATA BARANG"||this.pageTitle=="DATA PELANGGAN"||this.pageTitle=="DATA SUPPLIER"||this.pageTitle=="DATA USER"},laporan(){return this.pageTitle=="LAPORAN STOK BARANG"||this.pageTitle=="LAPORAN PEMASUKAN BARANG"||this.pageTitle=="LAPORAN PENGELUARAN BARANG"||this.pageTitle=="LAPORAN PENGIRIMAN"||this.pageTitle=="LAPORAN LOG USER"}},mounted(){this.fetchData()}},lt=Object.assign(Si,{__name:"NavDrawers",setup(t){return(e,a)=>{const i=s("v-avatar"),o=s("v-span"),u=s("v-sheet"),g=s("v-divider"),v=s("v-list-item"),P=s("v-list"),k=s("v-menu"),_=s("v-row"),h=s("v-navigation-drawer");return r(),d(h,{class:"border-e-sm elevation-0"},{default:l(()=>[n(u,{fluid:"",class:"d-flex align-center mx-5 justify-start bg-transparent",height:"63"},{default:l(()=>[n(i,null,{default:l(()=>[Bi]),_:1}),n(o,{class:"text-button ms-3 text-dark"},{default:l(()=>[m("IT Inventori")]),_:1})]),_:1}),n(g),n(_,{class:"px-3"},{default:l(()=>[n(P,{class:"w-100"},{default:l(()=>[n(v,{id:"master",class:"text-caption mt-3 text-dark",value:"master",onClick:a[0]||(a[0]=b=>(t.pageTitle="MASTER",e.draw("master"))),active:e.page(),"prepend-icon":"mdi-database"},{default:l(()=>[m(" Data Master ")]),_:1},8,["active"]),n(k,{activator:p(j).routes(e.aut,"Data Barang")?"#master":null,location:"end",width:"200"},{default:l(()=>[n(P,{class:"text-caption",density:"compact",elevation:"3",rounded:"0"},{default:l(()=>[p(j).routes(e.aut,"Data Barang")?(r(),d(p(me),{key:0,to:"/data-barang"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Data Barang")]),_:1})]),_:1})):c("",!0),p(j).routes(e.aut,"Data Pelanggan")?(r(),d(p(me),{key:1,to:"/data-pelanggan"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Data Pelanggan")]),_:1})]),_:1})):c("",!0),p(j).routes(e.aut,"Data Supplier")?(r(),d(p(me),{key:2,to:"/data-supplier"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Data Supplier")]),_:1})]),_:1})):c("",!0),p(j).routes(e.aut,"Data User")?(r(),d(p(me),{key:3,to:"/data-user"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Data User")]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1},8,["activator"]),p(j).routes(e.aut,"Pembelian")?(r(),d(p(me),{key:0,to:"/pemasukan"},{default:l(()=>[n(v,{"prepend-icon":"mdi-inbox-arrow-down",class:"text-caption text-dark",active:t.pageTitle=="PEMASUKAN BARANG",onClick:a[1]||(a[1]=b=>t.pageTitle="PEMASUKAN BARANG")},{default:l(()=>[m(" Pemasukan Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),p(j).routes(e.aut,"Produksi")?(r(),d(p(me),{key:1,to:"/produksi"},{default:l(()=>[n(v,{"prepend-icon":"mdi-chart-donut",class:"text-caption text-dark",active:t.pageTitle=="PRODUKSI BARANG",onClick:a[2]||(a[2]=b=>t.pageTitle="PRODUKSI BARANG")},{default:l(()=>[m(" Produksi Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),p(j).routes(e.aut,"Penjualan")?(r(),d(p(me),{key:2,to:"/pengeluaran"},{default:l(()=>[n(v,{"prepend-icon":"mdi-inbox-arrow-up",class:"text-caption text-dark",active:t.pageTitle=="PENGELUARAN BARANG",onClick:a[3]||(a[3]=b=>t.pageTitle="PENGELUARAN BARANG")},{default:l(()=>[m(" Pengeluaran Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),p(j).routes(e.aut,"Pengiriman")?(r(),d(p(me),{key:3,to:"/pengiriman"},{default:l(()=>[n(v,{"prepend-icon":"mdi-send-variant",class:"text-caption text-dark",active:t.pageTitle=="PENGIRIMAN BARANG",onClick:a[4]||(a[4]=b=>t.pageTitle="PENGIRIMAN BARANG")},{default:l(()=>[m(" Pengiriman Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),n(v,{id:"laporan","prepend-icon":"mdi-folder-outline",class:"text-caption text-dark",active:e.laporan(),value:"laporan",onClick:a[5]||(a[5]=b=>t.pageTitle="LAPORAN")},{default:l(()=>[m(" Laporan ")]),_:1},8,["active"]),n(k,{activator:p(j).routes(e.aut,"Laporan")?"#laporan":null,location:"end",width:"200"},{default:l(()=>[n(P,{class:"text-caption",density:"compact",elevation:"3",rounded:"0"},{default:l(()=>[p(j).routes(e.aut,"Laporan Stok Barang")?(r(),d(p(me),{key:0,to:"/laporan-stok"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Laporan Stok Barang")]),_:1})]),_:1})):c("",!0),p(j).routes(e.aut,"Laporan Pembelian")?(r(),d(p(me),{key:1,to:"/laporan-pemasukan"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Laporan Pemasukan")]),_:1})]),_:1})):c("",!0),p(j).routes(e.aut,"Laporan Penjualan")?(r(),d(p(me),{key:2,to:"/laporan-pengeluaran"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Laporan Pengeluaran")]),_:1})]),_:1})):c("",!0),p(j).routes(e.aut,"Laporan Pengiriman")?(r(),d(p(me),{key:3,to:"/laporan-pengiriman"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Laporan Pengiriman")]),_:1})]),_:1})):c("",!0),p(j).routes(e.aut,"Laporan Log User")?(r(),d(p(me),{key:4,to:"/laporan-log"},{default:l(()=>[n(v,{class:"text-dark"},{default:l(()=>[m("Laporan Log User")]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1},8,["activator"])]),_:1})]),_:1})]),_:1})}}});const Ui=t=>(ze("data-v-0f47d4ff"),t=t(),Me(),t),Ci=["checked"],$i=Ui(()=>S("label",{for:"menu_checkbox"},[S("div"),S("div"),S("div")],-1)),Li={components:{NavDrawers:lt,AppBar:nt},data(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,drawer:!1,tema:null,databarang:"",cetak:[{title:"Export xlsx",icon:"mdi-download",key:"xlsx"},{title:"Export pdf",icon:"mdi-file-pdf-box",key:"pdf"}],pageTitle:"",pemasukan:"",produksi:"",pengeluaran:"",kirim:"",user_otoritas:""}},methods:{onResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},page(t){this.pageTitle=t},theme(t){t?this.tema="dark":this.tema="light"}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)}),this.page()}},Ai=Object.assign(Li,{__name:"App",setup(t){return(e,a)=>{const i=s("v-div"),o=s("v-main"),u=s("v-layout"),g=s("v-theme-provider");return r(),d(g,{theme:e.tema,"with-background":""},{default:l(()=>[n(u,null,{default:l(()=>[e.pageTitle!=null?(r(),d(lt,{key:0,modelValue:e.drawer,"onUpdate:modelValue":a[0]||(a[0]=v=>e.drawer=v),pageTitle:e.pageTitle,item:e.items,pemasukan:e.pemasukan,produksi:e.produksi,pengeluaran:e.pengeluaran,kirim:e.kirim},null,8,["modelValue","pageTitle","item","pemasukan","produksi","pengeluaran","kirim"])):c("",!0),e.pageTitle!=null?(r(),d(nt,{key:1,pageTitle:e.pageTitle,onDark:e.theme},{"app-btn":l(()=>[n(i,{class:"me-5"},{default:l(()=>[S("input",{type:"checkbox",id:"menu_checkbox",onClick:a[1]||(a[1]=v=>e.drawer=!e.drawer),checked:e.drawer},null,8,Ci),$i]),_:1})]),_:1},8,["pageTitle","onDark"])):c("",!0),n(o,{class:"vh-100 vw-100"},{default:l(()=>[n(p(gt),{cetak:e.cetak,onPage:e.page,onPages:e.page,tema:e.tema,window:e.windowWidth,windowH:e.windowHeight},null,8,["cetak","onPage","onPages","tema","window","windowH"])]),_:1})]),_:1})]),_:1},8,["theme"])}}}),Ni=Q(Ai,[["__scopeId","data-v-0f47d4ff"]]);const Oi={dark:!1,colors:{background:"#fafafa",dark:"#212121","blue-custom":"#3B7AA9",white:"#fff",black:"#121212","grey-lighten-4":"#f5f5f5"}},Ri={dark:!0,colors:{background:"#121212",dark:"#e8e8e8","blue-custom":"#6699bf",black:"#fff",white:"#121212","grey-lighten-4":"#2b2b2b"}},Hi=ht({theme:{themes:{light:Oi,dark:Ri}},icons:{defaultSet:"mdi"},components:ct,directives:ft});async function Ii(){(await bt(()=>import("./webfontloader-bf5c3305.js").then(e=>e.w),["assets/webfontloader-bf5c3305.js","assets/vendor-29a0ced7.js","assets/vendor-d6f22218.css"])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Ii();const Ie=_t(Ni);Ie.component("VueDatePicker",kt);Ie.use(Oe);Ie.use(Hi);Ie.mount("#app");
