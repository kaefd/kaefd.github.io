import{E as it,r as o,o as r,c as u,w as l,a as n,b as d,t as _,m as Z,u as p,V as z,d as A,F as N,e as c,f as Be,g as G,h as ve,i as $,n as ce,j as st,k as ot,l as rt,p as ye,q as Ye,s as ut,v as fe,x as qe,y as ze,z as De,A as Pe,B as Qe,C as We,D as dt,G as mt,H as pt,R as me,I as gt,J as ht,K as ct,L as bt,_ as ft,M as _t,Q as kt}from"./vendor-f3a4ad8f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const m of s)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function a(s){const m={};return s.integrity&&(m.integrity=s.integrity),s.referrerPolicy&&(m.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?m.credentials="include":s.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(s){if(s.ep)return;s.ep=!0;const m=a(s);fetch(s.href,m)}})();function ue({next:t,router:e}){return localStorage.getItem("token")==null?e.push({path:"/login"}):t()}const b={day(){return new Date().toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleDateString("id",e);return t!=""?a:""},formatDateTime(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleTimeString("id",{timeStyle:"short"}),i=new Date(t).toLocaleDateString("id",e);return t!=""?i+" "+a:""},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},numb(t,e,a){return a?(t/1).toFixed(e).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},numb2(t){return(t/1).toFixed(0).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},generatePDF(t,e,a){const i=new it({orientation:"portrait",unit:"in",format:"letter"});let s=t,m=e;i.setFontSize(16).text(s,.5,1),i.autoTable({columns:m,body:a,margin:{left:.5,top:1.25}}).save(`${t}.pdf`)},ExportToExcel(t,e,a,i){var s=document.getElementById("tbl_exporttable_to_xls"),m=XLSX.utils.table_to_book(s,{sheet:"sheet1"});return i?XLSX.write(m,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(m,a||e+"."+t)},print(t,e,a,i){if(t=="xlsx")return this.ExportToExcel("xlsx",e);if(t=="pdf")return this.generatePDF(e,a,i)},filterObject(t,e){return t.filter(a=>a.nama.toLowerCase().includes(e.toLowerCase()))},datafilter(t,e){if(t=e,t){if(t==[])return t=[]}else return t=[]},removeDuplicate(t){let e=[];return t.forEach(a=>{e.includes(a)||e.push(a)}),e}},vt=["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],yt=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{key:"actions",align:"end",sortable:!1}],wt=["kategori_barang","kode_barang","nama_barang","hs_code","satuan","status"],jt=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.kategori_barang)),Vt=(t,e,a)=>{for(let i=0;i<e.length;i++)if(t==e[i].kode_barang){if(a=="k")return e[i].kategori_barang;if(a=="nm")return e[i].nama_barang;if(a=="hc")return e[i].hs_code;if(a=="s")return e[i].satuan}},Dt=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].kode_barang==t&&a.push(e[i].stok_akhir);return b.numb(a.reduce((i,s)=>i+s,0))},Pt=t=>t.map(a=>({kategori_barang:a.kategori_barang,kode_barang:a.kode_barang,nama_barang:a.nama_barang,hs_code:a.hs_code,satuan:a.satuan})),de={category:vt,headers:yt,keyform:wt,selected:jt,slotitem:Vt,sumStok:Dt,barang:Pt},Tt=["Data Barang","Tambah Barang Baru","Ubah Barang","Hapus Barang"],Bt=["Data Pelanggan","Tambah Pelanggan Baru","Ubah Pelanggan","Hapus Pelanggan"],Ut=["Data Supplier"],St=["Data User"],Ct=["Pembelian","Batal Pembelian","Tambah Pembelian Baru"],$t=["Produksi","Tambah Produksi Baru","Batal Produksi"],Lt=["Penjualan","Tambah Penjualan Baru","Batal Penjualan"],At=["Pengiriman","Batal Pengiriman","Tambah Pengiriman Baru","Cetak Surat Jalan","Cetak DO"],Nt=["Laporan","Laporan Stok Barang","Laporan Pembelian","Laporan Produksi","Laporan Penjualan","Laporan Pengiriman","Laporan Log User"],Rt=["Pengaturan Umum","Export pdf","Export xlsx"],Ot=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].status=="true"&&e.push({username:t[a].username,jenis_otoritas:t[a].jenis_otoritas,status:t[a].status});return e},It=(t,e)=>{let a=!1;if(t.length>=1)for(let i=0;i<t.length;i++)t[i].jenis_otoritas==e&&(t[i].status=="true"?a=!0:a=!1);else a=!1;return a},Et=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].username==e&&a.push({jenis_otoritas:t[i].jenis_otoritas,status:t[i].status});return a},Jt=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].jenis_otoritas=="Data Barang"&&e.push({data_barang:!0}),t[a].jenis_otoritas=="Tambah Barang Baru"&&e.push({tambah_barang:!0}),t[a].jenis_otoritas=="Ubah Barang"&&e.push({edit_barang:!0}),t[a].jenis_otoritas=="Hapus Barang"&&e.push({hapus_barang:!0}),t[a].jenis_otoritas=="Data Pelanggan"&&e.push({data_pelanggan:!0}),t[a].jenis_otoritas=="Tambah Pelanggan Baru"&&e.push({tambah_pelanggan:!0}),t[a].jenis_otoritas=="Ubah Pelanggan"&&e.push({edit_pelanggan:!0}),t[a].jenis_otoritas=="Hapus Pelanggan"&&e.push({hapus_pelanggan:!0}),t[a].jenis_otoritas=="Data Supplier"&&e.push({data_supplier:!0}),t[a].jenis_otoritas=="Pembelian"&&e.push({pembelian:!0}),t[a].jenis_otoritas=="Tambah Pembelian"&&e.push({tambah_pembelian:!0}),t[a].jenis_otoritas=="Batal Pembelian"&&e.push({batal_pembelian:!0}),t[a].jenis_otoritas=="Produksi"&&e.push({produksi:!0}),t[a].jenis_otoritas=="Tambah Produksi"&&e.push({tambah_produksi:!0}),t[a].jenis_otoritas=="Batal Produksi"&&e.push({batal_produksi:!0}),t[a].jenis_otoritas=="Penjualan"&&e.push({penjualan:!0}),t[a].jenis_otoritas=="Tambah Penjualan"&&e.push({tambah_penjualan:!0}),t[a].jenis_otoritas=="Pengiriman"&&e.push({pengiriman:!0}),t[a].jenis_otoritas=="Tambah Pengiriman"&&e.push({tambah_pengiriman:!0}),t[a].jenis_otoritas=="Batal Pengiriman"&&e.push({batal_pengiriman:!0}),t[a].jenis_otoritas=="Laporan"&&e.push({laporan:!0}),t[a].jenis_otoritas=="Laporan Stok Barang"&&e.push({laporan_stok:!0}),t[a].jenis_otoritas=="Laporan Pembelian"&&e.push({laporan_pembelian:!0}),t[a].jenis_otoritas=="Laporan Produksi"&&e.push({laporan_produksi:!0}),t[a].jenis_otoritas=="Laporan Penjualan"&&e.push({laporan_penjualan:!0}),t[a].jenis_otoritas=="Laporan Log User"&&e.push({laporan_log:!0});return e},V={data_barang:Tt,data_pelanggan:Bt,data_supplier:Ut,data_user:St,pembelian:Ct,produksi:$t,penjualan:Lt,pengiriman:At,laporan:Nt,setelan:Rt,otoritas:Ot,routes:It,all:Et,items:Jt},X=(t,e)=>{const a=t.__vccOpts||t;for(const[i,s]of e)a[i]=s;return a},Ht={components:{},props:["icon"],data(){return{}}};function Ft(t,e,a,i,s,m){const g=o("v-icon"),k=o("v-btn");return r(),u(k,{variant:"text",color:"grey-darken-2",size:"small",icon:""},{default:l(()=>[n(g,null,{default:l(()=>[d(_(a.icon),1)]),_:1})]),_:1})}const te=X(Ht,[["render",Ft]]),Kt=[{title:"Tanggal",key:"tanggal"},{title:"Username",key:"username"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"}],Gt=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],qt=t=>t.filter((a,i)=>i===t.findIndex(s=>a.kode_barang===s.kode_barang)),Mt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let s=0;s<e.length;s++)t[i].kode_barang==e[s].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[s].kode_group,stok_akhir:de.sumStok(t[i].kode_barang,e)});return a},zt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let s=0;s<e.length;s++)t[i].kode_barang==e[s].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[s].kode_group,stok_akhir:e[s].stok_akhir});return a},Yt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].kode_barang==e&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:t[i].kode_group,stok_akhir:b.numb(t[i].stok_akhir,2,!0)});return a},Qt=(t,e,a)=>{let i=[];for(let s=0;s<a.length;s++)a[s].kode_group==t&&a[s].kode_barang==e&&i.push({tanggal:a[s].tanggal,kode_group:a[s].kode_group,kode_barang:a[s].kode_barang,kategori:a[s].kategori,keterangan:a[s].keterangan,stok_awal:b.numb(a[s].stok_awal,2,!0),stok_masuk:b.numb(a[s].stok_masuk,2,!0),stok_keluar:b.numb(a[s].stok_keluar,2,!0),stok_akhir:b.numb(a[s].stok_akhir,2,!0)});return i},ke={headLogUser:Kt,headStokBarang:Gt,stokBarang:Mt,noDuplicate:qt,detail:zt,subDetail:Yt,log:Qt},Wt={components:{VDataTable:z,TextButton:te},props:["kode_group","barang","kode_barang","detail","groupbarang","logbrg"],data(){return{dialog:!1,dialogbrg:[],log_brg:"",authority:"",headers:[{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],subheaders:[{title:"Tanggal",key:"tanggal"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"},{title:"Stok Awal",key:"stok_awal"},{title:"Stok Masuk",key:"stok_masuk"},{title:"Stok Keluar",key:"stok_keluar"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}]}},computed:{},methods:{},mounted(){}},Xe=Object.assign(Wt,{__name:"LogBarang",setup(t){return(e,a)=>{const i=o("v-toolbar-title"),s=o("v-spacer"),m=o("v-toolbar"),g=o("v-sheet"),k=o("v-card"),y=o("v-dialog");return r(),u(y,{modelValue:e.dialog,"onUpdate:modelValue":a[1]||(a[1]=f=>e.dialog=f),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:f})=>[n(te,Z(f,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(k,null,{default:l(()=>[n(m,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{onClick:a[0]||(a[0]=f=>e.dialog=!1),icon:"mdi-close",color:"white"}),n(i,{class:"text-button"},{default:l(()=>[d("DETAIL STOK BARANG")]),_:1}),n(s)]),_:1}),n(g,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"items-per-page":"10",headers:e.headers,items:t.detail,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.actions":l(({item:f,index:h})=>[n(te,{onClick:v=>e.dialogbrg[h]=!0,icon:"mdi-dots-vertical"},null,8,["onClick"]),n(y,{modelValue:e.dialogbrg[h],"onUpdate:modelValue":v=>e.dialogbrg[h]=v,scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{default:l(()=>[n(m,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{onClick:v=>e.dialogbrg[h]=!1,icon:"mdi-close",color:"white"},null,8,["onClick"]),n(i,{class:"text-button"},{default:l(()=>[d("DETAIL LOG BARANG")]),_:1}),n(s)]),_:2},1024),n(k,null,{default:l(()=>[n(g,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"items-per-page":"10",headers:e.subheaders,items:p(ke).log(f.raw.kode_group,f.raw.kode_barang,t.logbrg),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.tanggal":l(({item:v})=>[d(_(p(b).formatDate(v.raw.tanggal)),1)]),_:2},1032,["headers","items","search","height"])]),_:2},1032,["height"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","search","height"])]),_:1},8,["height"])]),_:1})]),_:1},8,["modelValue"])}}}),Xt={components:{},props:["btn_title"],data(){return{}}};function Zt(t,e,a,i,s,m){const g=o("v-btn");return r(),u(g,{class:"elevation-0 text-caption px-5",variant:"tonal",height:"42","min-width":"100"},{default:l(()=>[d(_(a.btn_title),1)]),_:1})}const J=X(Xt,[["render",Zt]]),xt={components:{},props:["btn_title","icon"],data(){return{}}};function ea(t,e,a,i,s,m){const g=o("v-btn");return r(),u(g,{class:"elevation-0 text-caption px-5 text-white rounded",color:"blue-custom",height:"42","min-width":"100","prepend-icon":a.icon},{default:l(()=>[d(_(a.btn_title),1)]),_:1},8,["prepend-icon"])}const le=X(xt,[["render",ea]]),ta={components:{},props:["btn_title"],data(){return{}}};function aa(t,e,a,i,s,m){const g=o("v-btn");return r(),u(g,{class:"elevation-0 text-white text-caption px-5",color:"orange-lighten-1",height:"42","min-width":"100"},{default:l(()=>[d(_(a.btn_title),1)]),_:1})}const H=X(ta,[["render",aa]]),na={components:{},props:["label","rules","disabled","hideDetails","type","value"],data(){return{}}};function la(t,e,a,i,s,m){const g=o("v-text-field");return r(),u(g,{type:a.type,label:a.label,variant:"outlined",density:"compact",class:"mb-3",rules:a.rules,"hide-details":"",disabled:a.disabled},null,8,["type","label","rules","disabled"])}const C=X(na,[["render",la]]),ia={components:{},props:["toolbar_title"],data(){return{}}};function sa(t,e,a,i,s,m){const g=o("v-span"),k=o("v-toolbar"),y=o("v-divider");return r(),A(N,null,[n(k,{class:"bg-transparent"},{default:l(()=>[n(g,{class:"text-button w-100 text-center font-weight-bold text-orange"},{default:l(()=>[d(_(a.toolbar_title),1)]),_:1})]),_:1}),n(y)],64)}const oa=X(ia,[["render",sa]]);const ra={components:{btnInfo:le,toolbarHeader:oa,textFieldForm:C,BtnOrange:H,BtnCancel:J},props:["keyform","tambah","disabled","ishidden","master","hapus","headers","category","toolbar_title","alpha","view","item","form","noselect","intable"],data(){return{dialog:!1,edit:this.form,data:this.tambah,list:[{title:"Lihat Detail",key:"lihat"},{title:"Edit Data",icon:"mdi-pencil",key:"edit"},{title:"Hapus Data",icon:"mdi-delete",key:"hapus"}],valid:!0,required:[t=>t?!0:"harus diisi !"]}},computed:{},methods:{submit(t){this.item==null?this.$emit("form",t):this.$emit("edit",t),this.dialog=!1},del(t){this.$emit("del",t)},async validate(){const{valid:t}=await this.$refs.form.validate();let e="";if(t)return this.item==null?e=this.data:e=this.edit,this.submit(e)}}};function ua(t,e,a,i,s,m){const g=o("btnInfo"),k=o("v-icon"),y=o("v-btn"),f=o("v-responsive"),h=o("toolbar-header"),v=o("text-field-form"),D=o("v-list-item-title"),B=o("v-list-item"),I=o("v-list"),q=o("v-menu"),w=o("v-div"),U=o("v-for"),S=o("v-container"),Q=o("v-divider"),W=o("btn-cancel"),be=o("btn-orange"),O=o("v-form"),j=o("v-card"),L=o("v-dialog");return r(),u(L,{modelValue:s.dialog,"onUpdate:modelValue":e[6]||(e[6]=T=>s.dialog=T),scrim:!1,transition:"dialog-bottom-transition",width:"370"},{activator:l(({props:T})=>[a.intable?c("",!0):(r(),u(g,Z({key:0,icon:"mdi-plus",btn_title:"Tambah Data"},T),null,16)),a.intable?(r(),u(f,{key:1,width:"100"},{default:l(()=>[t.editbtn&&!a.ishidden?(r(),u(y,Z({key:0},T,{class:"text-caption",variant:"text"}),{default:l(()=>[n(k,{class:"ms-n3 me-2"},{default:l(()=>[d("mdi-pencil")]),_:1}),d(" Edit Data ")]),_:2},1040)):c("",!0),a.hapus?(r(),u(y,{key:1,class:"text-caption",block:"",variant:"text","prepend-icon":"mdi-delete",hidden:a.ishidden},{default:l(()=>[d(" Hapus Data ")]),_:1},8,["hidden"])):c("",!0)]),_:2},1024)):c("",!0)]),default:l(()=>[n(j,{class:"rounded-xl"},{default:l(()=>[n(O,{onSubmit:e[5]||(e[5]=Be(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(h,{toolbar_title:a.toolbar_title},null,8,["toolbar_title"]),n(S,{class:"mt-5 w-75"},{default:l(()=>[a.noselect?c("",!0):(r(),u(w,{key:0},{default:l(()=>[this.item==null?(r(),u(v,{key:0,id:"tambah",label:a.headers[0].title,modelValue:s.data[a.keyform[0]],"onUpdate:modelValue":e[0]||(e[0]=T=>s.data[a.keyform[0]]=T),readonly:"",rules:s.required},null,8,["label","modelValue","rules"])):c("",!0),n(q,{activator:"#tambah",class:"elevation-0"},{default:l(()=>[n(I,null,{default:l(()=>[(r(!0),A(N,null,G(a.category.slice(this.alpha,a.category.length),(T,E)=>(r(),u(B,{key:E,value:E,density:"compact"},{default:l(()=>[n(D,{onClick:ie=>s.data[a.keyform[0]]=T,class:"text-caption"},{default:l(()=>[d(_(T),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),a.item!=null?(r(),u(v,{key:1,id:"tipe",label:a.headers[0].title,modelValue:s.edit[a.keyform[0]],"onUpdate:modelValue":e[1]||(e[1]=T=>s.edit[a.keyform[0]]=T),value:Object.values(a.item.raw)[0],readonly:"",rules:s.required},null,8,["label","modelValue","value","rules"])):c("",!0),n(q,{activator:"#tipe",class:"elevation-0"},{default:l(()=>[n(I,null,{default:l(()=>[(r(!0),A(N,null,G(a.category.slice(this.alpha,a.category.length),(T,E)=>(r(),u(B,{key:E,value:E,density:"compact"},{default:l(()=>[n(D,{onClick:ie=>s.edit[a.keyform[0]]=T,class:"text-caption"},{default:l(()=>[d(_(T),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})),a.noselect?(r(),u(w,{key:1},{default:l(()=>[this.item==null?(r(),u(v,{key:0,label:a.headers[0].title,modelValue:s.data[a.keyform[0]],"onUpdate:modelValue":e[2]||(e[2]=T=>s.data[a.keyform[0]]=T),rules:s.required},null,8,["label","modelValue","rules"])):c("",!0),this.item!=null?(r(),u(v,{key:1,label:a.headers[0].title,modelValue:s.edit[a.keyform[0]],"onUpdate:modelValue":e[3]||(e[3]=T=>s.edit[a.keyform[0]]=T),readonly:a.headers[0].dis,rules:s.required},null,8,["label","modelValue","readonly","rules"])):c("",!0)]),_:1})):c("",!0),(r(!0),A(N,null,G(a.headers.slice(1,a.headers.length-1),(T,E)=>(r(),u(U,{key:E},{default:l(()=>[this.item==null?(r(),u(v,{key:0,label:T.title,modelValue:s.data[a.keyform[E+1]],"onUpdate:modelValue":ie=>s.data[a.keyform[E+1]]=ie,rules:s.required},null,8,["label","modelValue","onUpdate:modelValue","rules"])):c("",!0),this.item!=null?(r(),u(v,{key:1,label:T.title,modelValue:s.edit[a.keyform[E+1]],"onUpdate:modelValue":ie=>s.edit[a.keyform[E+1]]=ie,readonly:a.headers[E+1].dis,rules:s.required},null,8,["label","modelValue","onUpdate:modelValue","readonly","rules"])):c("",!0)]),_:2},1024))),128))]),_:1}),n(Q),a.view?c("",!0):(r(),u(w,{key:0,class:"d-flex align-center float-end ma-5"},{default:l(()=>[s.edit?c("",!0):(r(),u(W,{key:0,onClick:e[4]||(e[4]=T=>(s.data="",s.dialog=!1)),btn_title:"Batal"})),ve(t.$slots,"cancel"),n(be,{type:"submit",onClick:m.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:3}))]),_:3},512)]),_:3})]),_:3},8,["modelValue"])}const Ce=X(ra,[["render",ua]]),da="/assets/confirm-2fdee6a6.png",ma={props:["object"]},pa=$("img",{src:da,style:{width:"100px"},class:"animate_animated animate__bounceIn animate__delay-2s"},null,-1);function ga(t,e,a,i,s,m){const g=o("v-sheet"),k=o("v-card-title"),y=o("v-span"),f=o("v-divider"),h=o("v-div"),v=o("v-card"),D=o("v-dialog");return r(),u(D,{transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(v,{class:"rounded-xl"},{default:l(()=>[n(g,{class:"mx-auto mt-7"},{default:l(()=>[pa]),_:1}),n(k,{class:"text-center mt-5 text-body-1"},{default:l(()=>[d("Apakah Anda Yakin ?")]),_:1}),n(y,{class:"text-center mb-7 text-caption"},{default:l(()=>[d("Anda Akan Menghapus "+_(a.object),1)]),_:1}),n(f),n(h,{class:"d-flex mt-3 mb-5 me-5 ms-auto"},{default:l(()=>[ve(t.$slots,"cancelButton"),ve(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const oe=X(ma,[["render",ga]]),ha={components:{},data(){return{}}};function ca(t,e,a,i,s,m){const g=o("v-icon"),k=o("v-btn");return r(),u(k,{size:"small",variant:"text",icon:""},{default:l(()=>[n(g,{size:"20",color:"blue-custom"},{default:l(()=>[d("mdi-dots-vertical")]),_:1})]),_:1})}const Ze=X(ha,[["render",ca]]),ba={components:{btnOption:Ze,textButton:te},props:["icon","items","variant","submenu","index","otority"],data(){return{}},methods:{clicked(t){this.$emit("result",t,this.index)}}},M=Object.assign(ba,{__name:"menuList",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-list-item"),m=o("v-list"),g=o("v-menu");return r(),u(g,null,{activator:l(({props:k})=>[t.submenu?c("",!0):(r(),u(Ze,ce(Z({key:0},k)),null,16)),t.submenu?(r(),u(te,Z({key:1},k,{icon:t.icon}),null,16,["icon"])):c("",!0)]),default:l(()=>[n(m,null,{default:l(()=>[(r(!0),A(N,null,G(t.items,(k,y)=>(r(),u(s,{key:y,value:k.key,onClick:f=>e.clicked(k.key),density:"compact",class:"text-caption","prepend-icon":k.icon},{default:l(()=>[!t.submenu&&p(V).routes(t.otority,k.title)?(r(),u(i,{key:0},{default:l(()=>[d(_(k.title),1)]),_:2},1024)):c("",!0),t.submenu?(r(),u(i,{key:1},{default:l(()=>[d(_(k.title),1)]),_:2},1024)):c("",!0)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}}}),fa={components:{},props:["icon","btn_title","placeholder"],data(){return{}}};function _a(t,e,a,i,s,m){const g=o("v-text-field");return r(),u(g,{density:"compact",variant:"text",class:"text-blue-custom rounded border-sm text-caption","prepend-inner-icon":"mdi-magnify",placeholder:a.placeholder,"single-line":"","hide-details":"",style:{height:"42px","min-width":"200px !important"}},null,8,["placeholder"])}const K=X(fa,[["render",_a]]),ka={components:{textFieldForm:C},name:"currencyInput",props:{modelValue:Number,options:Object,label:String},setup(t){const{inputRef:e}=st(t.options);return{inputRef:e}}};function va(t,e,a,i,s,m){const g=o("text-field-form");return r(),u(g,{label:a.label,ref:"inputRef","model-value":a.modelValue},null,8,["label","model-value"])}const ge=X(ka,[["render",va]]),ya={components:{btnInfo:le,BtnCancel:J,BtnOrange:H,TextField:K,CurrencyInput:ge,TextFieldForm:C},name:"DialogCard2",props:["hiddenbtn","btn","itemDetail","pemasukan","nokirim","belumkirim","kodegroup","belumkirim_detail","blmkirim","penjualan","pengeluaran","pengiriman","produksi","barang","tambah","inputbahan","pembeliandetl","getbarang","kurs","dialog_title","pjl_blmterkirm","window","group_detail","stok_akhir"],data(){return{search:"",dialog:!1,dialogchild:[],newbarang:this.barang,newproduksi:this.getbarang,groupbarang:"",bahan:this.inputbahan,dialItem:"",pjl:"",total:"",pemasukan_item:[],penjualan_detail:{jumlah:"",nilai:"",harga_jual:"",jumlah_konversi:"",satuan_konversi:""}}},setup(){const t={kode_barang:"",nama_barang:"",hs_code:"",jumlah:"",jumlah_diterima:"",satuan:"",nilai:"",no_urut:"",status:"",harga_jual:""},e=ot({...t}),i=rt({kode_barang:{required:ye},nama_barang:{required:ye},hs_code:{required:ye},jumlah:{required:ye},jumlah_diterima:{required:ye},satuan:{required:ye},nilai:{required:ye},no_urut:{required:ye},harga_jual:{required:ye}},e);function s(){i.value.$reset();for(const[m,g]of Object.entries(t))e[m]=g}return{state:e,clear:s,v$:i}},computed:{terjual(){return this.penjualan_detail.jumlah*this.penjualan_detail.harga_jual},filteredItems(){return!this.tambah&&!this.blmkirim?this.barang.filter(t=>t.nama_barang.toLowerCase().includes(this.search.toLowerCase())):this.blmkirim&&!this.tambah?this.pjl_blmterkirm.filter(t=>t.no_dokumen.toLowerCase().includes(this.search.toLowerCase())):this.getbarang.filter(t=>t.nama_barang.toLowerCase().includes(this.search.toLowerCase()))}},methods:{stok_detail(t){for(let e=0;e<this.group_detail.length;e++)if(this.group_detail[e].kode_barang==t)return this.group_detail[e].stok_akhir},stok(t,e){for(let a=0;a<this.groupbarang.length;a++)if(this.groupbarang[a].kode_group==t&&this.groupbarang[a].kode_barang==e)return b.numb2(this.groupbarang[a].stok_akhir)},min(t,e){let a=t-e;return b.numb2(a)},async api(){return new Promise(t=>{setTimeout(()=>{t(Array.from({length:10},(e,a)=>a+this.filteredItems.value.at(-1)+1))},1e3)})},async load({done:t}){const e=await this.api();this.filteredItems.push(...e),t("ok")},pemasukanItem(t,e){this.state.hs_code=t.hs_code,this.state.satuan=t.satuan;let a="";if(this.pengiriman){for(let i=0;i<this.groupbarang.length;i++)for(let s=0;s<this.pjl_blmterkirm.length;s++)if(this.groupbarang[i].kode_group==this.pjl_blmterkirm[s].kode_group)for(let m=0;m<this.belumkirim_detail.length;m++)this.groupbarang[i].kode_barang==this.belumkirim_detail[m].kode_barang&&(a=this.groupbarang[i].nilai_akhir/this.groupbarang[i].stok_akhir)}if(this.pemasukan){this.pemasukan_item.push({no_pembelian:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.state.jumlah,jumlah_diterima:this.state.jumlah_diterima,satuan:this.state.satuan,nilai:this.state.nilai,no_urut:""});let i=[];for(let m=0;m<this.pemasukan_item.length;m++)i.push(this.pemasukan_item[m].nilai);let s=i.reduce((m,g)=>m+g);this.total=s*this.kurs}else if(this.produksi){for(let i=0;i<this.groupbarang.length;i++)this.groupbarang[i].kode_group==this.kodegroup&&this.groupbarang[i].kode_barang==t.kode_barang&&(a=this.groupbarang[i].nilai_akhir/this.groupbarang[i].stok_akhir);this.pemasukan_item.push({no_produksi:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,satuan:this.state.satuan,no_urut:"",nilai:a})}else this.pengeluaran?this.pemasukan_item.push({no_penjualan:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_terkirim:0,satuan:this.state.satuan,harga_jual:this.penjualan_detail.harga_jual,total_terjual:this.terjual,no_urut:""}):this.pengiriman&&this.pemasukan_item.push({no_penjualan:t.no_penjualan,no_pengiriman:this.nokirim,kode_barang:t.kode_barang,nama_barang:t.nama_barang,kode_group:t.kode_group,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_konversi:this.penjualan_detail.jumlah_konversi,satuan_konversi:this.penjualan_detail.satuan_konversi,jumlah_terkirim:this.penjualan_detail.jumlah_terkirim,satuan:this.state.satuan,no_urut:"",nilai:a});this.$emit("pemasukanitem",this.pemasukan_item,this.total),this.clear(),this.penjualan_detail={jumlah:"",nilai:"",harga_jual:"",jumlah_konversi:"",satuan_konversi:""},this.dialogchild[e]=!1,this.dialog=!1}},async mounted(){this.groupbarang=await P.getGroupBarang(),this.bahan}},wa=$("br",null,null,-1),ja=$("br",null,null,-1),Va=$("br",null,null,-1);function Da(t,e,a,i,s,m){const g=o("btn-info"),k=o("v-btn"),y=o("v-card-title"),f=o("text-field"),h=o("v-div"),v=o("v-span"),D=o("v-list-item"),B=o("v-spacer"),I=o("v-divider"),q=o("currency-input"),w=o("text-field-form"),U=o("btn-cancel"),S=o("btn-orange"),Q=o("v-card"),W=o("v-dialog"),be=o("v-list");return r(),u(W,{modelValue:s.dialog,"onUpdate:modelValue":e[11]||(e[11]=O=>s.dialog=O),transition:"dialog-bottom-transition"},{activator:l(({props:O})=>[n(g,Z(O,{disabled:a.getbarang==""||a.inputbahan=="",btn_title:"Tambah Barang",icon:"mdi-plus"}),null,16,["disabled"])]),default:l(()=>[n(Q,{class:"py-5 px-7 rounded-xl vh-100","min-width":"300","max-width":"400"},{default:l(()=>[a.window<500?(r(),u(k,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:e[0]||(e[0]=O=>s.dialog=!1)})):c("",!0),n(y,{class:"text-center text-orange text-button font-weight-bold mb-3 px-12"},{default:l(()=>[d(_(a.dialog_title),1)]),_:1}),n(h,null,{default:l(()=>[n(f,{id:"input",modelValue:s.search,"onUpdate:modelValue":e[1]||(e[1]=O=>s.search=O),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(be,{class:"me-2"},{default:l(()=>[(r(!0),A(N,null,G(m.filteredItems.slice(0,40),(O,j)=>(r(),u(h,{key:O},{default:l(()=>[a.blmkirim?c("",!0):(r(),u(D,{key:0,class:"text-caption",density:"compact",onClick:L=>(s.dialogchild[j]=!0,i.state.nama_barang=O.nama_barang)},{default:l(()=>[n(h,{class:"d-flex justify-space-between"},{default:l(()=>[n(v,null,{default:l(()=>[d(_(O.nama_barang),1)]),_:2},1024),a.stok_akhir?(r(),u(v,{key:0},{default:l(()=>[d(_(m.stok_detail(O.kode_barang)),1)]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1032,["onClick"])),a.blmkirim?(r(),u(D,{key:1,onClick:L=>s.dialogchild[j]=!0,class:"text-caption",density:"compact"},{default:l(()=>[n(h,{class:"d-flex"},{default:l(()=>[n(h,null,{default:l(()=>[n(v,{class:"font-weight-medium"},{default:l(()=>[d(_(O.tipe_dokumen)+"-"+_(O.no_dokumen),1)]),_:2},1024),d(),wa,n(v,{class:"text-small"},{default:l(()=>[d(_(O.nama_barang)+" ("+_(O.kode_barang)+") ",1),ja,d(" Jumlah belum terkirim: "+_(m.min(O.jumlah,O.jumlah_terkirim))+" ",1),Va,d(" Stok barang: "+_(m.stok(O.kode_group,O.kode_barang)),1)]),_:2},1024)]),_:2},1024),n(B),n(v,{class:"font-weight-medium"},{default:l(()=>[d(_(O.no_penjualan),1)]),_:2},1024)]),_:2},1024),n(I)]),_:2},1032,["onClick"])):c("",!0),n(W,{onUpdate:s.dialogchild,transition:"dialog-bottom-transition",width:"auto",modelValue:s.dialogchild[j],"onUpdate:modelValue":L=>s.dialogchild[j]=L},{default:l(()=>[n(Q,{class:"py-5 mx-auto rounded-xl","min-width":"300","max-width":"375",width:"35vw"},{default:l(()=>[n(v,{class:"text-button text-orange text-center font-weight-bold"},{default:l(()=>[d(_(O.nama_barang),1)]),_:2},1024),n(v,{class:"text-caption text-center"},{default:l(()=>[d(_(O.kode_barang)+" - "+_(O.hs_code),1)]),_:2},1024),n(I,{class:"mt-3 mb-5"}),$("form",{onSubmit:e[10]||(e[10]=Be((...L)=>t.submit&&t.submit(...L),["prevent"])),ref_for:!0,ref:"form",class:"mx-auto w-75 pt-2 bg-transparent"},[a.pemasukan?c("",!0):(r(),u(q,{key:0,modelValue:s.penjualan_detail.jumlah,"onUpdate:modelValue":e[2]||(e[2]=L=>s.penjualan_detail.jumlah=L),label:"Jumlah (Tonase)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])),a.pengiriman?(r(),u(w,{key:1,type:"number",modelValue:s.penjualan_detail.jumlah_konversi,"onUpdate:modelValue":e[3]||(e[3]=L=>s.penjualan_detail.jumlah_konversi=L),label:"Qty","hide-details":!0},null,8,["modelValue"])):c("",!0),a.pengiriman?(r(),u(w,{key:2,modelValue:s.penjualan_detail.satuan_konversi,"onUpdate:modelValue":e[4]||(e[4]=L=>s.penjualan_detail.satuan_konversi=L),label:"Satuan konversi","hide-details":!0},null,8,["modelValue"])):c("",!0),a.pemasukan?(r(),u(q,{key:3,modelValue:i.state.jumlah,"onUpdate:modelValue":e[5]||(e[5]=L=>i.state.jumlah=L),label:"Jumlah (Tonase)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):c("",!0),a.pemasukan?(r(),u(q,{key:4,modelValue:i.state.jumlah_diterima,"onUpdate:modelValue":e[6]||(e[6]=L=>i.state.jumlah_diterima=L),label:"Jumlah Diterima","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):c("",!0),a.pemasukan?(r(),u(q,{key:5,modelValue:i.state.nilai,"onUpdate:modelValue":e[7]||(e[7]=L=>i.state.nilai=L),label:"Nilai Total","hide-details":!0,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])):c("",!0),!a.tambah&&a.pengeluaran?(r(),u(q,{key:6,modelValue:s.penjualan_detail.harga_jual,"onUpdate:modelValue":e[8]||(e[8]=L=>s.penjualan_detail.harga_jual=L),label:"Harga","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):c("",!0),!a.tambah&&a.pengeluaran?(r(),u(q,{key:7,modelValue:m.terjual,"onUpdate:modelValue":e[9]||(e[9]=L=>m.terjual=L),label:"Total Harga","hide-details":!0,readonly:"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])):c("",!0)],544),n(I,{class:"mt-3"}),n(h,{class:"d-inline me-5 ms-auto mt-5"},{default:l(()=>[n(U,{onClick:L=>s.dialogchild[j]=!1,btn_title:"batal"},null,8,["onClick"]),n(S,{type:"submit",onClick:L=>m.pemasukanItem(O,j),btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])}const je=X(ya,[["render",Da]]);const Pa={components:{textFieldForm:C},props:["label","validated","rules","filter","tema"],data(){return{data:""}},created(){if(this.default)return this.data=this.default},methods:{},mounted(){this.def}},Ta=()=>({top:0,left:0}),F=Object.assign(Pa,{__name:"datePicker",setup(t){return(e,a)=>{const i=o("VueDatePicker");return r(),u(i,{dark:t.tema=="dark",class:"text-small","alt-position":Ta,clearable:!1,"format-locale":p(ut),required:"",locale:"id",cancelText:"batal",selectText:"pilih",format:"PP","calendar-cell-class-name":"dp-custom-cell","menu-class-name":"dp-custom-menu","enable-time-picker":!1,modelValue:e.data,"onUpdate:modelValue":a[0]||(a[0]=s=>e.data=s)},Ye({_:2},[t.filter?void 0:{name:"trigger",fn:l(()=>[n(C,{readonly:"",label:t.label,"model-value":p(b).formatDate(e.data),rules:t.rules,hideDetails:""},null,8,["label","model-value","rules"])]),key:"0"}]),1032,["dark","format-locale","modelValue"])}}}),Ba={components:{btnInfo:le},props:["window","label","dataValue","objectFilter","button","btn_title","cardTitle","rules"],data(){return{dialog:!1,searchModel:"",search:"",pilih:""}},methods:{result(t){this.dialog=!1,this.$emit("pilihObjek",t)}}},Oe=Object.assign(Ba,{__name:"dialogSearch",setup(t){return(e,a)=>{const i=o("v-btn"),s=o("v-card-title"),m=o("v-list-item"),g=o("v-div"),k=o("v-list"),y=o("v-card"),f=o("v-dialog");return r(),u(f,{modelValue:e.dialog,"onUpdate:modelValue":a[3]||(a[3]=h=>e.dialog=h),transition:"dialog-bottom-transition"},{activator:l(({props:h})=>[t.button?c("",!0):(r(),u(C,Z({key:0},h,{label:t.label,modelValue:e.pilih,"onUpdate:modelValue":a[0]||(a[0]=v=>e.pilih=v),readonly:"",rules:t.rules}),null,16,["label","modelValue","rules"])),t.button?(r(),u(le,Z({key:1},h,{icon:"mdi-plus",btn_title:t.btn_title}),null,16,["btn_title"])):c("",!0)]),default:l(()=>[n(y,{class:"py-5 px-7 rounded-xl","min-width":"300","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(i,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[1]||(a[1]=h=>e.dialog=!1)})):c("",!0),n(s,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d(_(t.cardTitle),1)]),_:1}),n(K,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=h=>e.search=h),label:"Search",class:"mb-4"},null,8,["modelValue"]),n(k,{class:"vh-100"},{default:l(()=>[n(g,null,{default:l(()=>[(r(!0),A(N,null,G(p(b).filterObject(t.objectFilter,e.search),(h,v)=>(r(),u(m,{key:v,class:"text-caption",density:"compact",onClick:D=>(e.result(h),e.pilih=h.nama)},{default:l(()=>[d(_(h.nama),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ua={props:["icon","items"],data(){return{}},methods:{clicked(t){this.$emit("result",t)}}};function Sa(t,e,a,i,s,m){const g=o("v-list-item"),k=o("v-list"),y=o("v-menu");return r(),u(y,{transition:"slide-y-transition"},{default:l(()=>[n(k,null,{default:l(()=>[(r(!0),A(N,null,G(a.items,(f,h)=>(r(),u(g,{key:h,value:f.key,onClick:v=>m.clicked(f.key),density:"compact",class:"text-caption","prepend-icon":f.icon},{default:l(()=>[d(_(f.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}const xe=X(Ua,[["render",Sa]]);const Ca={components:{TextButton:te,BtnInfo:le},props:["label","validated","rules","master"],data(){return{data:""}},computed:{},methods:{},mounted(){}},Ve=Object.assign(Ca,{__name:"dialogVue",setup(t){return(e,a)=>{const i=o("v-divider"),s=o("v-card"),m=o("v-dialog");return r(),u(m,{transition:"dialog-bottom-transition",width:"auto"},{activator:l(({props:g})=>[t.master?c("",!0):(r(),u(te,Z({key:0},g,{icon:"mdi-dots-vertical"}),null,16)),t.master?(r(),u(le,Z({key:1},g,{icon:"mdi-plus",btn_title:"Tambah Data"}),null,16)):c("",!0)]),default:l(()=>[n(s,{class:"bg-white mx-auto py-5 rounded-xl","min-width":"300","max-width":"375",width:"35vw"},{default:l(()=>[ve(e.$slots,"titlecard"),n(i),ve(e.$slots,"content")]),_:3})]),_:3})}}}),$a=[{key:"no_pembelian",order:"desc"}],La=[{title:"Nomor Pemasukan",key:"no_pembelian"},{title:"Tanggal Masuk",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Mata Uang",key:"mata_uang"},{title:"Total Nilai",key:"total_nilai"},{title:"Total Nilai(Rp)",key:"rp"},{key:"actions"}],Aa=["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],Na=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions"}],Ra={no_pembelian:"",tgl_pembelian:"",tgl_input:b.day(),tgl_batal:"1999-12-31T17:00:00.000Z",kode_supplier:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",no_invoice:"",no_bl:"",total_nilai:"",mata_uang:"",kurs:"",user_input:"admin",user_batal:"",status:"true"},we=(t,e,a)=>{let i=[];for(let s=0;s<e.length;s++)e[s].no_pembelian==t&&(a=="nama"?i.push(e[s].nama_barang):i=e[s]);return a=="nama"?i.toString():i},Oa=(t,e)=>{for(let a=0;a<e.length;a++)if(e[a].kode_barang==t)return e[a].kategori_barang},Je=(t,e,a,i)=>{let s=[];for(let m=0;m<t.length;m++)for(let g=0;g<e.length;g++)t[m].kode_supplier==e[g].kode_supplier&&s.push({no_pembelian:t[m].no_pembelian,tgl_pembelian:t[m].tgl_pembelian,tipe_dokumen:t[m].tipe_dokumen,no_dokumen:t[m].no_dokumen,tgl_dokumen:b.formatDate(t[m].tgl_dokumen),kode_supplier:e[g].nama,mata_uang:t[m].mata_uang,total_nilai:b.numb(t[m].total_nilai,2,!0),rp:b.numb(t[m].total_nilai*t[m].kurs,2,!0),no_invoice:t[m].no_invoice,no_bl:t[m].no_bl,kurs:t[m].kurs,user_input:t[m].user_input,user_batal:t[m].user_batal,tgl_input:t[m].tgl_input,tgl_batal:t[m].tgl_batal,status:t[m].status,nama_barang:we(t[m].no_pembelian,a,"nama"),kode_barang:we(t[m].no_pembelian,a).kode_barang,hs_code:we(t[m].no_pembelian,a).hs_code,satuan:we(t[m].no_pembelian,a).satuan,jumlah_diterima:b.numb(we(t[m].no_pembelian,a).jumlah_diterima),jumlah:we(t[m].no_pembelian,a).jumlah,nilai:we(t[m].no_pembelian,a).nilai,kategori_barang:Oa(we(t[m].no_pembelian,a).kode_barang,i)});return s},Ia=t=>{let e=[];for(let a=0;a<globalThis.pembeliandetl.length;a++)globalThis.pembeliandetl[a].no_pembelian==t&&e.push(globalThis.pembeliandetl[a]);return e},Ea=(t,e,a,i)=>{if(e=="nama"){for(let s=0;s<a.length;s++)if(a[s].kode_supplier==t)return a[s].nama}else if(e=="pembelian"){let s=[];for(let m=0;m<i.length;m++)i[m].no_pembelian==t&&s.push(i[m]);return s}else{if(e=="total")return b.numb(t);if(e=="rp"){let s=t.kurs,m=t.total_nilai;return b.numb(s*m)}}},Ja=(t,e,a)=>{let i=[];for(let s=0;s<t.length;s++)i.push({no_pembelian:t[s].no_pembelian,tgl_pembelian:t[s].tgl_pembelian,tipe_dokumen:t[s].tipe_dokumen,no_dokumen:t[s].no_dokumen,kode_supplier:globalThis.dataTable(t[s].kode_supplier,"nama",e,a),kode_group:t[s].kode_group,kurs:t[s].kurs,mata_uang:t[s].mata_uang,total_nilai:globalThis.dataTable(t[s].total_nilai,"total",e,a),rp:globalThis.dataTable(t[s],"rp")});return i},Ha=(t,e,a,i,s)=>t.length===0?Je(e,a,i,s):Je(e,a,i,s).filter(m=>t.includes(m.tipe_dokumen)),Fa=t=>{let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},ae={sortBy:$a,headers:La,tipedokumen:Aa,headDetails:Na,datainput:Ra,datatable:Je,pembelian:Ia,dataTable:Ea,printdata:Ja,pilihtipe:Ha,sum:Fa,detailpbl:we};const Ka={components:{dialogScroll:je,VDataTable:z,datePicker:F,textButton:te,textFieldForm:C,dialogSearch:Oe,menuForm:xe,menuList:M,BtnCancel:J,BtnOrange:H,dialogVue:Ve,CurrencyInput:ge,BtnInfo:le},props:["tema","window","hapus","total_nilai","barang","pembelianbaru","laporan","namaPelanggan","total","groupbarang","batalbtn","penjualan","pemasukan","alamatBongkar","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,valid:!1,detaildial:[],tipe_dokumen:[{title:"BC23",key:"BC23"},{title:"BC40",key:"BC40"},{title:"PPKEK dari LDP",key:"PPKEK-LDP"},{title:"PPKEK dari TDDP",key:"PPKEK-TDDP"}],list:[{title:"Lihat Data",key:"lihat"},{title:"Batal Pemasukan",key:"batal"}],viewOnly:[{title:"Lihat Data",key:"lihat"}],item:"",searched:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:[],inputdata:this.datainput,kurs:"",pemasukan_detail:"",pembelian_detail:[this.pembelian],validated:Boolean,required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},methods:{itemmasuk(t,e){this.inputdata.total_nilai=e,this.pembelian_input=t},menuAksi(t){t=="lihat"?this.dialog=!0:this.confirm()},confirm(){this.$emit("confirm",this.dataitem,this.pembelian)},pilihObjek(t){this.inputdata.kode_supplier=t.kode_supplier,this.namasupplier=t.nama},pilihtipedokumen(t){return this.inputdata.tipe_dokumen=t},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].nilai);return a.reduce((i,s)=>i+s,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_pembelian:this.pembelian_input[a].no_pembelian,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_diterima:this.pembelian_input[a].jumlah_diterima,satuan:this.pembelian_input[a].satuan,nilai:this.pembelian_input[a].nilai,no_urut:a+1});this.$emit("inputhead",this.inputdata,e),this.dialog=!1}}}},$e=Object.assign(Ka,{__name:"PemasukanDetail",setup(t){return(e,a)=>{const i=o("v-toolbar-title"),s=o("v-spacer"),m=o("v-toolbar"),g=o("v-responsive"),k=o("v-row"),y=o("v-form"),f=o("v-container"),h=o("v-span"),v=o("v-card-title"),D=o("v-card-subtitle"),B=o("v-sheet"),I=o("v-divider"),q=o("v-div"),w=o("v-card"),U=o("v-dialog");return r(),u(U,{modelValue:e.dialog,"onUpdate:modelValue":a[12]||(a[12]=S=>e.dialog=S),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:S})=>[t.edit?c("",!0):(r(),u(le,Z({key:0},S,{icon:"mdi-plus",btn_title:"Tambah Baru"}),null,16)),t.edit?(r(),u(M,{key:1,submenu:!0,icon:"mdi-dots-vertical",items:t.hapus?e.list:e.viewOnly,onResult:e.menuAksi},null,8,["items","onResult"])):c("",!0)]),default:l(()=>[n(w,null,{default:l(()=>[n(m,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{icon:"mdi-close",onClick:a[0]||(a[0]=S=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1)),color:e.white},null,8,["color"]),n(i,{class:"text-button mt-1"},{default:l(()=>[d(_("DETAIL "+t.pageTitle),1)]),_:1}),n(s)]),_:1}),n(f,{class:"h-100 d-flex flex-column"},{default:l(()=>[t.edit?(r(),u(k,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(g,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Pemasukan","model-value":t.items.no_pembelian,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Pemasukan","model-value":p(b).formatDate(t.items.tgl_pembelian),readonly:""},null,8,["model-value"]),n(C,{label:"Nama Supplier","model-value":t.items.kode_supplier,readonly:""},null,8,["model-value"])]),_:1}),n(g,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Dokumen","model-value":t.items.tgl_dokumen,readonly:""},null,8,["model-value"])]),_:1}),n(g,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Invoice","model-value":t.items.no_invoice,readonly:""},null,8,["model-value"]),n(C,{label:"No BL","model-value":t.items.no_bl,readonly:""},null,8,["model-value"]),n(C,{label:"Mata Uang","model-value":t.items.mata_uang,readonly:""},null,8,["model-value"]),n(C,{type:"number",label:"Kurs","model-value":t.items.kurs,readonly:""},null,8,["model-value"])]),_:1})]),_:1})):c("",!0),!t.edit&&p(ae)?(r(),u(y,{key:1,onSubmit:a[10]||(a[10]=Be(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[n(k,{"no-gutters":"",justify:"center","justify-md":"space-between"},{default:l(()=>[n(g,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{label:"No Pemasukan",modelValue:e.inputdata.no_pembelian,"onUpdate:modelValue":a[1]||(a[1]=S=>e.inputdata.no_pembelian=S),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"]),n(F,{label:"Tgl Pemasukan",modelValue:e.inputdata.tgl_pembelian,"onUpdate:modelValue":a[2]||(a[2]=S=>e.inputdata.tgl_pembelian=S),"max-date":new Date,tema:t.tema,rules:e.required},null,8,["modelValue","max-date","tema","rules"]),t.edit?c("",!0):(r(),u(Oe,{key:0,window:t.window,label:"Supplier",objectFilter:t.supplier,onPilihObjek:e.pilihObjek,cardTitle:"SUPPLIER","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"]))]),_:1}),n(g,{class:"pt-2 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[3]||(a[3]=S=>e.inputdata.tipe_dokumen=S),readonly:"",rules:e.required},null,8,["modelValue","rules"]),n(xe,{activator:"#tipe",icon:"mdi-dots-vertical",items:e.tipe_dokumen,onResult:e.pilihtipedokumen},null,8,["items","onResult"]),n(C,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[4]||(a[4]=S=>e.inputdata.no_dokumen=S),required:"",rules:e.required},null,8,["modelValue","rules"]),n(F,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[5]||(a[5]=S=>e.inputdata.tgl_dokumen=S),"max-date":new Date,tema:t.tema,rules:e.required},null,8,["modelValue","max-date","tema","rules"])]),_:1}),n(g,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Invoice",modelValue:e.inputdata.no_invoice,"onUpdate:modelValue":a[6]||(a[6]=S=>e.inputdata.no_invoice=S),rules:e.required},null,8,["modelValue","rules"]),n(C,{label:"No BL",modelValue:e.inputdata.no_bl,"onUpdate:modelValue":a[7]||(a[7]=S=>e.inputdata.no_bl=S),rules:e.required},null,8,["modelValue","rules"]),n(C,{label:"Mata Uang",modelValue:e.inputdata.mata_uang,"onUpdate:modelValue":a[8]||(a[8]=S=>e.inputdata.mata_uang=S),rules:e.required},null,8,["modelValue","rules"]),n(C,{type:"number",label:"Kurs",modelValue:e.inputdata.kurs,"onUpdate:modelValue":a[9]||(a[9]=S=>e.inputdata.kurs=S),rules:e.required},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},512)):c("",!0),t.edit?c("",!0):(r(),u(f,{key:2,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center mb-n5"},{default:l(()=>[n(je,{window:t.window,onReset:e.reset,kurs:e.inputdata.kurs,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pemasukan:!0,dialog_title:"Data Barang",btn:t.btn,"max-width":"400"},null,8,["window","onReset","kurs","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),n(f,null,{default:l(()=>[n(p(z),{headers:t.headDetails,items:t.edit?t.pembelian:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 border-sm rounded-lg my-3",height:t.edit?"42vh":"25vh"},{bottom:l(()=>[t.edit?(r(),u(h,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+_(p(b).numb(e.jumlahtotal(t.pembelian,"jumlah")))+" / Total nilai: "+_(p(b).numb(e.jumlahtotal(t.pembelian,"nilai"),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),u(h,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+_(p(b).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total nilai: "+_(p(b).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.nilai":l(({item:S})=>[d(_(p(b).numb(S.raw.nilai,2,!0)),1)]),"item.jumlah":l(({item:S})=>[d(_(p(b).numb(S.raw.jumlah)),1)]),"item.jumlah_diterima":l(({item:S})=>[d(_(p(b).numb(S.raw.jumlah_diterima)),1)]),"item.actions":l(({item:S,index:Q})=>[n(Ve,{modelValue:e.detaildial[Q],"onUpdate:modelValue":W=>e.detaildial[Q]=W},{titlecard:l(()=>[n(v,{class:"text-center text-button font-weight-bold text-orange"},{default:l(()=>[d(_(S.raw.nama_barang),1)]),_:2},1024),n(D,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(_(S.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(B,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Jumlah","model-value":p(b).numb(S.raw.jumlah),active:"true",readonly:"","hide-details":!0,class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(ge,{key:1,label:"Jumlah",modelValue:e.pembelian_input[Q].jumlah,"onUpdate:modelValue":W=>e.pembelian_input[Q].jumlah=W,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?c("",!0):(r(),u(ge,{key:2,label:"Jumlah diterima",modelValue:e.pembelian_input[Q].jumlah_diterima,"onUpdate:modelValue":W=>e.pembelian_input[Q].jumlah_diterima=W,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:3,label:"Jumlah diterima","model-value":p(b).numb(S.raw.jumlah_diterima),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(ge,{key:4,label:"Total nilai",modelValue:e.pembelian_input[Q].nilai,"onUpdate:modelValue":W=>e.pembelian_input[Q].nilai=W,"hide-details":"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:5,label:"Total nilai","model-value":t.items.total_nilai,readonly:!0,"hide-details":""},null,8,["model-value"])):c("",!0)]),_:2},1024),n(I,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),u(q,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(J,{btn_title:"Hapus",onClick:W=>(e.deleteditem(S.raw),e.detaildial[Q]=!1),class:"me-2"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick"]),n(H,{btn_title:"Simpan",onClick:W=>e.detaildial[Q]=!1},{default:l(()=>[d("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),n(q,{class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[t.edit?c("",!0):(r(),u(J,{key:0,class:"mb-3 me-2",btn_title:"Batal",onClick:a[11]||(a[11]=S=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1))})),t.edit?c("",!0):(r(),u(H,{key:1,class:"mb-3",type:"submit",btn_title:"Simpan",onClick:e.validate},null,8,["onClick"]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const Ga={components:{textFieldForm:C,BtnOrange:H},props:["editdata","otority","tambahUser","user_otoritas","j_otoritas","userselect"],data(){return{confirmdialog:!1,edit:this.editdata,tambah:this.tambahUser,ds:{},open:[],databarang:[{title:"Data Barang",key:"data_barang"},{title:"Tambah Barang Baru",key:"tambah_barang"},{title:"Ubah Barang",key:"ubah_barang"},{title:"Hapus Barang",key:"hapus_barang"}]}},computed:{edituser(){let t=this.userselect,e="",a=[],i=[],s=[],m=[],g=[],k=[],y=[],f=[],h=[],v=[];for(let D=0;D<V.data_barang.length;D++)a.push({jenis_otoritas:V.data_barang[D],status:this.edit?V.routes(this.otority,V.data_barang[D]):!1});for(let D=0;D<V.data_pelanggan.length;D++)i.push({jenis_otoritas:V.data_pelanggan[D],status:this.edit?V.routes(this.otority,V.data_pelanggan[D]):!1});for(let D=0;D<V.data_supplier.length;D++)s.push({jenis_otoritas:V.data_supplier[D],status:this.edit?V.routes(this.otority,V.data_supplier[D]):!1});for(let D=0;D<V.data_user.length;D++)m.push({jenis_otoritas:V.data_user[D],status:this.edit?V.routes(this.otority,V.data_user[D]):!1});for(let D=0;D<V.pembelian.length;D++)g.push({jenis_otoritas:V.pembelian[D],status:this.edit?V.routes(this.otority,V.pembelian[D]):!1});for(let D=0;D<V.produksi.length;D++)k.push({jenis_otoritas:V.produksi[D],status:this.edit?V.routes(this.otority,V.produksi[D]):!1});for(let D=0;D<V.penjualan.length;D++)y.push({jenis_otoritas:V.penjualan[D],status:this.edit?V.routes(this.otority,V.penjualan[D]):!1});for(let D=0;D<V.pengiriman.length;D++)f.push({jenis_otoritas:V.pengiriman[D],status:this.edit?V.routes(this.otority,V.pengiriman[D]):!1});for(let D=0;D<V.laporan.length;D++)h.push({jenis_otoritas:V.laporan[D],status:this.edit?V.routes(this.otority,V.laporan[D]):!1});for(let D=0;D<V.setelan.length;D++)v.push({jenis_otoritas:V.setelan[D],status:this.edit?V.routes(this.otority,V.setelan[D]):!1});return this.ds={username:t,password:e,data_barang:a,data_pelanggan:i,data_supplier:s,data_user:m,pembelian:g,produksi:k,penjualan:y,pengiriman:f,laporan:h,setelan:v}}},methods:{submit(){return this.$emit("submitUser",this.ds)}},mounted(){}},qa=Object.assign(Ga,{__name:"userDetail",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-icon"),g=o("v-avatar"),k=o("v-div"),y=o("v-checkbox"),f=o("v-list-item"),h=o("v-list-group"),v=o("v-list"),D=o("v-spacer"),B=o("v-sheet"),I=o("v-card"),q=o("v-dialog");return r(),u(q,{modelValue:e.detail,"onUpdate:modelValue":a[23]||(a[23]=w=>e.detail=w),width:"400",transition:"dialog-bottom-transition"},{default:l(()=>[n(I,{class:"rounded-xl pa-3"},{default:l(()=>[n(i,{class:"mx-auto text-button font-weight-bold text-orange"},{default:l(()=>[d("DETAIL USER")]),_:1}),n(s),n(B,{class:"d-flex flex-column align-center w-100 px-3 mt-2",height:"80vh"},{default:l(()=>[n(g,{class:"bg-blue-custom",size:"70"},{default:l(()=>[n(m,{size:"50"},{default:l(()=>[d("mdi-account")]),_:1})]),_:1}),n(k,{class:"w-100"},{default:l(()=>[n(C,{label:"Username","model-value":t.userselect,modelValue:e.ds.username,"onUpdate:modelValue":a[0]||(a[0]=w=>e.ds.username=w),readonly:!!e.edit,disabled:!!e.edit,class:"w-75 my-3 mx-auto"},null,8,["model-value","modelValue","readonly","disabled"]),n(C,{label:"Password",modelValue:e.ds.password,"onUpdate:modelValue":a[1]||(a[1]=w=>e.ds.password=w),class:"w-75 mx-auto"},null,8,["modelValue"])]),_:1}),n(i,{class:"text-grey mx-auto text-button"},{default:l(()=>[d("OTORITAS")]),_:1}),n(k,{class:"overflow-auto vh-30 w-100"},{default:l(()=>[n(v,{opened:e.open[0],"onUpdate:opened":a[3]||(a[3]=w=>e.open[0]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Data Barang",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:e.edituser.data_barang[0].jenis_otoritas,"model-value":e.edituser.data_barang[0].status,modelValue:e.ds.data_barang[0].status,"onUpdate:modelValue":a[2]||(a[2]=U=>e.ds.data_barang[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.data_barang.slice(1,e.edituser.data_barang.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.data_barang[U+1].status,"onUpdate:modelValue":S=>e.ds.data_barang[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[1],"onUpdate:opened":a[5]||(a[5]=w=>e.open[1]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Data Pelanggan",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:e.edituser.data_pelanggan[0].jenis_otoritas,"model-value":e.edituser.data_pelanggan[0].status,modelValue:e.ds.data_pelanggan[0].status,"onUpdate:modelValue":a[4]||(a[4]=U=>e.ds.data_pelanggan[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.data_pelanggan.slice(1,e.edituser.data_pelanggan.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.data_pelanggan[U+1].status,"onUpdate:modelValue":S=>e.ds.data_pelanggan[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[2],"onUpdate:opened":a[7]||(a[7]=w=>e.open[2]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Data Supplier",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:e.edituser.data_supplier[0].jenis_otoritas,"model-value":e.edituser.data_supplier[0].status,modelValue:e.ds.data_supplier[0].status,"onUpdate:modelValue":a[6]||(a[6]=U=>e.ds.data_supplier[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.data_supplier.slice(1,e.edituser.data_supplier.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.data_supplier[U+1].status,"onUpdate:modelValue":S=>e.ds.data_supplier[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[3],"onUpdate:opened":a[9]||(a[9]=w=>e.open[3]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Data User",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:e.edituser.data_user[0].jenis_otoritas,"model-value":e.edituser.data_user[0].status,modelValue:e.ds.data_user[0].status,"onUpdate:modelValue":a[8]||(a[8]=U=>e.ds.data_user[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.data_user.slice(1,e.edituser.data_user.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.data_user[U+1].status,"onUpdate:modelValue":S=>e.ds.data_user[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[4],"onUpdate:opened":a[11]||(a[11]=w=>e.open[4]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Pembelian",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:"Pemasukan","model-value":e.edituser.pembelian[0].status,modelValue:e.ds.pembelian[0].status,"onUpdate:modelValue":a[10]||(a[10]=U=>e.ds.pembelian[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.pembelian.slice(1,e.edituser.pembelian.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.pembelian[U+1].status,"onUpdate:modelValue":S=>e.ds.pembelian[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[5],"onUpdate:opened":a[13]||(a[13]=w=>e.open[5]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Produksi",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:"Produksi","model-value":e.edituser.produksi[0].status,modelValue:e.ds.produksi[0].status,"onUpdate:modelValue":a[12]||(a[12]=U=>e.ds.produksi[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.produksi.slice(1,e.edituser.produksi.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.produksi[U+1].status,"onUpdate:modelValue":S=>e.ds.produksi[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[6],"onUpdate:opened":a[15]||(a[15]=w=>e.open[6]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Pengeluaran",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:"Pengeluaran","model-value":e.edituser.penjualan[0].status,modelValue:e.ds.penjualan[0].status,"onUpdate:modelValue":a[14]||(a[14]=U=>e.ds.penjualan[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.penjualan.slice(1,e.edituser.penjualan.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.penjualan[U+1].status,"onUpdate:modelValue":S=>e.ds.penjualan[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[7],"onUpdate:opened":a[17]||(a[17]=w=>e.open[7]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Pengiriman",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:"Pengiriman","model-value":e.edituser.pengiriman[0].status,modelValue:e.ds.pengiriman[0].status,"onUpdate:modelValue":a[16]||(a[16]=U=>e.ds.pengiriman[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.pengiriman.slice(1,e.edituser.pengiriman.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.pengiriman[U+1].status,"onUpdate:modelValue":S=>e.ds.pengiriman[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[8],"onUpdate:opened":a[19]||(a[19]=w=>e.open[8]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Laporan",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:"Laporan","model-value":e.edituser.laporan[0].status,modelValue:e.ds.laporan[0].status,"onUpdate:modelValue":a[18]||(a[18]=U=>e.ds.laporan[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.laporan.slice(1,e.edituser.laporan.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.laporan[U+1].status,"onUpdate:modelValue":S=>e.ds.laporan[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(v,{opened:e.open[9],"onUpdate:opened":a[21]||(a[21]=w=>e.open[9]=w),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(h,{value:"Setelan",class:"text-caption"},{activator:l(({props:w})=>[n(f,ce(fe(w)),{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:"Pengaturan Umum","model-value":e.edituser.setelan[0].status,modelValue:e.ds.setelan[0].status,"onUpdate:modelValue":a[20]||(a[20]=U=>e.ds.setelan[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),A(N,null,G(e.edituser.setelan.slice(1,e.edituser.setelan.length),(w,U)=>(r(),u(f,{key:U},{default:l(()=>[n(y,{color:"orange",class:"radio-small customdense",label:w.jenis_otoritas,"model-value":w.status,modelValue:e.ds.setelan[U+1].status,"onUpdate:modelValue":S=>e.ds.setelan[U+1].status=S,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"])]),_:1}),n(D),n(k,{class:"d-flex ms-auto pb-3"},{default:l(()=>[ve(e.$slots,"cancel",{},void 0,!0),n(H,{onClick:a[22]||(a[22]=w=>e.submit()),btn_title:"Simpan"})]),_:3})]),_:3})]),_:3})]),_:3},8,["modelValue"])}}}),Ie=X(qa,[["__scopeId","data-v-a7a741e4"]]),Ma={components:{PemasukanDetail:$e,VDataTable:z,dialogMaster:Ce,LogBarang:Xe,dialogConfirm:oe,btnCancel:J,menuList:M,BtnOrange:H,UserDetail:Ie},props:["userdetail","loading","editdata","sortby","stok","otority","logbrg","user_otoritas","j_otoritas","stokbarang","update","hapus","groupbarang","laporanstok","masuk","supplier","pembeliandetl","view","disabled","keyform","headers","items","search","category","toolbar_title","form","noselect","ishidden","pageTitle","log","window"],data(){return{dialog:[],detail:[],paginate:"",sorting:this.sortby,totaldata:this.items.length,confirmdialog:[],list:[{title:"Edit Data",key:"edit",icon:"mdi-pencil"},{title:"Hapus Data",key:"hapus",icon:"mdi-delete"}],list2:[{title:"Lihat Data",key:"lihat"}]}},methods:{result(t,e){return t!="hapus"?this.dialog[e]=!0:this.confirmdialog[e]=!0},result2(t,e){return t!="hapus"?this.detail[e]=!0:this.confirmdialog[e]=!0},edit(t){return this.$emit("edit",t)},del(t,e){return this.confirmdialog[e]=!1,this.$emit("del",t)},confirm(t,e){this.$emit("confirm",t,e)},test(t){return alert(t)}},mounted(){}},he=Object.assign(Ma,{__name:"TableVue",setup(t){return(e,a)=>{const i=o("v-sheet");return r(),u(i,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sorting,"onUpdate:sortBy":a[0]||(a[0]=s=>e.sorting=s),"items-per-page":10,headers:t.headers,items:t.items,loading:t.loading,search:t.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-2 pb-12 h-100 border-sm rounded-lg",height:t.window>776?"100%":"92%"},Ye({_:2},[t.userdetail?{name:"item.actions",fn:l(({item:s,index:m})=>[n(M,{items:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result2,index:m},null,8,["items","onResult","index"]),n(Ie,{modelValue:e.detail[m],"onUpdate:modelValue":g=>e.detail[m]=g,editdata:t.editdata,user_otoritas:t.user_otoritas,j_otoritas:t.j_otoritas,userselect:s.raw.username,otority:p(V).all(t.otority,s.raw.username),onSubmitUser:e.edit},{cancel:l(()=>[n(J,{onClick:g=>e.detail[m]=!1,btn_title:"Batal",class:"mx-2"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","editdata","user_otoritas","j_otoritas","userselect","otority","onSubmitUser"]),n(oe,{modelValue:e.confirmdialog[m],"onUpdate:modelValue":g=>e.confirmdialog[m]=g,object:t.pageTitle},{yesButton:l(()=>[n(H,{class:"ms-2",type:"submit",onClick:g=>e.del(s.raw.username,m),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(J,{onClick:g=>e.confirmdialog[m]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object"])]),key:"0"}:void 0,t.laporanstok?{name:"item.actions",fn:l(({item:s})=>[n(Xe,{headers:t.headers,logbrg:t.logbrg,barang:t.groupbarang,groupbarang:t.groupbarang,detail:p(ke).subDetail(t.stok,s.raw.kode_barang),kode_group:s.raw.kode_group,kode_barang:s.raw.kode_barang},null,8,["headers","logbrg","barang","groupbarang","detail","kode_group","kode_barang"])]),key:"1"}:void 0,t.log?{name:"item.tanggal",fn:l(({item:s})=>[d(_(p(b).formatDateTime(s.raw.tanggal)),1)]),key:"2"}:void 0,!t.laporanstok&&!t.masuk&&t.update||t.view?{name:"item.actions",fn:l(({item:s,index:m})=>[n(M,{items:t.view?e.list2:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result,index:m},null,8,["items","onResult","index"]),n(Ce,{modelValue:e.dialog[m],"onUpdate:modelValue":g=>e.dialog[m]=g,view:t.view,editbtn:"true",ishidden:!0,keyform:t.keyform,intable:!0,disabled:t.disabled,noselect:t.noselect,form:s.raw,onEdit:e.edit,item:s,screen:e.screen,headers:t.headers,items:t.items,category:t.category,toolbar_title:t.toolbar_title,alpha:e.alpha},{cancel:l(()=>[n(J,{onClick:g=>e.dialog[m]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","view","keyform","disabled","noselect","form","onEdit","item","screen","headers","items","category","toolbar_title","alpha"]),n(oe,{modelValue:e.confirmdialog[m],"onUpdate:modelValue":g=>e.confirmdialog[m]=g,object:t.pageTitle},{yesButton:l(()=>[n(H,{class:"ms-2",type:"submit",onClick:g=>e.del(s.raw,m),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(J,{onClick:g=>e.confirmdialog[m]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object"])]),key:"3"}:void 0,t.masuk?{name:"item.tgl_pembelian",fn:l(({item:s})=>[d(_(p(b).formatDate(s.raw.tgl_pembelian)),1)]),key:"4"}:void 0,t.masuk?{name:"item.actions",fn:l(({item:s})=>[n($e,{hapus:t.hapus,batalbtn:"Pemasukan",onConfirm:e.confirm,supplier:t.supplier,namaSupplier:p(ae).dataTable(s.raw.kode_supplier,"nama",t.supplier,t.pembeliandetl),pembelian:p(ae).dataTable(s.raw.no_pembelian,"pembelian",t.supplier,t.pembeliandetl),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:p(ae).headDetails,headers:p(ae).headers,items:s.raw,search:t.search,category:p(ae).tipedokumen,selectCategory:e.selectCategory,pageTitle:t.pageTitle},null,8,["hapus","onConfirm","supplier","namaSupplier","pembelian","itemDetail","datatext","btn","headDetails","headers","items","search","category","selectCategory","pageTitle"])]),key:"5"}:void 0]),1032,["sort-by","headers","items","loading","search","height"])]),_:1},8,["height"])}}}),za={components:{},props:["btn_title","color"],data(){return{}}};function Ya(t,e,a,i,s,m){const g=o("v-icon"),k=o("v-btn");return r(),u(k,{class:"me-2",size:"small",variant:"text",icon:""},{default:l(()=>[n(g,{size:"20",color:"blue-custom"},{default:l(()=>[d("mdi-filter")]),_:1})]),_:1})}const x=X(za,[["render",Ya]]),Qa={components:{},props:["label"],data(){return{}},computed:{},methods:{},mounted(){}};function Wa(t,e,a,i,s,m){const g=o("v-checkbox");return r(),u(g,{label:a.label,color:"orange-lighten-1",class:"mt-n6","hide-details":""},null,8,["label"])}const re=X(Qa,[["render",Wa]]),Xa={components:{BtnOrange:H,BtnCancel:J},props:["icon"],data(){return{filter:!1}},methods:{filtered(){this.$emit("close",!1)},reset(){this.$emit("reset")},filterdata(){return this.$emit("filterdata"),this.filtered()}}},Za={class:"d-flex align-center"};function xa(t,e,a,i,s,m){const g=o("v-span"),k=o("v-container"),y=o("v-sheet"),f=o("btn-cancel"),h=o("btn-orange"),v=o("v-div"),D=o("v-navigation-drawer");return r(),u(D,{class:"border-0 elevation-0 mt-5 rounded-left",width:"320",location:"right",temporary:""},{default:l(()=>[n(y,{class:"py-5 h-80 rounded-left"},{default:l(()=>[$("div",Za,[n(g,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1})]),n(k,{class:"py-3 px-4 h-100"},{default:l(()=>[ve(t.$slots,"default")]),_:3})]),_:3}),n(v,{class:"d-flex ms-5"},{default:l(()=>[n(f,{btn_title:"Reset",onClick:e[0]||(e[0]=B=>m.reset()),class:"mt-5 me-2"}),n(h,{btn_title:"Filter",onClick:e[1]||(e[1]=B=>m.filterdata()),class:"mt-5 me-2"})]),_:1})]),_:3})}const ee=X(Xa,[["render",xa]]),en="/assets/sukses-70259593.gif",tn="/assets/gagal-5f734029.jpg",an={props:["sukses","message"],data(){return{}},mounted(){}},nn=$("img",{src:en,style:{width:"100px"}},null,-1),ln=$("img",{src:tn,class:"animate__animated animate__bounceIn mt-3",style:{width:"90px"}},null,-1);function sn(t,e,a,i,s,m){const g=o("v-if"),k=o("v-sheet"),y=o("v-span"),f=o("v-div"),h=o("v-card"),v=o("v-dialog");return r(),u(v,{"close-delay":1e3,transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(h,{class:"rounded-xl pb-3",height:"220"},{default:l(()=>[n(k,{class:"mx-auto mt-3"},{default:l(()=>[a.sukses?(r(),u(g,{key:0},{default:l(()=>[nn]),_:1})):c("",!0),a.sukses?c("",!0):(r(),u(g,{key:1},{default:l(()=>[ln]),_:1}))]),_:1}),a.sukses?(r(),u(y,{key:0,class:"text-center text-button text-green"},{default:l(()=>[d("Berhasil!")]),_:1})):c("",!0),a.sukses?c("",!0):(r(),u(y,{key:1,class:"text-center text-button text-red"},{default:l(()=>[d("Gagal!")]),_:1})),a.sukses?(r(),u(y,{key:2,class:"text-center text-caption text-green-lighten-1"},{default:l(()=>[d(_(a.message),1)]),_:1})):c("",!0),a.sukses?c("",!0):(r(),u(y,{key:3,class:"text-center text-caption text-red-lighten-1"},{default:l(()=>[d(_(a.message),1)]),_:1})),n(f,{class:"d-flex w-50 mx-auto justify-space-between mb-3"},{default:l(()=>[ve(t.$slots,"cancelButton"),ve(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const ne=X(an,[["render",sn]]),on={props:["loading"],data(){}};function rn(t,e,a,i,s,m){const g=o("v-progress-circular"),k=o("v-overlay");return r(),u(k,{"model-value":a.loading,class:"align-center justify-center",persistent:""},{default:l(()=>[n(g,{color:"white",indeterminate:"",size:"64"})]),_:1},8,["model-value"])}const Y=X(on,[["render",rn]]),un={class:"d-flex align-center w-100"},dn={class:"d-flex align-center justify-sm-end justify-start"},mn=qe({components:{dialogMaster:Ce,TableVue:he,btnFilter:x,menuList:M,textField:K,checkBox:re,filterDrawer:ee,alertVue:ne,circularLoader:Y},name:"DataBarang",props:["cetak","tema","window"],data(){return{dialog:!1,valert:!1,status:null,loading:!0,authority:"",akses:"",message:"",search:"",filter:!1,pageTitle:"DATA BARANG",selectCategory:[],statusselect:!1,items:"",tambah:{kategori_barang:"",kode_barang:"",nama_barang:"",hs_code:"",satuan:"",status:1},filtered:{kategori_barang:[]}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await P.getOtoritas(t),this.authority=V.otoritas(this.akses)),V.routes(this.akses,"Data Barang"))this.loading=!0,this.items=await P.getBarang(),this.loading=!1;else return await P.logout()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=de.headers,i=this.items;b.print(t,e,a,i)},submit(t){P.postBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editForm(t){P.putBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},del(t){P.deleteBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[]},reset(){this.filtered.kategori_barang=[],this.selectCategory=[]}},mounted(){this.page(),this.fetchData(),this.cetak}}),pn=Object.assign(mn,{setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-responsive"),g=o("v-row"),k=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=y=>e.filter=y),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kategori Barang")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(p(de).category,(y,f)=>(r(),u(re,{key:f,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.kategori_barang=h),label:y,value:y},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(k,{class:"pt-9 h-100"},{default:l(()=>[n(g,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(m,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[$("div",un,[p(V).routes(e.authority,"Tambah Barang Baru")?(r(),u(Ce,{key:0,toolbar_title:"Tambah Data",keyform:p(de).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submit,screen:400,headers:p(de).headers,items:e.items,category:p(de).category,submitForm:e.submitForm},null,8,["keyform","tambah","noselect","onForm","headers","items","category","submitForm"])):c("",!0)])]),_:1}),n(m,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",dn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=y=>e.search=y),placeholder:"Search",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[3]||(a[3]=y=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(he,{create:p(V).routes(e.authority,"Tambah Barang Baru"),update:p(V).routes(e.authority,"Ubah Barang"),hapus:p(V).routes(e.authority,"Hapus Barang"),window:e.window,keyform:p(de).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",headers:p(de).headers,items:p(de).selected(e.selectCategory,e.items),search:e.search,category:p(de).category,selectCategory:e.selectCategory,toolbar_title:"Edit Data",form:e.form,pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","form","pageTitle"])]),_:1}),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[4]||(a[4]=y=>e.valert=y),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])],64)}}}),gn={components:{VDataTable:z},props:["items","headers"],data(){return{search:""}},methods:{},mounted(){}};function hn(t,e,a,i,s,m){const g=o("v-data-table");return r(),u(g,{headers:a.headers,items:a.items,density:"compact",class:"text-caption pt-2 pb-12 h-100 border-sm rounded-lg"},null,8,["headers","items"])}const et=X(gn,[["render",hn]]),cn={component:{tableMain:et},props:["item"],data(){return{items:"",res:""}},methods:{async fetch(){this.items=await P.getBarang()}},mounted(){this.fetch()}},bn=Object.assign(cn,{__name:"testPage",setup(t){return(e,a)=>(r(),u(et,{headers:p(de).headers,items:e.items},{"item.actions":l(()=>[d(" a ")]),_:1},8,["headers","items"]))}}),fn="/assets/logo_text-5a0d98cf.png",_n="/assets/USER-778b9647.png",kn="/assets/PASS-bdd62e1b.png";const vn="inventori",yn="0.0.0",wn={dev:"vite",build:"vite build",preview:"vite preview --port 8080",lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs --fix --ignore-path .gitignore",format:"prettier --write src/",start:"json-server --watch fake-server/inventori.json","start-auth":"node src/modules/server.js",deploy:"vite build && gh-pages -d dist"},jn={"@quasar/extras":"^1.16.3","@vitejs/plugin-vue":"^4.2.1","@vuelidate/core":"^2.0.2","@vuelidate/validators":"^2.0.2","@vuepic/vue-datepicker":"^5.0.1","@vueuse/core":"^10.2.1","animate.css":"^4.1.1",axios:"^1.3.6","body-parser":"^1.20.2",cors:"^2.8.5",dotenv:"^16.0.3","export-xlsx":"^0.1.4",express:"^4.18.2","file-saver":"^2.0.5",install:"^0.13.0","json-server":"^0.17.3",jsonwebtoken:"^9.0.0",jspdf:"^2.5.1","jspdf-autotable":"^3.5.29","jwt-decode":"^3.1.2",quasar:"^2.11.10",sass:"^1.62.1",scss:"^0.2.4","v-data-table":"^2.1.0","vee-validate":"^4.8.6","vite-plugin-vuetify":"^1.0.2",vue:"^3.2.47","vue-currency-input":"^3.0.5","vue-router":"^4.1.6","vue-sweetalert":"^0.1.18",vuetify:"^3.1.13",vuex:"^4.1.0","vuex-persistedstate":"^4.1.0",webfontloader:"^1.6.28",yup:"^1.1.1"},Vn={"@mdi/font":"^7.2.96","@rushstack/eslint-patch":"^1.2.0","@vitejs/plugin-vue-jsx":"^3.0.0","@vue/eslint-config-prettier":"^7.1.0",eslint:"^8.34.0","eslint-plugin-vue":"^9.9.0",prettier:"^2.8.4",vite:"^4.3.3"},Dn={name:vn,version:yn,private:!0,scripts:wn,dependencies:jn,devDependencies:Vn},Pn=$("img",{src:fn,alt:"brandlogo",style:{"min-width":"250px",width:"40vw"}},null,-1),Tn=$("img",{src:_n,class:"me-3 mb-2 icon-small"},null,-1),Bn=$("img",{src:kn,class:"me-3 mb-2 icon-small"},null,-1),Un=$("br",null,null,-1),Sn={components:{},props:["window"],data(){return{pageTitle:null,message:"",username:"",password:"",valert:!1,status:null,user:!1,pass:!1,ispassword:!1}},methods:{page(){return this.$emit("page",this.pageTitle)},handleLogin(){P.postLogin({username:this.username,password:this.password}).then(t=>{localStorage.setItem("token",t.data),localStorage.setItem("user",this.username),window.location.href="/"}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data,setTimeout(()=>{this.valert=!1},2e3)})}},mounted(){this.page()}},Cn=Object.assign(Sn,{__name:"LoginView",setup(t){return(e,a)=>{const i=o("v-responsive"),s=o("v-span"),m=o("v-spacer"),g=o("v-text-field"),k=o("v-div"),y=o("v-icon"),f=o("v-form"),h=o("v-card"),v=o("v-row"),D=o("v-alert"),B=o("v-container");return r(),u(i,{class:"bg-auri h-100"},{default:l(()=>[n(B,{fluid:"",class:"d-flex flex-column h-100"},{default:l(()=>[n(v,{class:"h-100"},{default:l(()=>[n(i,{class:"pt-14 ps-14 align-center",height:t.window>776?"40vh":"",width:"375"},{default:l(()=>[Pn]),_:1},8,["height"]),n(i,{class:ze(["align-center",t.window>776?"me-10":""]),"min-width":t.window>776?375:267},{default:l(()=>[n(h,{class:ze([t.window>776?"":"bg-trans-blue mt-n7","rounded-xl mx-auto elevation-3 px-2"]),height:t.window>776?430:365,"max-width":t.window>776?350:300},{default:l(()=>[n(f,{onSubmit:Be(e.handleLogin,["prevent"]),"validation-schema":e.schema,class:"text-center w-75 mx-auto py-14 h-100 d-flex flex-column"},{default:l(()=>[n(s,{class:"text-blue-custom font-25 text-montserrat mx-auto"},{default:l(()=>[d("USER LOGIN")]),_:1}),n(m),n(k,null,{default:l(()=>[n(g,{variant:"underlined",class:"text-blue-custom text-field",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=I=>e.username=I),name:"username","hide-details":""},{default:l(()=>[Tn]),_:1},8,["modelValue"])]),_:1}),n(k,{class:"d-flex align-end"},{default:l(()=>[n(g,{type:e.ispassword==!0?"text":"password",variant:"underlined",class:"text-blue-custom text-field",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=I=>e.password=I),name:"password","hide-details":""},{default:l(()=>[Bn]),_:1},8,["type","modelValue"]),e.ispassword?(r(),u(y,{key:0,onClick:a[2]||(a[2]=I=>e.ispassword=!1),class:"mb-1 text-info"},{default:l(()=>[d("mdi-eye")]),_:1})):c("",!0),e.ispassword?c("",!0):(r(),u(y,{key:1,onClick:a[3]||(a[3]=I=>e.ispassword=!0),class:"mb-1 text-info"},{default:l(()=>[d("mdi-eye-off")]),_:1}))]),_:1}),n(m),n(k,null,{default:l(()=>[n(H,{type:"submit",class:"mx-auto w-100",btn_title:"LOGIN"})]),_:1})]),_:1},8,["onSubmit","validation-schema"])]),_:1},8,["class","height","max-width"])]),_:1},8,["class","min-width"])]),_:1}),n(s,{class:"text-caption text-center text-grey"},{default:l(()=>[d("AURI STEEL METALINDO "),Un,d("version."+_(p(Dn).version),1)]),_:1}),n(k,{class:"absolute w-100 pe-8 text-caption mt-n3"},{default:l(()=>[n(D,{modelValue:e.valert,"onUpdate:modelValue":a[4]||(a[4]=I=>e.valert=I),transition:"scroll-y-transition",color:"red-darken-1",density:"compact",type:"error",title:"Gagal !",text:e.message},null,8,["modelValue","text"])]),_:1})]),_:1})]),_:1})}}}),$n=[{title:"Kode Pelanggan",key:"kode_pelanggan",dis:!0},{title:"Nama",key:"nama"},{title:"Alamat",key:"alamat"},{title:"NPWP",key:"npwp"},{title:"",key:"actions",align:"end",sortable:!1}],Ln=["kode_pelanggan","nama","alamat","npwp","status"],An=(t,e)=>{for(let a=0;a<t.length;a++)if(t[a].kode_pelanggan==e)return t[a].nama},Te={headers:$n,keyform:Ln,namaPelanggan:An};const Nn={class:"d-flex align-center w-100"},Rn={class:"d-flex align-center justify-sm-end justify-start"},On=qe({name:"CustomerView",props:["cetak","user","window"],components:{TableVue:he,dialogMaster:Ce,menuList:M,textField:K,AlertVue:ne,CircularLoader:Y},data(){return{pageTitle:"DATA PELANGGAN",statusselect:!0,loading:!0,status:"",message:"",valert:!1,search:"",items:"",dialog:!1,akses:"",authority:"",tambah:{kode_pelanggan:"",nama:"",alamat:"",npwp:"",status:"true"}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""&&(this.akses=await P.getOtoritas(t),this.authority=V.otoritas(this.akses)),V.routes(this.akses,"Data Pelanggan"))this.loading=!0,this.items=await P.getPelanggan(),this.loading=!1;else return await P.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=Te.headers,i=this.items;b.print(t,e,a,i)},submitForm(t){P.postPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.message=e.response.data,this.valert=!0})},editForm(){let t={kode_pelanggan:"ASMT",nama:"Auristeel Metalindo Terboyo",alamat:"Semarang",npwp:"0.0.0.0",status:"true"};P.putPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},del(t){P.deletePelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})}},mounted(){this.fetchData(),this.page()}}),In=Object.assign(On,{setup(t){return(e,a)=>{const i=o("v-responsive"),s=o("v-row"),m=o("v-container");return r(),A(N,null,[n(m,{class:"pt-9 h-100"},{default:l(()=>[n(s,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[$("div",Nn,[p(V).routes(e.authority,"Tambah Pelanggan Baru")?(r(),u(Ce,{key:0,keyform:p(Te).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,headers:p(Te).headers,items:e.items,category:e.category,toolbar_title:"Tambah Data"},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):c("",!0)])]),_:1}),n(i,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",Rn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=g=>e.search=g),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0)])]),_:1})]),_:1}),n(he,{id:"tbl_exporttable_to_xls",create:p(V).routes(e.authority,"Tambah Pelanggan Baru"),update:p(V).routes(e.authority,"Ubah Pelanggan"),hapus:p(V).routes(e.authority,"Hapus Pelanggan"),window:e.window,keyform:p(Te).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,headers:p(Te).headers,items:e.items,search:e.search,category:e.category,toolbar_title:"Edit Data",form:e.form,pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","form","pageTitle"])]),_:1}),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[1]||(a[1]=g=>e.valert=g),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])],64)}}}),En=[{title:"Kode Supplier",align:"start",key:"kode_supplier",dis:!0},{title:"Nama",align:"start",key:"nama",dis:!0},{title:"Alamat",align:"start",key:"alamat",dis:!0},{title:"Kota",align:"start",key:"kota",dis:!0},{title:"Negara",align:"start",key:"negara",dis:!0},{title:"",align:"end",key:"actions",sortable:!1}],Jn=["kode_supplier","nama","alamat","kota","negara","status"],He={headers:En,keyform:Jn};const Hn={class:"d-flex"},Fn={props:["cetak","window"],components:{TableVue:he,menuList:M,textField:K,CircularLoader:Y},data(){return{drawer:!1,loading:!0,authority:"",akses:"",pageTitle:"DATA SUPPLIER",search:"",alpha:0,items:""}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await P.getOtoritas(t),this.authority=V.otoritas(this.akses)),V.routes(this.akses,"Data Supplier"))this.loading=!0,this.items=await P.getSupplier(),this.loading=!1;else return await P.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=He.headers,i=this.items;b.print(t,e,a,i)}},mounted(){this.page(),this.fetchData()}},Kn=Object.assign(Fn,{__name:"DataSupplier",setup(t){return(e,a)=>{const i=o("v-responsive"),s=o("v-row"),m=o("v-container");return r(),A(N,null,[n(m,{class:"h-100 pt-9"},{default:l(()=>[n(s,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",Hn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=g=>e.search=g),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0)])]),_:1})]),_:1}),n(he,{window:t.window,keyform:p(He).keyform,ishidden:!0,disabled:!0,noselect:!0,id:"tbl_exporttable_to_xls",screen:400,headers:p(He).headers,items:e.items,view:!0,search:e.search,toolbar_title:"Detail Data",pageTitle:e.pageTitle},null,8,["window","keyform","headers","items","search","pageTitle"])]),_:1}),n(Y,{loading:e.loading},null,8,["loading"])],64)}}}),Gn=qe({props:["user","cetak","window"],name:"UserView",components:{BtnInfo:le,BtnCancel:J,BtnOrange:H,AlertVue:ne,DialogConfirm:oe,TableVue:he,UserDetail:Ie,CircularLoader:Y},data(){return{drawer:!1,detail:!1,confirmdialog:!1,pageTitle:"DATA USER",loading:!0,tab:null,valert:!1,message:"",status:null,username:"",password:"",otority:"",akses:"",authority:"",dialogotoritas:[],userselect:"",open:["barang","Laporan"],scrollInvoked:0,items:"",head:[{title:"Username",key:"username"},{key:"actions",align:"end"}],jns_otoritas:["Data Barang","Data Pelanggan","Data Supplier","Data User","Pembelian","Produksi","Penjualan","Pengiriman","Laporan"],user_otoritas:"",headers:[{title:"Jenis Otoritas",key:"jenis_otoritas"},{title:"Tambah Data",key:"tambah"},{title:"Edit Data",key:"edit"},{title:"Batal/Hapus Data",key:"hapus"}]}},methods:{async fetchData(){let t=localStorage.getItem("user");t!=null&&(this.akses=await P.getOtoritas(t),this.authority=V.otoritas(this.akses)),V.routes(this.akses,"Data User")?(this.loading=!0,this.items=await P.getUser(),this.otority=await P.getOtoritas(this.userselect),this.user_otoritas=V.otoritas(this.otority),this.loading=!1):await P.logout()},async pilihUser(t){this.userselect=t;let e=await P.getOtoritas(t);this.user_otoritas=V.otoritas(e)},page(){return this.$emit("page",this.pageTitle)},dataUser(t,e){this.username=t,this.password=e},onScroll(){this.scrollInvoked++},dialog(t){this.tambah=!1,this.ds={},this.detail=!0,this.pilihUser(t)},updt(){this.fetchData()},postUser(t){P.postUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editUser(t){P.editUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},deleteUser(t){P.deleteUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})}},mounted(){this.page(),this.fetchData()}}),qn=Object.assign(Gn,{setup(t){return(e,a)=>{const i=o("v-responsive"),s=o("v-row"),m=o("v-container");return r(),u(m,{class:"pt-9 h-100"},{default:l(()=>[n(s,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(i,{class:"mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[n(le,{onClick:a[0]||(a[0]=g=>(e.tambah=!0,e.edit=!1,e.detail=!0,e.ds=e.j_otoritas)),btn_title:"Tambah User",icon:"mdi-plus"})]),_:1})]),_:1}),n(he,{window:e.window,userdetail:!0,items:e.items,headers:e.head,editdata:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect,otority:e.otority,onEdit:e.editUser,onDel:e.deleteUser},null,8,["window","items","headers","user_otoritas","j_otoritas","userselect","otority","onEdit","onDel"]),n(Ie,{modelValue:e.detail,"onUpdate:modelValue":a[2]||(a[2]=g=>e.detail=g),onSubmitUser:e.postUser,tambahUser:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect},{cancel:l(()=>[n(J,{onClick:a[1]||(a[1]=g=>e.detail=!1),btn_title:"Batal",class:"mx-2"})]),_:1},8,["modelValue","onSubmitUser","user_otoritas","j_otoritas","userselect"]),n(oe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[5]||(a[5]=g=>e.confirmdialog=g),object:e.pageTitle},{yesButton:l(()=>[n(H,{onClick:a[3]||(a[3]=g=>(e.deleteUser(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(J,{class:"me-2",onClick:a[4]||(a[4]=g=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[6]||(a[6]=g=>e.valert=g),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])]),_:1})}}}),Mn={class:"d-flex align-center w-100"},zn={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},Yn={components:{PemasukanDetail:$e,dialogConfirm:oe,TableVue:he,filterDrawer:ee,textField:K,menuList:M,checkBox:re,DatePicker:F,BtnOrange:H,BtnCancel:J,AlertVue:ne,CircularLoader:Y},props:["cetak","tema","window"],data(){return{search:"",periode:[],filter:!1,confirmdialog:!1,loading:!0,status:null,valert:!1,authority:"",message:"",pageTitle:"PEMASUKAN BARANG",btn:"Tambah Barang",sortBy:[{key:"no_pembelian",order:"desc"}],selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",barang:"",pemasukan_item:"",pembelian_head:"",pdetail:"",items:"",dataitems:"",supplier:"",pembeliandetl:"",filtered:{selectdokumen:[],periode:[]},details:[]}},created(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}this.authority!=""?(this.loading=!0,this.items=await P.getPemasukanHead(this.periode),this.supplier=await P.getSupplier(),this.pembeliandetl=await P.getPemasukanDetail(this.periode),this.barang=await P.getBarang(),this.dataitems=ae.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1):await P.logout()},inputhead(t,e){P.postPemasukan(t,e).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){P.deletePemasukan(this.pembelian_head,this.pdetail).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.pembelian_head=t,this.pdetail=e},selected(){this.fetchData()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=ae.headers,i=this.dataitems;b.print(t,e,a,i)},reset(){this.def=!0,this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()],this.filtered.selectdokumen=[],this.selectdokumen=[],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.selected(),this.page()}},Qn=De();Pe(()=>{const t=new Date;Qn.value=[t,t]});const Wn=Object.assign(Yn,{__name:"PemasukanBarang",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-responsive"),k=o("v-row"),y=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=f=>e.filter=f),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=f=>e.filtered.periode[0]=f),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=f=>e.filtered.periode[1]=f),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(p(ae).tipedokumen,(f,h)=>(r(),u(re,{key:h,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=v=>e.filtered.selectdokumen=v),label:f,value:f},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(y,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"mt-n4"},{default:l(()=>[n(g,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[$("div",Mn,[p(V).routes(e.authority,"Tambah Pembelian Baru")?(r(),u($e,{key:0,window:t.window,tema:t.tema,barang:e.barang,batalbtn:"Pemasukan",datainput:p(ae).datainput,onInputhead:e.inputhead,pemasukan:!0,supplier:e.supplier,edit:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:p(ae).headDetails,details:e.details,headers:p(ae).headers,items:e.dataitems,pembeliandetl:e.pembeliandetl,search:e.search,category:p(ae).tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","tema","barang","datainput","onInputhead","supplier","itemDetail","datatext","btn","headDetails","details","headers","items","pembeliandetl","search","category","selectCategory","pageTitle"])):c("",!0)])]),_:1}),n(g,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[$("div",zn,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=f=>e.search=f),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[5]||(a[5]=f=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(he,{window:t.window,sortby:p(ae).sortBy,hapus:p(V).routes(e.authority,"Batal Pembelian"),id:"tbl_exporttable_to_xls",items:e.dataitems,search:e.search,headers:p(ae).headers,masuk:!0,supplier:e.supplier,pembeliandetl:e.pembeliandetl,onConfirm:e.confirm,pageTitle:e.pageTitle,class:"mt-2"},null,8,["window","sortby","hapus","items","search","headers","supplier","pembeliandetl","onConfirm","pageTitle"]),n(oe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[8]||(a[8]=f=>e.confirmdialog=f),object:e.pageTitle},{yesButton:l(()=>[n(H,{onClick:a[6]||(a[6]=f=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(J,{class:"me-2",onClick:a[7]||(a[7]=f=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[9]||(a[9]=f=>e.valert=f),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Xn=[{title:"Nomor Produksi",key:"no_produksi"},{title:"Tgl Produksi",key:"tgl_produksi"},{title:"Kode Group",key:"kode_group"},{title:"Bahan Baku",key:"bahan_baku"},{title:"Jumlah Bahan Baku",key:"jumlah"},{title:"Barang Jadi",key:"barang_jadi"},{title:"Jumlah Barang Jadi",key:"jml_barang_jadi"},{title:"",key:"actions",sortable:!1}],Zn=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],xn={no_produksi:"",kode_group:"",tgl_produksi:"",tgl_input:b.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_input:"admin",user_batal:"",status:"true"},Fe=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)t==e[i].no_produksi&&a.push(e[i].nama_barang);return a.toString()},Ke=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)t==e[i].no_produksi&&a.push(e[i].jumlah);return a.reduce((i,s)=>i+s,0)},el=(t,e,a)=>{let i=[];for(let s=0;s<t.length;s++)for(let m=0;m<e.length;m++)for(let g=0;g<a.length;g++)e[m].no_produksi==t[s].no_produksi&&a[g].no_produksi==t[s].no_produksi&&i.push({no_produksi:t[s].no_produksi,tgl_produksi:t[s].tgl_produksi,tgl_input:t[s].tgl_input,kode_group:t[s].kode_group,bahan_baku:Fe(t[s].no_produksi,e),jumlah:b.numb(Ke(t[s].no_produksi,e)),barang_jadi:Fe(t[s].no_produksi,a),jml_barang_jadi:b.numb(Ke(t[s].no_produksi,a))});return i},tl=t=>t.filter((a,i)=>i===t.findIndex(s=>a.no_produksi===s.no_produksi)),al=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].no_produksi==t&&a.push({no_produksi:e[i].no_produksi,no_urut:1,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,hs_code:e[i].hs_code,jumlah:e[i].jumlah,satuan:e[i].satuan,nilai:e[i].nilai});return a},nl=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].no_produksi==t&&a.push({no_produksi:e[i].no_produksi,no_urut:1,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,jumlah:e[i].jumlah,hs_code:e[i].hs_code,satuan:e[i].satuan,nilai:e[i].nilai});return a},_e={headers:Xn,headItem:Zn,input:xn,items:el,bahan:al,barang:nl,noDuplicate:tl,detail_items:Fe,sum:Ke},ll={components:{VDataTable:z,dialogScroll:je,btnInfoVue:le,btnCancel:J,btnOrange:H,DatePicker:F,TextFieldForm:C,TextField:K,DialogVue:Ve,TextButton:te,CurrencyInput:ge},props:["window","tema","headers","headItem","edit","hapus","getbarang","detailbahan","groupbarang","detailbarang","select_kode","item"],data(){return{dialog:!1,dialog2:!1,dialogbhn:[],dialogbrg:[],dialog5:!1,valert:!1,status:null,message:"",searched:"",inputbahan:"",inputbarang:"",masuk:"",inputproduksi:_e.input,btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},computed:{filterkodegroup(){let t=[];for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return b.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))},group_detail(){let t=[];for(let e=0;e<this.filterkodegroup.length;e++)for(let a=0;a<this.groupbarang.length;a++)this.filterkodegroup[e]==this.groupbarang[a].kode_group&&t.push(this.groupbarang[a]);return t}},methods:{bahanmasuk(t){this.inputbahan=t},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},deleteditem(t,e){let a=[];e=="bahan"&&(a=this.inputbahan),e=="barang"&&(a=this.inputbarang);for(let i=0;i<a.length;i++)t==a[i]&&a.splice(i,1)},jumlahtotal(t){let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},confirm(){this.$emit("confirm",this.item,this.detailbahan,this.detailbarang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[],a=[];for(let i=0;i<this.inputbahan.length;i++)e.push({no_produksi:this.inputbahan[i].no_produksi,kode_barang:this.inputbahan[i].kode_barang,nama_barang:this.inputbahan[i].nama_barang,hs_code:this.inputbahan[i].hs_code,jumlah:this.inputbahan[i].jumlah,satuan:this.inputbahan[i].satuan,no_urut:i+1,nilai:this.inputbahan[i].nilai});for(let i=0;i<this.inputbarang.length;i++)a.push({no_produksi:this.inputbarang[i].no_produksi,kode_barang:this.inputbarang[i].kode_barang,nama_barang:this.inputbarang[i].nama_barang,hs_code:this.inputbarang[i].hs_code,jumlah:this.inputbarang[i].jumlah,satuan:this.inputbarang[i].satuan,no_urut:i+1,nilai:this.inputbahan[0].nilai});return this.$emit("inputhead",this.inputproduksi,e,a)}}},mounted(){}},Ge=Object.assign(ll,{__name:"ScreenDialog2",setup(t){return(e,a)=>{const i=o("v-list-item"),s=o("v-list"),m=o("v-menu"),g=o("v-toolbar-title"),k=o("v-spacer"),y=o("v-toolbar"),f=o("v-responsive"),h=o("v-row"),v=o("v-form"),D=o("v-span"),B=o("v-card-title"),I=o("v-card-subtitle"),q=o("v-sheet"),w=o("v-divider"),U=o("v-div"),S=o("v-container"),Q=o("v-card"),W=o("v-btn"),be=o("v-for"),O=o("v-dialog");return r(),u(O,{modelValue:e.dialog,"onUpdate:modelValue":a[12]||(a[12]=j=>e.dialog=j),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:j})=>[t.edit?c("",!0):(r(),u(le,Z({key:0,btn_title:"Tambah Baru"},j,{icon:"mdi-plus"}),null,16)),n(m,null,{activator:l(({props:L})=>[t.edit?(r(),u(te,Z({key:0,id:"menu-actions"},L,{icon:"mdi-dots-vertical"}),null,16)):c("",!0)]),default:l(()=>[n(s,null,{default:l(()=>[n(i,Z({class:"text-caption",density:"compact"},j),{default:l(()=>[d("Lihat Data")]),_:2},1040),t.hapus?(r(),u(i,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=L=>e.confirm())},{default:l(()=>[d("Batal Produksi")]),_:1})):c("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(Q,null,{default:l(()=>[n(y,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(te,{icon:"mdi-close",color:"white",onClick:a[1]||(a[1]=j=>(e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]))}),n(g,{class:"text-button"},{default:l(()=>[d("DETAIL PRODUKSI")]),_:1}),n(k)]),_:1}),n(S,null,{default:l(()=>[n(v,{onSubmit:a[6]||(a[6]=Be(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(h,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"pb-3","min-width":"400"},{default:l(()=>[n(f,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[t.edit?(r(),u(C,{key:0,"model-value":t.item.no_produksi,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(C,{key:1,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":a[2]||(a[2]=j=>e.inputproduksi.no_produksi=j)},null,8,["modelValue"]))]),_:1}),n(f,{class:"pt-2 mx-3 overflow-visible",width:"250"},{default:l(()=>[t.edit?c("",!0):(r(),u(F,{key:0,"max-date":new Date,label:"Tgl Produksi",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":a[3]||(a[3]=j=>e.inputproduksi.tgl_produksi=j),tema:t.tema,rules:e.required},null,8,["modelValue","tema","rules"])),t.edit?(r(),u(C,{key:1,label:"Tgl Produksi",readonly:!0,rules:e.required,"model-value":p(b).formatDate(t.item.tgl_produksi)},null,8,["rules","model-value"])):c("",!0)]),_:1}),n(f,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Kode Group","model-value":t.item.kode_group,readonly:"",rules:e.required},null,8,["model-value","rules"])):c("",!0),t.edit?c("",!0):(r(),u(C,{key:1,label:"Kode Group",onClick:a[4]||(a[4]=j=>e.dialog5=!0),modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":a[5]||(a[5]=j=>e.inputproduksi.kode_group=j),rules:e.required},null,8,["modelValue","rules"]))]),_:1})]),_:1})]),_:1},512),n(h,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"mx-sm-0 mx-3","min-width":"400"},{default:l(()=>[n(f,{class:"me-sm-2 me-0 text-sm-left text-center",width:"400"},{default:l(()=>[t.edit?c("",!0):(r(),u(je,{key:0,window:t.window,dialog_title:"stok barang",group_detail:e.group_detail,produksi:!0,btn:e.btn[0],width:"400",barang:t.detailbahan,stok_akhir:!0,tambah:!0,getbarang:t.select_kode,kodegroup:e.inputproduksi.kode_group,onPemasukanitem:e.bahanmasuk},null,8,["window","group_detail","btn","barang","getbarang","kodegroup","onPemasukanitem"])),t.edit?(r(),u(h,{key:1,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[d("detail bahan")]),_:1})):c("",!0),n(S,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(p(z),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbahan:e.inputbahan,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption",height:t.window>776?"45vh":200},{bottom:l(()=>[t.edit?(r(),u(D,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah Bahan : "+_(p(b).numb(e.jumlahtotal(t.detailbahan))),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),u(D,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah bahan : "+_(p(b).numb(e.jumlahtotal(e.inputbahan))),1)]),_:1}))]),"item.jumlah":l(({item:j})=>[d(_(p(b).numb(j.raw.jumlah)),1)]),"item.actions":l(({item:j,index:L})=>[n(Ve,{onUpdate:e.dialogchild,modelValue:e.dialogbhn[L],"onUpdate:modelValue":T=>e.dialogbhn[L]=T},{titlecard:l(()=>[n(B,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(_(j.raw.nama_barang),1)]),_:2},1024),n(I,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(_(j.raw.kode_barang),1)]),_:2},1024)]),content:l(()=>[n(q,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),u(C,{key:0,"model-value":p(b).numb(j.raw.jumlah),label:"Jumlah",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(ge,{key:1,modelValue:j.raw.jumlah,"onUpdate:modelValue":T=>j.raw.jumlah=T,label:"Jumlah",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(w,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),u(U,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(J,{btn_title:"Hapus",onClick:T=>(e.deleteditem(j.raw,"bahan"),e.dialogbhn[L]=!1),class:"me-2"},null,8,["onClick"]),n(H,{btn_title:"Simpan",type:"submit",onClick:T=>e.dialogbhn[L]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1}),n(f,{class:"mt-md-0 mt-2 text-sm-left text-center",width:"400"},{default:l(()=>[d(_(e.inputbarang)+" ",1),t.edit?c("",!0):(r(),u(je,{key:0,dialog_title:"data barang",produksi:!0,kodegroup:e.inputproduksi.kode_group,btn:e.btn[1],width:"400",barang:t.detailbarang,getbarang:t.getbarang,inputbahan:e.inputbahan,tambah:!0,onPemasukanitem:e.barangmasuk},null,8,["kodegroup","btn","barang","getbarang","inputbahan","onPemasukanitem"])),t.edit?(r(),u(h,{key:1,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[d("detail barang")]),_:1})):c("",!0),n(S,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(p(z),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption he",height:t.window>776?"45vh":200},{bottom:l(()=>[t.edit?(r(),u(D,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah Barang : "+_(p(b).numb(e.jumlahtotal(t.detailbarang))),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),u(D,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah Barang : "+_(p(b).numb(e.jumlahtotal(e.inputbarang))),1)]),_:1}))]),"item.jumlah":l(({item:j})=>[d(_(p(b).numb(j.raw.jumlah)),1)]),"item.actions":l(({item:j,index:L})=>[n(Ve,{onUpdate:e.dialogbrg,modelValue:e.dialogbrg[L],"onUpdate:modelValue":T=>e.dialogbrg[L]=T},{titlecard:l(()=>[n(B,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(_(j.raw.nama_barang),1)]),_:2},1024),n(I,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(_(j.raw.kode_barang),1)]),_:2},1024)]),content:l(()=>[n(q,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),u(C,{key:0,"model-value":p(b).numb(j.raw.jumlah),label:"Jumlah",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(ge,{key:1,modelValue:j.raw.jumlah,"onUpdate:modelValue":T=>j.raw.jumlah=T,label:"Jumlah",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(w,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),u(U,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(J,{btn_title:"Hapus",onClick:T=>(e.deleteditem(j.raw,"barang"),e.dialogbrg[L]=!1),class:"me-2"},null,8,["onClick"]),n(H,{btn_title:"Simpan",type:"submit",onClick:T=>e.dialogbrg[L]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1})]),_:1}),n(h,{"no-gutters":"",class:"float-end mt-3"},{default:l(()=>[t.edit?c("",!0):(r(),u(J,{key:0,onClick:a[7]||(a[7]=j=>(e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[])),btn_title:"Batal"})),t.edit?c("",!0):(r(),u(H,{key:1,onClick:e.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"]))]),_:1})]),_:1})]),_:1}),n(O,{modelValue:e.dialog5,"onUpdate:modelValue":a[10]||(a[10]=j=>e.dialog5=j),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(Q,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(W,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[8]||(a[8]=j=>e.dialog5=!1)})):c("",!0),n(B,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("KODE GROUP")]),_:1}),n(U,null,{default:l(()=>[n(K,{modelValue:e.searched,"onUpdate:modelValue":a[9]||(a[9]=j=>e.searched=j),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(s,null,{default:l(()=>[(r(!0),A(N,null,G(e.filterkodegroup,(j,L)=>(r(),u(be,{key:L},{default:l(()=>[n(i,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:T=>(e.input_kodegroup(j),e.dialog5=!1)},{default:l(()=>[n(D,{class:"text-caption"},{default:l(()=>[d(_(j),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[11]||(a[11]=j=>e.valert=j),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"])]),_:1},8,["modelValue"])}}}),il={class:"d-flex justify-sm-end justify-start"},sl={components:{ScreenDialog2:Ge,VDataTable:z,textField:K,menuList:M,dialogConfirm:oe,BtnFilter:x,datePickerVue:F,BtnCancel:J,BtnOrange:H,alertVue:ne,CircularLoader:Y},props:["cetak","tema","user","window"],data(){return{filter:!1,drawer:null,search:"",periode:[],dialog2:!1,confirmdialog:!1,loading:!0,valert:!1,authority:"",status:null,message:"",pageTitle:"PRODUKSI BARANG",selectCategory:"semua",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_produksi",order:"desc"}],filtered:{periode:[]},items:"",detailbahan:"",head:"",detailbhn:"",detailbrg:"",detailbarang:"",groupbarang:"",getbarang:"",getbahan:"",temp:"",select_kode:[]}},created(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await P.getProduksiHead(this.periode);this.detailbahan=await P.getProDBahan(this.periode),this.detailbarang=await P.getProDBarang(this.periode);let a=_e.items(e,this.detailbahan,this.detailbarang);this.items=_e.noDuplicate(a),this.groupbarang=await P.getGroupBarang(),this.getbarang=await P.getBarang(),this.loading=!1}else return await P.logout()},inputhead(t,e,a){P.postProduksi(t,e,a).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(i=>{this.status=!1,this.valert=!0,this.message=i.response.data})},del(){P.deleteProduksi(this.head,this.detailbhn,this.detailbrg).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e,a){this.confirmdialog=!0,this.head=t,this.detailbrg=e,this.detailbhn=a},selected(){return this.fetchData()},input_kodegroup(t){let e=[],a=[];for(let i=0;i<this.groupbarang.length;i++)this.groupbarang[i].kode_group==t&&e.push(this.groupbarang[i].kode_barang);for(let i=0;i<this.getbarang.length;i++)for(let s=0;s<e.length;s++)this.getbarang[i].kode_barang==e[s]&&a.push(this.getbarang[i]);return this.temp=a,this.select_kode=e},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=_e.headers,i=this.items;b.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[this.tglawal(),b.day()],this.filtered.periode=[this.tglawal(),b.day()],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected()}},mounted(){this.fetchData(),this.page()}},ol=De();Pe(()=>{const t=new Date;ol.value=[t,t]});const rl=Object.assign(sl,{__name:"ProduksiBarang",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-div"),k=o("v-responsive"),y=o("v-row"),f=o("v-sheet"),h=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=v=>e.filter=v),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"","max-date":new Date,modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=v=>e.filtered.periode[0]=v),filter:!0,tema:t.tema},null,8,["max-date","modelValue","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"","min-date":e.filtered.periode[0],modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=v=>e.filtered.periode[1]=v),filter:!0,tema:t.tema},null,8,["min-date","modelValue","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(h,{class:"pt-9 h-100"},{default:l(()=>[n(y,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(k,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[n(g,{class:"d-flex align-center w-100"},{default:l(()=>[p(V).routes(e.authority,"Tambah Produksi Baru")?(r(),u(Ge,{key:0,window:t.window,tema:t.tema,headers:p(_e).headItem,items:e.items,groupbarang:e.groupbarang,getbarang:e.getbarang,onInput_kodegroup:e.input_kodegroup,onInputhead:e.inputhead,select_kode:e.temp},null,8,["window","tema","headers","items","groupbarang","getbarang","onInput_kodegroup","onInputhead","select_kode"])):c("",!0)]),_:1})]),_:1}),n(k,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[$("div",il,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=v=>e.search=v),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[4]||(a[4]=v=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(f,{height:t.window>776?"95%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[5]||(a[5]=v=>e.sortBy=v),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(_e).headers,items:e.items,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 h-100 border-sm rounded-lg",height:t.window>776?"100%":"92%"},{"item.tgl_produksi":l(({item:v})=>[d(_(p(b).formatDate(v.raw.tgl_produksi)),1)]),"item.actions":l(({item:v})=>[n(Ge,{window:t.window,hapus:p(V).routes(e.authority,"Batal Pembelian"),batalbtn:"Produksi",edit:!0,detailbahan:p(_e).bahan(v.raw.no_produksi,e.detailbahan),detailbarang:p(_e).barang(v.raw.no_produksi,e.detailbarang),onConfirm:e.confirm,headItem:p(_e).headItem,item:v.raw,headers:p(_e).headers},null,8,["window","hapus","detailbahan","detailbarang","onConfirm","headItem","item","headers"])]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(oe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[8]||(a[8]=v=>e.confirmdialog=v),object:e.pageTitle},{yesButton:l(()=>[n(H,{onClick:a[6]||(a[6]=v=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(J,{class:"me-2",onClick:a[7]||(a[7]=v=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[9]||(a[9]=v=>e.valert=v),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),ul=["BC25","BC41"],dl=[{title:"menunggu",key:"open"},{title:"selesai",key:"true"}],ml=[{title:"Nomor Pengeluaran",key:"no_penjualan"},{title:"Tanggal Keluar",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Total Penjualan",key:"total_penjualan"},{title:"",key:"actions",sortable:!1}],pl=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],gl={no_penjualan:"",tgl_penjualan:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",kode_pelanggan:"",kode_group:"",total_penjualan:"",tgl_input:b.day(),user_input:"admin",tgl_batal:"",user_batal:"",status:"status"},hl=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let s=0;s<e.length;s++)t[i].kode_pelanggan==e[s].kode_pelanggan&&a.push({no_penjualan:t[i].no_penjualan,tgl_penjualan:t[i].tgl_penjualan,tipe_dokumen:t[i].tipe_dokumen,tgl_dokumen:t[i].tgl_dokumen,no_dokumen:t[i].no_dokumen,nama:e[s].nama,kode_pelanggan:e[s].kode_pelanggan,kode_group:t[i].kode_group,user_input:t[i].user_input,user_batal:"",tgl_input:t[i].tgl_input,tgl_batal:t[i].tgl_batal,total_penjualan:t[i].total_penjualan,status:t[i].status});return a},tt=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.tipe_dokumen)),cl=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].no_penjualan==e&&a.push(t[i]);return a},bl=(t,e,a)=>{let i=tt(t,e);return a.length===0?i:i.filter(s=>a.includes(s.status))},fl=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)for(let s=0;s<t.length;s++)e[i].no_penjualan==t[s].no_penjualan&&a.push({no_penjualan:e[i].no_penjualan,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,hs_code:e[i].hs_code,jumlah:e[i].jumlah,jumlah_terkirim:e[i].jumlah_terkirim,satuan:e[i].satuan,harga_jual:e[i].harga_jual,tipe_dokumen:t[s].tipe_dokumen,no_dokumen:t[s].no_dokumen,tgl_dokumen:t[s].tgl_dokumen,kode_pelanggan:t[s].kode_pelanggan,kode_group:t[s].kode_group,total_penjualan:t[s].total_penjualan});return a},se={tipedokumen:ul,status:dl,headers:ml,headDetails:pl,datainput:gl,items:hl,pilihtipe:tt,penjualan:cl,checkstatus:bl,item_blmterikirim:fl};const _l={components:{dialogScroll:je,VDataTable:z,datePickerVue:F,BtnInfo:le,textFieldForm:C,BtnCancel:J,BtnOrange:H,dialogSearch:Oe,TextField:K,DialogVue:Ve,CurrencyInput:ge},props:["tema","window","hapus","pembelianbaru","namaPelanggan","laporan","groupbarang","barang","batalbtn","penjualan","pemasukan","alamatBongkar","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,dialogkodeg:!1,valid:!1,detaildial:[],arr:[],tipe_dokumen:["BC25","BC41"],searched:"",nama:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:"",inputdata:this.datainput,kurs:"",pemasukan_detail:"",penjualan_detail:[this.penjualan],required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){let t=[];for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return b.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.dataitem,this.penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].jumlah*t[i].harga_jual);return a.reduce((i,s)=>i+s,0)},pilihObjek(t){this.inputdata.kode_pelanggan=t.kode_pelanggan,this.namasupplier=t.nama,this.dialog4=!1},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_penjualan:this.pembelian_input[a].no_penjualan,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_terkirim:this.pembelian_input[a].jumlah_terkirim,satuan:this.pembelian_input[a].satuan,harga_jual:this.pembelian_input[a].harga_jual,total_terjual:this.pembelian_input[a].total_terjual,no_urut:a+1});this.$emit("inputhead",this.inputdata,e)}}},mounted(){}},Ae=Object.assign(_l,{__name:"PengeluaranDetail",setup(t){return(e,a)=>{const i=o("v-icon"),s=o("v-btn"),m=o("v-list-item"),g=o("v-list"),k=o("v-menu"),y=o("v-toolbar-title"),f=o("v-spacer"),h=o("v-toolbar"),v=o("v-responsive"),D=o("v-row"),B=o("v-list-item-title"),I=o("v-form"),q=o("v-container"),w=o("v-span"),U=o("v-if"),S=o("v-card-title"),Q=o("v-card-subtitle"),W=o("v-div"),be=o("v-divider"),O=o("v-card"),j=o("v-for"),L=o("v-dialog");return r(),u(L,{modelValue:e.dialog,"onUpdate:modelValue":a[14]||(a[14]=T=>e.dialog=T),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:T})=>[t.edit?c("",!0):(r(),u(le,Z({key:0,icon:"mdi-plus",btn_title:"Tambah Baru"},T),null,16)),n(k,null,{activator:l(({props:E})=>[t.edit?(r(),u(s,Z({key:0,id:"menu-actions",size:"small",variant:"text",color:"grey-darken-2"},E,{icon:""}),{default:l(()=>[n(i,null,{default:l(()=>[d("mdi-dots-vertical")]),_:1})]),_:2},1040)):c("",!0)]),default:l(()=>[n(g,null,{default:l(()=>[n(m,Z({class:"text-caption",density:"compact"},T),{default:l(()=>[d("Lihat Data")]),_:2},1040),!t.laporan&&t.hapus?(r(),u(m,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=E=>e.confirm())},{default:l(()=>[d("Batal Pengeluaran")]),_:1})):c("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(O,null,{default:l(()=>[n(h,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(s,{icon:"",dark:"",onClick:a[1]||(a[1]=T=>(e.pembelian_input=[],e.dialog=!1)),size:"small"},{default:l(()=>[n(i,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(y,{class:"text-button mt-1"},{default:l(()=>[d(_("DETAIL "+t.pageTitle),1)]),_:1}),n(f)]),_:1}),n(q,{class:"h-100 d-flex flex-column"},{default:l(()=>[t.edit?(r(),u(D,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(v,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Penjualan","model-value":t.items.no_penjualan,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Penjualan","model-value":p(b).formatDate(t.items.tgl_penjualan),readonly:""},null,8,["model-value"])]),_:1}),n(v,{class:"pt-2 mx-3 pt-2",width:"250"},{default:l(()=>[n(C,{label:"Pelanggan","model-value":t.items.nama,readonly:""},null,8,["model-value"]),n(C,{label:"Kode Group","model-value":t.items.kode_group,readonly:""},null,8,["model-value"])]),_:1}),n(v,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Dokumen","model-value":p(b).formatDate(t.items.tgl_dokumen),readonly:""},null,8,["model-value"])]),_:1})]),_:1})):c("",!0),n(I,{onSubmit:a[9]||(a[9]=Be(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[!t.edit&&t.pengeluaran?(r(),u(D,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400"},{default:l(()=>[n(v,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{label:"No Pengeluaran",modelValue:e.inputdata.no_penjualan,"onUpdate:modelValue":a[2]||(a[2]=T=>e.inputdata.no_penjualan=T),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"]),n(F,{label:"Tgl Keluar",modelValue:e.inputdata.tgl_penjualan,"onUpdate:modelValue":a[3]||(a[3]=T=>e.inputdata.tgl_penjualan=T),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1}),n(v,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[t.edit?c("",!0):(r(),u(Oe,{key:0,window:t.window,label:"Pelanggan",objectFilter:t.pelanggan,onPilihObjek:e.pilihObjek,cardTitle:"PELANGGAN","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"])),n(C,{label:"Kode Group",onClick:a[4]||(a[4]=T=>e.dialogkodeg=!0),modelValue:e.inputdata.kode_group,"onUpdate:modelValue":a[5]||(a[5]=T=>e.inputdata.kode_group=T),readonly:"",rules:e.required},null,8,["modelValue","rules"])]),_:1}),n(v,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[6]||(a[6]=T=>e.inputdata.tipe_dokumen=T),rules:e.required,readonly:""},null,8,["modelValue","rules"]),n(k,{activator:"#tipe",class:"elevation-0"},{default:l(()=>[n(g,null,{default:l(()=>[(r(!0),A(N,null,G(e.tipe_dokumen,(T,E)=>(r(),u(m,{key:E,value:E,density:"compact"},{default:l(()=>[n(B,{onClick:ie=>e.inputdata.tipe_dokumen=T,class:"text-caption"},{default:l(()=>[d(_(T),1)]),_:2},1032,["onClick"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),n(C,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[7]||(a[7]=T=>e.inputdata.no_dokumen=T),rules:e.required},null,8,["modelValue","rules"]),n(F,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[8]||(a[8]=T=>e.inputdata.tgl_dokumen=T),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1})]),_:1})):c("",!0)]),_:1},512),t.edit?c("",!0):(r(),u(q,{key:1,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center mb-n5"},{default:l(()=>[n(je,{window:t.window,dialog_title:"Data Barang",onReset:e.reset,pengeluaran:!0,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,btn:t.btn,width:"400"},null,8,["window","onReset","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),n(q,null,{default:l(()=>[n(p(z),{headers:t.headDetails,items:t.edit?t.penjualan:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 mt-2 px-5 border-sm rounded-lg",height:t.edit?"50vh":200},{bottom:l(()=>[t.edit?(r(),u(w,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+_(p(b).numb(p(ae).sum(t.penjualan)))+" / Total harga: "+_(p(b).numb(e.jumlahtotal(t.penjualan,"nilai"),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),u(w,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+_(p(b).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total harga: "+_(p(b).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.jumlah":l(({item:T})=>[d(_(p(b).numb(T.raw.jumlah)),1)]),"item.jumlah_terkirim":l(({item:T})=>[d(_(p(b).numb(T.raw.jumlah_terkirim)),1)]),"item.harga_jual":l(({item:T})=>[d(_(p(b).numb(T.raw.harga_jual,2,!0)),1)]),"item.total_terjual":l(({item:T,index:E})=>[t.edit?(r(),u(U,{key:0},{default:l(()=>[d(_(p(b).numb(T.raw.jumlah*T.raw.harga_jual,2,!0)),1)]),_:2},1024)):c("",!0),t.edit?c("",!0):(r(),u(U,{key:1},{default:l(()=>[d(_(p(b).numb(e.pembelian_input[E].jumlah*e.pembelian_input[E].harga_jual,2,!0)),1)]),_:2},1024))]),"item.tipe_dokumen":l(()=>[d(_(t.dokumenpjl.tipe_dokumen),1)]),"item.no_dokumen":l(()=>[d(_(t.dokumenpjl.no_dokumen),1)]),"item.actions":l(({item:T,index:E})=>[n(Ve,{modelValue:e.detaildial[E],"onUpdate:modelValue":ie=>e.detaildial[E]=ie},{titlecard:l(()=>[n(S,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(_(T.raw.nama_barang),1)]),_:2},1024),n(Q,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(_(T.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(W,{class:"mx-auto mt-5 w-75"},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Jumlah","model-value":p(b).numb(T.raw.jumlah),active:"true",readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(ge,{key:1,label:"Jumlah",modelValue:e.pembelian_input[E].jumlah,"onUpdate:modelValue":ie=>e.pembelian_input[E].jumlah=ie,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:2,label:"Harga","model-value":p(b).numb(T.raw.harga_jual,2,!0),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(ge,{key:3,label:"Harga",modelValue:e.pembelian_input[E].harga_jual,"onUpdate:modelValue":ie=>e.pembelian_input[E].harga_jual=ie,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),n(C,{label:"Total Harga","model-value":t.edit?p(b).numb(T.raw.harga_jual*T.raw.jumlah):e.pembelian_input[E].harga_jual*e.pembelian_input[E].jumlah,readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])]),_:2},1024),n(be,{class:"mb-5"}),t.edit?c("",!0):(r(),u(W,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(J,{btn_title:"Hapus",onClick:ie=>(e.deleteditem(T.raw),e.detaildial[E]=!1),hidden:t.disable,class:"me-2"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick","hidden"]),n(H,{btn_title:"Simpan",hidden:t.disable,onClick:ie=>e.detaildial[E]=!1},{default:l(()=>[d("Simpan")]),_:2},1032,["hidden","onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),n(W,{class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[t.edit?c("",!0):(r(),u(J,{key:0,onClick:a[10]||(a[10]=T=>e.dialog=!1),btn_title:"Batal",class:"mb-3"})),t.edit?c("",!0):(r(),u(H,{key:1,onClick:e.validate,hidden:t.disable,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick","hidden"]))]),_:1})]),_:1})]),_:1}),n(L,{modelValue:e.dialogkodeg,"onUpdate:modelValue":a[13]||(a[13]=T=>e.dialogkodeg=T),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(O,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(s,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[11]||(a[11]=T=>e.dialogkodeg=!1)})):c("",!0),n(S,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("KODE GROUP")]),_:1}),n(W,null,{default:l(()=>[n(K,{modelValue:e.searched,"onUpdate:modelValue":a[12]||(a[12]=T=>e.searched=T),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(g,null,{default:l(()=>[(r(!0),A(N,null,G(e.filterkodegroup.slice(0,20),(T,E)=>(r(),u(j,{key:E},{default:l(()=>[n(m,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:ie=>(e.inputdata.kode_group=T,e.dialogkodeg=!1)},{default:l(()=>[d(_(T),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),kl={class:"d-flex align-center w-100"},vl={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},yl={components:{dialogConfirm:oe,PengeluaranDetail:Ae,VDataTable:z,filterDrawer:ee,textField:K,menuList:M,checkBox:re,BtnFilter:x,DatePicker:F,BtnCancel:J,BtnOrange:H,AlertVue:ne,CircularLoader:Y},props:["cetak","tema","user","window"],data(){return{filter:!1,search:"",periode:"",checkStatus:[],datapelanggan:"",dialog2:!1,confirmdialog:!1,loading:!0,authority:"",status:null,valert:!1,message:"",pageTitle:"PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_penjualan",order:"desc"}],filtered:{selectdokumen:[],periode:[],status:[]},penjualan_head:"",penjualan_detail:"",head:"",detail:"",groupbarang:"",barang:""}},created(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await P.getPenjualanHead(this.periode);this.datapelanggan=await P.getPelanggan(),this.penjualan_head=se.items(e,this.datapelanggan),this.penjualan_detail=await P.getPenjualanDetail(this.periode),this.groupbarang=await P.getGroupBarang(),this.barang=await P.getBarang(),this.loading=!1}else return await P.logout()},close(t){return this.filter=t},inputhead(t,e){P.postPengeluaran(t,e).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){P.deletePengeluaran(this.head,this.detail).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=se.headers,i=this.penjualan_head;b.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()],this.filtered.selectdokumen=[],this.filtered.status=[],b.day(),this.selectdokumen=[],this.checkStatus=[],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.checkStatus=this.filtered.status,this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.selected()}},wl=De();Pe(()=>{const t=new Date;wl.value=[t,t]});const jl=Object.assign(yl,{__name:"PengeluaranBarang",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-responsive"),k=o("v-row"),y=o("v-sheet"),f=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[4]||(a[4]=h=>e.filter=h),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,null,{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.periode[0]=h),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=h=>e.filtered.periode[1]=h),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(p(se).tipedokumen,(h,v)=>(r(),u(re,{key:v,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=D=>e.filtered.selectdokumen=D),label:h,value:h},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Status")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(p(se).status,(h,v)=>(r(),u(re,{key:v,modelValue:e.filtered.status,"onUpdate:modelValue":a[3]||(a[3]=D=>e.filtered.status=D),label:h.title,value:h.key},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(f,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(g,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[$("div",kl,[p(V).routes(e.authority,"Tambah Penjualan Baru")?(r(),u(Ae,{key:0,window:t.window,tema:t.tema,batalbtn:"Pengeluaran",datainput:p(se).datainput,pengeluaran:!0,groupbarang:e.groupbarang,pelanggan:e.datapelanggan,datatext:e.datatext,pageTitle:e.pageTitle,btn:e.btn,headDetails:p(se).headDetails,headers:p(se).headers,items:p(se).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),barang:e.barang,search:e.search,category:e.category,selectCategory:e.selectCategory,alpha:e.alpha,onInputhead:e.inputhead},null,8,["window","tema","datainput","groupbarang","pelanggan","datatext","pageTitle","btn","headDetails","headers","items","barang","search","category","selectCategory","alpha","onInputhead"])):c("",!0)])]),_:1}),n(g,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[$("div",vl,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[5]||(a[5]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[6]||(a[6]=h=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(y,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[7]||(a[7]=h=>e.sortBy=h),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(se).headers,items:p(se).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.total_penjualan":l(({item:h})=>[d(_(p(b).numb(h.raw.total_penjualan,2,!0)),1)]),"item.tgl_penjualan":l(({item:h})=>[d(_(p(b).formatDate(h.raw.tgl_penjualan)),1)]),"item.actions":l(({item:h})=>[n(Ae,{window:t.window,hapus:p(V).routes(e.authority,"Batal Penjualan"),onConfirm:e.confirm,batalbtn:"Pengeluaran",namaPelanggan:p(Te).namaPelanggan(p(Te),h.raw.kode_pelanggan),penjualan:p(se).penjualan(e.penjualan_detail,h.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:p(se).headDetails,items:h.raw,headers:p(se).headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","hapus","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","headers","search","category","selectCategory"])]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(oe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[10]||(a[10]=h=>e.confirmdialog=h),object:e.pageTitle},{yesButton:l(()=>[n(H,{class:"ms-2",onClick:a[8]||(a[8]=h=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(J,{onClick:a[9]||(a[9]=h=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[11]||(a[11]=h=>e.valert=h),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Vl=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"",key:"actions",sortable:!1}],Dl=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"Kode Group",key:"kode_group"},{title:"Nama Barang",key:"nama_barang"},{title:"Hs Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],Pl=[{title:"No Penjualan",key:"no_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"Qty",key:"jumlah_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"",key:"actions",sortable:!1}],Tl={no_pengiriman:"",tgl_pengiriman:"",kode_pelanggan:"",kode_alamat_bongkar:"",supir:"",no_polisi:"",user_input:"",tgl_input:"",tgl_batal:"",user_batal:"",status:""},Le=(t,e,a)=>{let i=[];for(let s=0;s<e.length;s++)e[s].no_pengiriman==t&&(a=="nama"?i.push(e[s].nama_barang):i=e[s]);return a=="nama"?i.toString():i},Bl=(t,e,a,i,s)=>{let m=[];for(let g=0;g<t.length;g++)for(let k=0;k<e.length;k++)for(let y=0;y<a.length;y++)t[g].kode_pelanggan==e[k].kode_pelanggan&&t[g].kode_alamat_bongkar==a[y].kode_pelanggan&&m.push({no_pengiriman:t[g].no_pengiriman,tgl_pengiriman:t[g].tgl_pengiriman,kode_pelanggan:t[k].kode_pelanggan,kode_alamat_bongkar:t[k].kode_alamat_bongkar,alamat:a[y].alamat,kabupaten:a[y].kabupaten,supir:t[g].supir,no_polisi:t[g].no_polisi,user_input:t[g].user_input,user_batal:t[g].user_batal,tgl_input:t[g].tgl_input,tgl_batal:t[g].tgl_batal,nama:a[y].nama,namaplg:e[k].nama,kode_barang:Le(t[g].no_pengiriman,i).kode_barang,kode_group:Le(t[g].no_pengiriman,i).kode_group,hs_code:Le(t[g].no_pengiriman,i).hs_code,satuan:Le(t[g].no_pengiriman,i).satuan,nama_barang:Le(t[g].no_pengiriman,i,"nama")});return m},Ul=(t,e,a)=>{let i=[];for(let s=0;s<e.length;s++)for(let m=0;m<a.length;m++)e[s].no_pengiriman==t&&e[s].no_penjualan==a[m].no_penjualan&&i.push({no_penjualan:e[s].no_penjualan,tipe_dokumen:a[m].tipe_dokumen,no_dokumen:a[m].no_dokumen,kode_group:e[s].kode_group,kode_barang:e[s].kode_barang,nama_barang:e[s].nama_barang,hs_code:e[s].hs_code,jumlah:e[s].jumlah,satuan:e[s].satuan});return i},pe={headers:Vl,headDetails:Pl,datainput:Tl,headersLaporan:Dl,items:Bl,details:Ul};const Sl=$("br",null,null,-1),Cl={components:{dialogScroll:je,VDataTable:z,datePickerVue:F,btnInfoVue:le,BtnOrange:H,BtnCancel:J,TextFieldForm:C,TextField:K,DialogVue:Ve,CurrencyInput:ge},props:["tema","window","hapus","pjl_blmterkirm","pembelianbaru","namaPelanggan","detailkirim","nokirim","nopjl","pjl_detail","alamatBongkar","groupbarang","batalbtn","pengiriman","pemasukan","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","no","tipe","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog4:!1,dialogbongkar:!1,valid:!1,detaildial:[],tipe_dokumen:["BC25","BC41"],searched:"",barang:"",belumkirim:"",belumkirim_detail:"",kirim_detail:"",item_blmterkirim:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",pembelian_input:[],kode_pelanggan:this.namaPelanggan,inputdata:this.datainput,kurs:"",required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{async fetchData(){if(this.belumkirim=await P.getBelumTerkirim(),this.belumkirim_detail=await P.getBelumTerkirimDetail(),this.edit){let t=[];for(let a=0;a<this.nopjl.length;a++)t.push(await P.getHeadPenjualan(this.nopjl[a]));let e=[];for(let a=0;a<this.pjl_detail.length;a++)for(let i=0;i<t.length;i++)this.pjl_detail[a].no_penjualan==t[i][0].no_penjualan&&e.push({no_penjualan:this.pjl_detail[a].no_penjualan,tipe_dokumen:t[i][0].tipe_dokumen,no_dokumen:t[i][0].no_dokumen,kode_group:this.pjl_detail[a].kode_group,kode_barang:this.pjl_detail[a].kode_barang,nama_barang:this.pjl_detail[a].nama_barang,hs_code:this.pjl_detail[a].hs_code,jumlah:this.pjl_detail[a].jumlah,satuan:this.pjl_detail[a].satuan,no_urut:this.pjl_detail[a].no_urut,nilai:this.pjl_detail[a].nilai});this.kirim_detail=e}},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.dataitem,this.kirim_detail)},totalharga(t){if(this.dataitem.no_penjualan==t)return b.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t){let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_penjualan:this.pembelian_input[a].no_penjualan,no_pengiriman:this.pembelian_input[a].no_pengiriman,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,kode_group:this.pembelian_input[a].kode_group,tipe_dokumen:this.pembelian_input[a].tipe_dokumen,no_dokumen:this.pembelian_input[a].no_dokumen,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_konversi:this.pembelian_input[a].jumlah_konversi,satuan_konversi:this.pembelian_input[a].satuan_konversi,satuan:this.pembelian_input[a].satuan,no_urut:a+1,nilai:this.pembelian_input[a].nilai});this.$emit("inputhead",this.inputdata,e)}}},mounted(){this.fetchData()}},Ne=Object.assign(Cl,{__name:"PengirimanDetail",setup(t){return(e,a)=>{const i=o("v-list-item"),s=o("v-icon"),m=o("v-btn"),g=o("v-toolbar-title"),k=o("v-spacer"),y=o("v-toolbar"),f=o("v-responsive"),h=o("v-row"),v=o("v-form"),D=o("v-container"),B=o("v-span"),I=o("v-card-title"),q=o("v-card-subtitle"),w=o("v-sheet"),U=o("v-divider"),S=o("v-div"),Q=o("v-card"),W=o("v-for"),be=o("v-list"),O=o("v-dialog");return r(),u(O,{modelValue:e.dialog,"onUpdate:modelValue":a[19]||(a[19]=j=>e.dialog=j),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:j})=>[t.edit?c("",!0):(r(),u(le,Z({key:0},j,{btn_title:"Tambah Baru",icon:"mdi-plus"}),null,16)),t.edit?(r(),u(i,Z({key:1},j,{class:"text-caption"}),{default:l(()=>[d(" Lihat Detail ")]),_:2},1040)):c("",!0),t.edit&&t.hapus?(r(),u(i,{key:2,class:"text-caption",onClick:a[0]||(a[0]=L=>e.confirm())},{default:l(()=>[d(" Batal Pengiriman ")]),_:1})):c("",!0)]),default:l(()=>[n(Q,null,{default:l(()=>[n(y,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(m,{icon:"",dark:"",onClick:a[1]||(a[1]=j=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1)),size:"small"},{default:l(()=>[n(s,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(g,{class:"text-button mt-1"},{default:l(()=>[d(_("DETAIL "+t.pageTitle),1)]),_:1}),n(k)]),_:1}),n(D,{class:"h-100 d-flex flex-column"},{default:l(()=>[t.edit?(r(),u(h,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(f,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Pengiriman",modelValue:e.dataitem.no_pengiriman,"onUpdate:modelValue":a[2]||(a[2]=j=>e.dataitem.no_pengiriman=j),readonly:""},null,8,["modelValue"]),n(C,{label:"Tgl Pengiriman","model-value":p(b).formatDate(e.dataitem.tgl_pengiriman),readonly:""},null,8,["model-value"])]),_:1}),n(f,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Pelanggan","model-value":e.dataitem.kode_pelanggan,readonly:""},null,8,["model-value"]),n(C,{label:"Tujuan Bongkar","model-value":e.dataitem.nama,readonly:""},null,8,["model-value"])]),_:1}),n(f,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Supir","model-value":e.dataitem.supir,readonly:""},null,8,["model-value"]),n(C,{label:"No Polisi","model-value":e.dataitem.no_polisi,readonly:""},null,8,["model-value"])]),_:1})]),_:1})):c("",!0),n(v,{onSubmit:a[11]||(a[11]=Be(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[t.edit?c("",!0):(r(),u(h,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between"},{default:l(()=>[n(f,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{label:"No Pengiriman",modelValue:e.inputdata.no_pengiriman,"onUpdate:modelValue":a[3]||(a[3]=j=>e.inputdata.no_pengiriman=j)},null,8,["modelValue"]),n(F,{label:"Tgl Pengiriman",modelValue:e.inputdata.tgl_pengiriman,"onUpdate:modelValue":a[4]||(a[4]=j=>e.inputdata.tgl_pengiriman=j),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1}),n(f,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n(C,{onClick:a[5]||(a[5]=j=>e.dialog4=!0),label:"Pelanggan",modelValue:e.inputdata.nama,"onUpdate:modelValue":a[6]||(a[6]=j=>e.inputdata.nama=j),rules:e.required,readonly:""},null,8,["modelValue","rules"]),n(C,{onClick:a[7]||(a[7]=j=>e.dialogbongkar=!0),label:"Tujuan Bongkar",modelValue:e.inputdata.tujuan,"onUpdate:modelValue":a[8]||(a[8]=j=>e.inputdata.tujuan=j),rules:e.required,readonly:""},null,8,["modelValue","rules"])]),_:1}),n(f,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Supir",modelValue:e.inputdata.supir,"onUpdate:modelValue":a[9]||(a[9]=j=>e.inputdata.supir=j),rules:e.required},null,8,["modelValue","rules"]),n(C,{label:"No Polisi",modelValue:e.inputdata.no_polisi,"onUpdate:modelValue":a[10]||(a[10]=j=>e.inputdata.no_polisi=j),rules:e.required},null,8,["modelValue","rules"])]),_:1})]),_:1}))]),_:1},512),t.edit?c("",!0):(r(),u(D,{key:1,class:"text-sm-left text-center mt-n5 mb-n5"},{default:l(()=>[n(je,{window:t.window,dialog_title:"pengeluaran belum terkirim",onReset:e.reset,nokirim:e.inputdata.no_pengiriman,blmkirim:!0,pjl_blmterkirm:t.pjl_blmterkirm,belumkirim:e.belumkirim,belumkirim_detail:e.belumkirim_detail,barang:e.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pengiriman:!0,penjualan:e.penjualan,btn:t.btn,width:"400"},null,8,["window","onReset","nokirim","pjl_blmterkirm","belumkirim","belumkirim_detail","barang","itemDetail","onPemasukanitem","penjualan","btn"])]),_:1})),n(D,null,{default:l(()=>[n(p(z),{headers:t.headDetails,items:t.edit?e.kirim_detail:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 rounded-lg border-sm mt-2",height:t.edit&&t.window>776?"60vh":250},{bottom:l(()=>[t.edit?(r(),u(B,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+_(p(b).numb(e.jumlahtotal(e.kirim_detail),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(r(),u(B,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+_(p(b).numb(e.jumlahtotal(e.pembelian_input))),1)]),_:1}))]),"item.jumlah":l(({item:j})=>[d(_(p(b).numb(j.raw.jumlah,null,!1)),1)]),"item.actions":l(({item:j,index:L})=>[n(Ve,{modelValue:e.detaildial[L],"onUpdate:modelValue":T=>e.detaildial[L]=T},{titlecard:l(()=>[n(I,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(_(j.raw.nama_barang),1)]),_:2},1024),n(q,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(_(j.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(w,{class:"mx-auto mt-5 w-75"},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Jumlah (Tonase)","model-value":p(b).numb(j.raw.jumlah,null,!1),active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(ge,{key:1,label:"Jumlah (Tonase)",modelValue:e.pembelian_input[L].jumlah,"onUpdate:modelValue":T=>e.pembelian_input[L].jumlah=T,active:"true",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:2,label:"Qty","model-value":j.raw.jumlah_konversi,active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(C,{key:3,type:"number",label:"Qty",modelValue:e.pembelian_input[L].jumlah_konversi,"onUpdate:modelValue":T=>e.pembelian_input[L].jumlah_konversi=T,active:"true",class:"mb-3"},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:4,label:"Satuan Konversi","model-value":j.raw.satuan_konversi,active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(r(),u(C,{key:5,label:"Satuan Konversi",modelValue:e.pembelian_input[L].satuan_konversi,"onUpdate:modelValue":T=>e.pembelian_input[L].satuan_konversi=T,active:"true",class:"mb-3"},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(U,{class:"mt-3 mb-5"}),t.edit?c("",!0):(r(),u(S,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(J,{btn_title:"Hapus",onClick:T=>(e.deleteditem(j.raw),e.detaildial[L]=!1),class:"me-2"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick"]),n(H,{btn_title:"Simpan",onClick:T=>e.detaildial[L]=!1},{default:l(()=>[d("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),t.edit?c("",!0):(r(),u(S,{key:2,class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[n(J,{onClick:a[12]||(a[12]=j=>(e.pembelian_input=[],e.inputdata=[],e.dialog=!1)),btn_title:"Batal",class:"mb-3"}),n(H,{onClick:e.validate,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick"])]),_:1}))]),_:1})]),_:1}),n(O,{modelValue:e.dialog4,"onUpdate:modelValue":a[15]||(a[15]=j=>e.dialog4=j),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(Q,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[n(S,null,{default:l(()=>[t.window<500?(r(),u(m,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[13]||(a[13]=j=>e.dialog4=!1)})):c("",!0),n(I,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("PELANGGAN")]),_:1}),n(K,{modelValue:e.searched,"onUpdate:modelValue":a[14]||(a[14]=j=>e.searched=j),label:"Search"},null,8,["modelValue"])]),_:1}),n(be,null,{default:l(()=>[(r(!0),A(N,null,G(e.filtersupplier,(j,L)=>(r(),u(W,{key:L},{default:l(()=>[n(i,{density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:T=>(e.inputdata.kode_pelanggan=j.kode_pelanggan,e.inputdata.nama=j.nama,e.dialog4=!1)},{default:l(()=>[d(_(j.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(O,{modelValue:e.dialogbongkar,"onUpdate:modelValue":a[18]||(a[18]=j=>e.dialogbongkar=j),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(Q,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(m,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[16]||(a[16]=j=>e.dialogbongkar=!1)})):c("",!0),n(I,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("ALAMAT BONGKAR")]),_:1}),n(S,null,{default:l(()=>[n(K,{modelValue:e.searched,"onUpdate:modelValue":a[17]||(a[17]=j=>e.searched=j),label:"Search"},null,8,["modelValue"])]),_:1}),n(be,{class:"my-4"},{default:l(()=>[n(S,{class:"vh-100"},{default:l(()=>[(r(!0),A(N,null,G(e.filteralamat.slice(0,15),(j,L)=>(r(),u(i,{key:L,density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:T=>(e.inputdata.kode_alamat_bongkar=j.kode_pelanggan,e.inputdata.tujuan=j.nama,e.dialogbongkar=!1)},{default:l(()=>[n(B,{class:"font-weight-medium"},{default:l(()=>[d(_(j.nama),1)]),_:2},1024),d(),Sl,n(B,{class:"text-small"},{default:l(()=>[d(_(j.alamat)+" - "+_(j.kabupaten),1)]),_:2},1024),n(U)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}});const Ue=t=>(Qe("data-v-f4b8c91d"),t=t(),We(),t),$l=Ue(()=>$("br",null,null,-1)),Ll=Ue(()=>$("br",null,null,-1)),Al=Ue(()=>$("thead",null,[$("tr",null,[$("th",{class:"text-left bg-white"},"No"),$("th",{class:"text-left bg-white"},"Nama Barang"),$("th",{class:"text-left bg-white"},"Qty"),$("th",{class:"text-left bg-white"},"Satuan"),$("th",{class:"text-left bg-white"},"Berat (KG)"),$("th",{class:"text-left bg-white"},"Keterangan(Ex.BC)")])],-1)),Nl={class:"text-body-2"},Rl={class:"text-left"},Ol={class:"text-left"},Il={class:"text-left",contenteditable:""},El={class:"text-left",contenteditable:""},Jl={class:"text-left"},Hl={class:"text-left"},Fl=Ue(()=>$("td",null,null,-1)),Kl=Ue(()=>$("td",null,null,-1)),Gl=Ue(()=>$("td",null,null,-1)),ql=Ue(()=>$("td",null,null,-1)),Ml={class:"text-left font-weight-bold"},zl={props:["items","namaTujuan","pengiriman","alamatPelanggan","nokirim","pjl_detail","nopjl"],data(){return{jalan:!1,kirim:this.pengiriman,detailpengiriman:"",penjualanHead:""}},computed:{kirim_detail(){let t=[];for(let e=0;e<this.pjl_detail.length;e++)for(let a=0;a<this.penjualanHead.length;a++)this.pjl_detail[e].no_penjualan==this.penjualanHead[a][0].no_penjualan&&t.push({no_penjualan:this.pjl_detail[e].no_penjualan,tipe_dokumen:this.penjualanHead[a][0].tipe_dokumen,no_dokumen:this.penjualanHead[a][0].no_dokumen,kode_group:this.pjl_detail[e].kode_group,kode_barang:this.pjl_detail[e].kode_barang,nama_barang:this.pjl_detail[e].nama_barang,hs_code:this.pjl_detail[e].hs_code,jumlah:this.pjl_detail[e].jumlah,satuan:this.pjl_detail[e].satuan,jumlah_konversi:this.pjl_detail[e].jumlah_konversi,satuan_konversi:this.pjl_detail[e].satuan_konversi});return t}},methods:{async fetchData(){let t=[];for(let e=0;e<this.nopjl.length;e++)t.push(await P.getHeadPenjualan(this.nopjl[e]));this.penjualanHead=t},getTime(){return new Date().toLocaleTimeString("id",{timeStyle:"short"})},uppercase(t){return t.toUpperCase()},print(){window.print()},sum(){let t=[];for(let e=0;e<this.kirim_detail.length;e++)t.push(this.kirim_detail[e].jumlah);return t.reduce((e,a)=>e+a,0)}},mounted(){this.fetchData()}},Yl=Object.assign(zl,{__name:"SuratJalan",setup(t){return(e,a)=>{const i=o("v-list-item"),s=o("v-icon"),m=o("v-btn"),g=o("v-span"),k=o("v-spacer"),y=o("v-toolbar"),f=o("v-divider"),h=o("v-div"),v=o("v-table"),D=o("v-text"),B=o("v-sheet"),I=o("v-card"),q=o("v-dialog");return r(),u(q,{modelValue:e.jalan,"onUpdate:modelValue":a[2]||(a[2]=w=>e.jalan=w),fullscreen:"",scrim:!1},{activator:l(({props:w})=>[n(i,Z({class:"text-caption"},w),{default:l(()=>[d("Cetak Surat Jalan")]),_:2},1040)]),default:l(()=>[n(y,{class:"bg-blue-custom",height:"50"},{default:l(()=>[n(m,{icon:"",onClick:a[0]||(a[0]=w=>e.jalan=!1),size:"small",class:"text-white"},{default:l(()=>[n(s,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(g,{class:"text-button mt-1 text-white"},{default:l(()=>[d("cetak surat jalan")]),_:1}),n(k),n(m,{icon:"",class:"text-white",onClick:a[1]||(a[1]=w=>e.print())},{default:l(()=>[n(s,null,{default:l(()=>[d("mdi-printer")]),_:1})]),_:1})]),_:1}),n(I,{id:"suratjalan"},{default:l(()=>[n(B,{class:"mx-auto text-center py-3 px-7 page"},{default:l(()=>[n(g,{class:"text-h6 font-weight-bold"},{default:l(()=>[d("PT. AURI STEEL METALINDO")]),_:1}),n(f,{thickness:"3",color:"black",class:"border-opacity-100 mt-3 mb-1"}),n(g,{class:"text-h6 font-weight-bold"},{default:l(()=>[d("SURAT JALAN")]),_:1}),n(h,{class:"d-flex mt-3"},{default:l(()=>[n(h,{class:"d-flex text-body-2"},{default:l(()=>[n(g,{class:"me-2"},{default:l(()=>[d("PENERIMA :")]),_:1}),n(g,{class:"text-start"},{default:l(()=>[d(_(e.uppercase(t.items.nama))+" ",1),$l,d(" "+_(e.uppercase(t.items.alamat))+" ",1),Ll,d(" "+_(e.uppercase(t.items.kabupaten)),1)]),_:1})]),_:1}),n(k),n(h,{class:"d-flex text-body-2"},{default:l(()=>[n(h,{class:"d-flex flex-column"},{default:l(()=>[n(g,{class:"me-2 text-start"},{default:l(()=>[d("No Surat Jalan")]),_:1}),n(g,{class:"me-2 text-start"},{default:l(()=>[d("Tgl Pengiriman")]),_:1}),n(g,{class:"me-2 text-start"},{default:l(()=>[d("Supir/No Polisi")]),_:1})]),_:1}),n(h,{class:"d-flex flex-column"},{default:l(()=>[n(g,{class:"text-start",contenteditable:""},{default:l(()=>[d(": "+_(t.items.no_pengiriman),1)]),_:1}),n(g,{class:"text-start"},{default:l(()=>[d(": "+_(p(b).formatDate(t.items.tgl_pengiriman))+" ",1),n(g,{contenteditable:""},{default:l(()=>[d("/ "+_(e.getTime()),1)]),_:1})]),_:1}),n(g,{class:"text-start"},{default:l(()=>[d(": "+_(t.items.supir)+"/"+_(t.items.no_polisi),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(v,{density:"compact",class:"text-body-2 mt-2"},{default:l(()=>[Al,$("tbody",Nl,[(r(!0),A(N,null,G(e.kirim_detail,(w,U)=>(r(),A("tr",{key:U},[$("td",Rl,_(U+1),1),$("td",Ol,_(w.nama_barang),1),$("td",Il,_(w.jumlah_konversi),1),$("td",El,_(w.satuan_konversi),1),$("td",Jl,_(p(b).numb(w.jumlah,null,!1)),1),$("td",Hl,_(e.kirim_detail[U].no_dokumen)+"/"+_(e.kirim_detail[U].tipe_dokumen.slice(2)),1)]))),128)),$("tr",null,[Fl,Kl,Gl,ql,$("td",Ml,_(p(b).numb(e.sum(),2,!0)),1)])])]),_:1}),n(h,{class:"d-flex flex-column align-start justify-space-between text-body-2"},{default:l(()=>[n(D,{class:"d-flex flex-column align-start"},{default:l(()=>[d(" Keterangan "),n(g,{class:"ms-3"},{default:l(()=>[d("1. Surat Jalan ini merupakan bukti penerimaan barang")]),_:1}),n(g,{class:"ms-3"},{default:l(()=>[d("2. Surat Jalan ini bukan bukti penjualan (Faktur/Invoice)")]),_:1}),d(" Barang sudah diterima dalam keadaan Baik dan Cukup oleh : ")]),_:1}),n(h,{class:"d-flex justify-space-between w-100 mt-15"},{default:l(()=>[n(h,null,{default:l(()=>[d("(Penerima)")]),_:1}),n(h,null,{default:l(()=>[d("(Supir)")]),_:1}),n(h,null,{default:l(()=>[d("(Bag. Gudang)")]),_:1}),n(h,null,{default:l(()=>[d("(Bag. Exim)")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Me=X(Yl,[["__scopeId","data-v-f4b8c91d"]]),Ql={class:"d-flex align-center w-100"},Wl={class:"d-flex align-center justify-sm-end justify-start"},Xl={components:{SuratJalan:Me,dialogConfirm:oe,PengirimanDetail:Ne,VDataTable:z,filterDrawer:ee,textField:K,menuList:M,BtnFilter:x,DatePicker:F,TextButton:te,AlertVue:ne,BtnOrange:H,BtnCancel:J,CircularLoader:Y},props:["cetak","tema","user","window"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"PENGIRIMAN BARANG",selectCategory:"",btn:"Tambah Barang",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",penjualanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:""}},created(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await P.getPengirimanHead(this.periode);this.alamatBongkar=await P.alamatBongkar(),this.pelanggan=await P.getPelanggan(),this.kirim_detail=await P.getPengirimanDetail(this.periode),this.penjualanHead=await P.getPenjualanHead(this.periode);let a=await P.getBelumTerkirim(),i=await P.getBelumTerkirimDetail();this.pjl_blmterkirm=se.item_blmterikirim(a,i),this.pengirimanHead=pe.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail),this.loading=!1}else return await P.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=pe.headers,i=this.pengirimanHead;b.print(t,e,a,i)},reset(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected()},inputhead(t,e){P.postPengiriman(t,e).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){P.deletePengiriman(this.head,this.detail).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},Zl=De();Pe(()=>{const t=new Date;Zl.value=[t,t]});const xl=Object.assign(Xl,{__name:"PengirimanBarang",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-responsive"),k=o("v-row"),y=o("v-list-item"),f=o("v-list"),h=o("v-menu"),v=o("v-sheet"),D=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=B=>e.filter=B),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=B=>e.filtered.periode[0]=B),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=B=>e.filtered.periode[1]=B),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(D,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(g,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[$("div",Ql,[p(V).routes(e.authority,"Tambah Pengiriman Baru")?(r(),u(Ne,{key:0,tema:t.tema,window:t.window,pjl_blmterkirm:e.pjl_blmterkirm,onInputhead:e.inputhead,alamatBongkar:e.alamatBongkar,kirim:!0,supplier:e.pelanggan,datainput:p(pe).datainput,pageTitle:e.pageTitle,headDetails:p(pe).headDetails,details:e.items,headers:p(pe).headers,items:e.items,search:e.search,category:p(de).category,selectCategory:e.selectCategory,datatext:e.datatext},null,8,["tema","window","pjl_blmterkirm","onInputhead","alamatBongkar","supplier","datainput","pageTitle","headDetails","details","headers","items","search","category","selectCategory","datatext"])):c("",!0)])]),_:1}),n(g,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",Wl,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=B=>e.search=B),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[4]||(a[4]=B=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(v,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[5]||(a[5]=B=>e.sortBy=B),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(pe).headers,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pengiriman":l(({item:B})=>[d(_(p(b).formatDate(B.raw.tgl_pengiriman)),1)]),"item.actions":l(({item:B})=>[n(h,{transition:"slide-y-transition"},{activator:l(({props:I})=>[n(te,Z(I,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(f,{density:"compact",class:"px-3"},{default:l(()=>[n(y,{class:"pa-0"},{default:l(()=>[n(Ne,{window:t.window,hapus:p(V).routes(e.authority,"Batal Pengiriman"),batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(B.raw.no_pengiriman),nokirim:B.raw.no_pengiriman,nopjl:e.Penjualandetl(B.raw.no_pengiriman),pjl_detail:e.pjl_detail(B.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:p(pe).headDetails,headers:p(pe).headers,items:B.raw,disable:!0},null,8,["window","hapus","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items"])]),_:2},1024),p(V).routes(e.authority,"Cetak Surat Jalan")?(r(),u(Me,{key:0,pengiriman:e.Penjualandetl(B.raw.no_pengiriman),items:B.raw,nokirim:B.raw.no_pengiriman,nopjl:e.Penjualandetl(B.raw.no_pengiriman),pjl_detail:e.pjl_detail(B.raw.no_pengiriman)},null,8,["pengiriman","items","nokirim","nopjl","pjl_detail"])):c("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(oe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[8]||(a[8]=B=>e.confirmdialog=B),object:e.pageTitle},{yesButton:l(()=>[n(H,{class:"ms-2",onClick:a[6]||(a[6]=B=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(J,{onClick:a[7]||(a[7]=B=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[9]||(a[9]=B=>e.valert=B),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),ei={class:"d-flex"},ti={components:{TableVue:he,filterDrawer:ee,checkBox:re,menuList:M,textField:K,BtnFilter:x,CircularLoader:Y},props:["page","cetak","window"],data(){return{drawer:null,search:"",searched:"",group_barang:[],kode_barang:[],filter:!1,dialoggb:!1,loading:!0,pageTitle:"LAPORAN STOK BARANG",selectCategory:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",authority:"",items:"",logbrg:"",databarang:"",filtered:{kategori_barang:[],group_barang:[],kode_barang:[]}}},computed:{selected(){if(this.selectCategory.length===0)return ke.stokBarang(this.databarang,this.items);{let t=[],e=ke.stokBarang(this.databarang,this.items).filter(a=>this.selectCategory.includes(a.kategori_barang));for(let a=0;a<e.length;a++)t.push(e[a].kode_barang);return ke.stokBarang(this.databarang,this.items).filter(a=>t.includes(a.kode_barang))}},filter_kodebarang(){let t=ke.noDuplicate(this.selected);return this.kode_barang.length===0?t:t.filter(e=>this.kode_barang.includes(e.kode_barang))},dataItem(){let t=this.filter_kodebarang;return this.group_barang.length===0?t:t.filter(a=>this.group_barang.includes(a.kode_group))},kodeGroup(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].kode_group);return b.removeDuplicate(t)}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await P.getGroupBarang(),this.databarang=await P.getBarang(),this.logbrg=await P.getLogBarang(),this.loading=!1;else return await P.logout()},pages(){return this.$emit("page",this.pageTitle)},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=ke.headStokBarang,i=this.dataItem;b.print(t,e,a,i)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[],this.group_barang=this.filtered.group_barang,this.kode_barang=this.filtered.kode_barang},reset(){this.filtered.group_barang=[],this.filtered.kode_barang=[],this.filtered.kategori_barang=[],this.selectCategory=[],this.group_barang=[]}},mounted(){this.fetchData(),this.pages()}},ai=Object.assign(ti,{__name:"LaporanStok",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-combobox"),g=o("v-responsive"),k=o("v-row"),y=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=f=>e.filter=f),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kategori Barang")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(p(de).category,(f,h)=>(r(),u(re,{key:h,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[0]||(a[0]=v=>e.filtered.kategori_barang=v),label:f,value:f},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kode Group")]),_:1}),n(s),n(m,{items:e.kodeGroup,modelValue:e.filtered.group_barang,"onUpdate:modelValue":a[1]||(a[1]=f=>e.filtered.group_barang=f),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(y,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(g,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",ei,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=f=>e.search=f),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{icon:"mdi-tune-vertical",onClick:a[4]||(a[4]=f=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(he,{window:t.window,id:"tbl_exporttable_to_xls",groupbarang:e.items,stok:p(ke).detail(e.databarang,e.items),barang:e.databarang,logbrg:e.logbrg,headers:p(ke).headStokBarang,items:e.dataItem,search:e.search,category:p(de).category,selectCategory:e.selectCategory,laporanstok:!0},null,8,["window","groupbarang","stok","barang","logbrg","headers","items","search","category","selectCategory"])]),_:1}),n(Y,{loading:e.loading},null,8,["loading"])],64)}}}),ni={class:"d-flex"},li={components:{VDataTable:z,PemasukanDetail:$e,filterDrawer:ee,textField:K,menuList:M,checkBox:re,BtnFilter:x,DatePicker:F,CircularLoader:Y},props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,pageTitle:"LAPORAN PEMASUKAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pembelian",key:"no_pembelian"},{title:"Tanggal Pembelian",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Total Nilai",key:"total_nilai"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions",sortable:!1}],details:"",items:"",pembeliandetl:"",dataitems:"",barang:"",supplier:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),b.day()],this.filtered.periode=[this.tglawal(),b.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await P.getPemasukanHead(this.periode),this.supplier=await P.getSupplier(),this.pembeliandetl=await P.getPemasukanDetail(this.periode),this.barang=await P.getBarang(),this.dataitems=ae.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1;else return await P.logout()},page(){return this.$emit("page",this.pageTitle)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.supplier.length;a++)if(t==this.supplier[a].kode_supplier)return this.supplier[a].nama}if(e=="pembelian"){let a=[];for(let i=0;i<this.pembeliandetl.length;i++)this.pembeliandetl[i].no_pembelian==t&&a.push(this.pembeliandetl[i]);return a}if(e=="total")return b.numb(t,2);if(e==="kategori"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="diterima"){for(let a=0;a<this.pembeliandetl.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pembeliandetl[a].no_pembelian){if(e=="diterima")return b.numb(this.pembeliandetl[a].jumlah_diterima);if(this.pembeliandetl[a].kode_barang==this.barang[i].kode_barang){if(e=="kategori")return this.barang[i].kategori_barang;if(e=="namabrg")return this.barang[i].nama_barang;if(e=="hscode")return this.barang[i].hs_code;if(e=="satuan")return this.barang[i].satuan}}}},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,nama:this.dataTable(this.items[e].kode_supplier,"nama"),kategori_barang:this.dataTable(this.items[e].no_pembelian,"kategori"),nama_barang:this.dataTable(this.items[e].no_pembelian,"namabrg"),hs_code:this.dataTable(this.items[e].no_pembelian,"hscode"),satuan:this.dataTable(this.items[e].no_pembelian,"satuan"),jumlah_diterima:this.dataTable(this.items[e].no_pembelian,"diterima"),total_nilai:this.dataTable(this.items[e].total_nilai,"total")});return t},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.dataitems;b.print(t,e,a,i)},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),b.day()],this.filtered.periode=[this.tglawal(),b.day()],this.selectdokumen=[],this.getPembelian()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.fetchData()}},ii=De();Pe(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));ii.value=[t,e]});const si=Object.assign(li,{__name:"LaporanPemasukan",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-responsive"),k=o("v-row"),y=o("v-sheet"),f=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=h=>e.filter=h),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.periode[0]=h),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=h=>e.filtered.periode[1]=h),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(e.tipedokumen,(h,v)=>(r(),u(re,{key:v,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=D=>e.filtered.selectdokumen=D),label:h,value:h},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(f,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(g,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",ni,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=h=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(y,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.dataitems,headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 rounded-lg border-sm h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pembelian":l(({item:h})=>[d(_(p(b).formatDate(h.raw.tgl_pembelian)),1)]),"item.actions":l(({item:h})=>[n($e,{window:t.window,tema:t.tema,batalbtn:"Pemasukan",onConfirm:e.confirm,laporan:!0,namaSupplier:e.dataTable(h.raw.kode_supplier,"nama"),pembelian:e.dataTable(h.raw.no_pembelian,"pembelian"),total:e.dataTable(h.raw.total_nilai,"total"),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:[e.details],headers:e.headers,items:h.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","tema","onConfirm","namaSupplier","pembelian","total","itemDetail","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","pageTitle"])]),_:1},8,["items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(Y,{loading:e.loading},null,8,["loading"])],64)}}}),oi={class:"d-flex"},ri={components:{PengeluaranDetail:Ae,filterDrawer:ee,textField:K,menuList:M,checkBox:re,BtnFilter:x,DatePicker:F,CircularLoader:Y},props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,authority:"",pageTitle:"LAPORAN PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC25","BC41"],headers:[{title:"Nomor Penjualan",key:"no_penjualan"},{title:"Tgl Penjualan",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Tgl Dokumen",key:"tgl_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah",key:"jumlah"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],items:"",pjldetail:"",pelanggan:"",barang:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),b.day()],this.filtered.periode=[this.tglawal(),b.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await P.getPenjualanHead(this.periode),this.pjldetail=await P.getPenjualanDetail(this.periode),this.pelanggan=await P.getPelanggan(),this.barang=await P.getBarang(),this.loading=!1;else return await P.logout()},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},page(){return this.$emit("page",this.pageTitle)},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},penjualan(t){let e=[];for(let a=0;a<this.pjldetail.length;a++)this.pjldetail[a].no_penjualan==t&&e.push(this.pjldetail[a]);return e},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.pelanggan.length;a++)if(t==this.pelanggan[a].kode_pelanggan)return this.pelanggan[a].nama}if(e=="total")return b.numb(t);if(e=="kategori"||e=="kodebrg"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="jumlah"){for(let a=0;a<this.pjldetail.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pjldetail[a].no_penjualan){if(e=="kodebrg")return this.pjldetail[a].kode_barang;if(e=="kategori"){if(this.pjldetail[a].kode_barang==this.barang[i].kode_barang)return this.barang[i].kategori_barang}else{if(e=="namabrg")return this.pjldetail[a].nama_barang;if(e=="hscode")return this.pjldetail[a].hs_code;if(e=="satuan")return this.pjldetail[a].satuan;if(e=="jumlah")return b.numb(this.pjldetail[a].jumlah)}}}},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.printdata();b.print(t,e,a,i)},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_penjualan:this.items[e].no_penjualan,tgl_penjualan:this.items[e].tgl_penjualan,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,tgl_dokumen:this.items[e].tgl_dokumen,nama:this.dataTable(this.items[e].kode_pelanggan,"nama"),kode_group:this.dataTable(this.items[e].no_penjualan,"kodebrg"),kategori_barang:this.dataTable(this.items[e].no_penjualan,"kategori"),nama_barang:this.dataTable(this.items[e].no_penjualan,"namabrg"),hs_code:this.dataTable(this.items[e].no_penjualan,"hscode"),satuan:this.dataTable(this.items[e].no_penjualan,"satuan"),jumlah:this.dataTable(this.items[e].no_penjualan,"jumlah")});return t},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),b.day()],this.filtered.periode=[this.tglawal(),b.day()],this.selectdokumen=[],this.getPenjualan()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.updt()}},ui=De();Pe(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));ui.value=[t,e]});const di=Object.assign(ri,{__name:"LaporanPengeluaran",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-responsive"),k=o("v-row"),y=o("v-sheet"),f=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=h=>e.filter=h),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=h=>e.filtered.periode[0]=h),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=h=>e.filtered.periode[1]=h),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(e.tipedokumen,(h,v)=>(r(),u(re,{key:v,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=D=>e.filtered.selectdokumen=D),label:h,value:h},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(f,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(g,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",oi,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=h=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(y,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 rounded-lg border-sm h-100",height:t.window>776?"100%":"92%"},{"item.tgl_penjualan":l(({item:h})=>[d(_(p(b).formatDate(h.raw.tgl_penjualan)),1)]),"item.nama":l(({item:h})=>[d(_(e.dataTable(h.raw.kode_pelanggan,"nama")),1)]),"item.kategori_barang":l(({item:h})=>[d(_(e.dataTable(h.raw.no_penjualan,"kategori")),1)]),"item.kode_barang":l(({item:h})=>[d(_(e.dataTable(h.raw.no_penjualan,"kodebrg")),1)]),"item.nama_barang":l(({item:h})=>[d(_(e.dataTable(h.raw.no_penjualan,"namabrg")),1)]),"item.hs_code":l(({item:h})=>[d(_(e.dataTable(h.raw.no_penjualan,"hscode")),1)]),"item.satuan":l(({item:h})=>[d(_(e.dataTable(h.raw.no_penjualan,"satuan")),1)]),"item.jumlah":l(({item:h})=>[d(_(e.dataTable(h.raw.no_penjualan,"jumlah")),1)]),"item.actions":l(({item:h})=>[n(Ae,{window:t.window,onConfirm:e.confirm,batalbtn:"Pengeluaran",laporan:!0,namaPelanggan:e.namaPelanggan(h.raw.kode_pelanggan),penjualan:e.penjualan(h.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:e.headDetails,items:h.raw,details:e.details,headers:e.headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","details","headers","search","category","selectCategory"])]),_:1},8,["items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(Y,{loading:e.loading},null,8,["loading"])],64)}}}),mi={class:"d-flex align-center justify-sm-end justify-start"},pi={components:{SuratJalan:Me,dialogConfirm:oe,PengirimanDetail:Ne,VDataTable:z,filterDrawer:ee,textField:K,menuList:M,BtnFilter:x,DatePicker:F,TextButton:te,AlertVue:ne,BtnOrange:H,BtnCancel:J,CircularLoader:Y},props:["cetak","tema","user","window"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"LAPORAN PENGIRIMAN",selectCategory:"",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",penjualanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:""}},created(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await P.getOtoritas(t);this.authority=V.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await P.getPengirimanHead(this.periode);this.alamatBongkar=await P.alamatBongkar(),this.pelanggan=await P.getPelanggan(),this.penjualanHead=await P.getPenjualanHead(this.periode),this.kirim_detail=await P.getPengirimanDetail(this.periode);let a=await P.getBelumTerkirim(),i=await P.getBelumTerkirimDetail();this.pjl_blmterkirm=se.item_blmterikirim(a,i),this.pengirimanHead=pe.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail),this.loading=!1}else return await P.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=pe.headers,i=this.pengirimanHead;b.print(t,e,a,i)},reset(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()],this.selected()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.selected()},inputhead(t,e){P.postPengiriman(t,e).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){P.deletePengiriman(this.head,this.detail).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},gi=De();Pe(()=>{const t=new Date;gi.value=[t,t]});const hi=Object.assign(pi,{__name:"LaporanPengiriman",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-responsive"),k=o("v-row"),y=o("v-list-item"),f=o("v-list"),h=o("v-menu"),v=o("v-sheet"),D=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=B=>e.filter=B),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=B=>e.filtered.periode[0]=B),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=B=>e.filtered.periode[1]=B),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(D,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(g,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",mi,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=B=>e.search=B),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),p(V).routes(e.authority,"Pengaturan Umum")?(r(),u(M,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(x,{onClick:a[4]||(a[4]=B=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(v,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(p(z),{"sort-by":e.sortBy,"onUpdate:sortBy":a[5]||(a[5]=B=>e.sortBy=B),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:p(pe).headersLaporan,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pengiriman":l(({item:B})=>[d(_(p(b).formatDate(B.raw.tgl_pengiriman)),1)]),"item.actions":l(({item:B})=>[n(h,{transition:"slide-y-transition"},{activator:l(({props:I})=>[n(te,Z(I,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(f,{density:"compact",class:"px-3"},{default:l(()=>[n(y,{class:"pa-0"},{default:l(()=>[n(Ne,{window:t.window,batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(B.raw.no_pengiriman),nokirim:B.raw.no_pengiriman,nopjl:e.Penjualandetl(B.raw.no_pengiriman),pjl_detail:e.pjl_detail(B.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:p(pe).headDetails,headers:p(pe).headers,items:B.raw,disable:!0},null,8,["window","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(oe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[8]||(a[8]=B=>e.confirmdialog=B),object:e.pageTitle},{yesButton:l(()=>[n(H,{class:"ms-2",onClick:a[6]||(a[6]=B=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(J,{onClick:a[7]||(a[7]=B=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ne,{modelValue:e.valert,"onUpdate:modelValue":a[9]||(a[9]=B=>e.valert=B),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(Y,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),ci={class:"d-flex"},bi={components:{filterDrawer:ee,checkBox:re,BtnFilter:x,TextField:K,DatePicker:F,CircularLoader:Y},props:["tema","cetak","user","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,pageTitle:"LAPORAN LOG USER",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",datauser:["admin","beacukai"],selectuser:[],items:"",users:"",filtered:{selectuser:[],periode:[]}}},created(){this.periode=[b.tglawal(),b.day()],this.filtered.periode=[b.tglawal(),b.day()]},methods:{async fetchData(){localStorage.getItem("user")!=null?(this.loading=!0,this.users=await P.getUser(),this.items=await P.getLogUser(this.periode),this.loading=!1):await P.logout()},selected(){return this.selectuser.length===0?this.items:this.items.filter(t=>this.selectuser.includes(t.username))},close(t){return this.filter=t},page(){return this.$emit("page",this.pageTitle)},updt(){this.fetchData()},reset(){this.filtered.selectuser=[],this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.selectuser=[],this.getLogUser()},filterdata(){this.periode[0]=this.filtered.periode[0],this.periode[1]=this.filtered.periode[1],this.updt(),this.selectuser=this.filtered.selectuser,this.selectuser?this.selectuser==[]&&(this.selectuser=[]):this.selectuser=[]}},mounted(){this.page(),this.updt()}},fi=De();Pe(()=>{const t=new Date,e=new Date(new Date().setDate(t.getDate()+7));fi.value=[t,e]});const _i=Object.assign(bi,{__name:"LaporanLog",setup(t){return(e,a)=>{const i=o("v-span"),s=o("v-divider"),m=o("v-label"),g=o("v-responsive"),k=o("v-row"),y=o("v-container");return r(),A(N,null,[n(ee,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=f=>e.filter=f),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(s),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=f=>e.filtered.periode[0]=f),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(F,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=f=>e.filtered.periode[1]=f),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(s,{class:"mb-6"}),(r(!0),A(N,null,G(e.datauser,(f,h)=>(r(),u(re,{key:h,modelValue:e.filtered.selectuser,"onUpdate:modelValue":a[2]||(a[2]=v=>e.filtered.selectuser=v),label:f,value:f},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(y,{class:"pt-9 h-100"},{default:l(()=>[n(k,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(g,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",ci,[n(K,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=f=>e.search=f),placeholder:"Search"},null,8,["modelValue"]),n(x,{class:"ms-2",onClick:a[5]||(a[5]=f=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(he,{window:t.window,id:"tbl_exporttable_to_xls",headers:p(ke).headLogUser,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,log:!0},null,8,["window","headers","items","search","category","selectCategory"])]),_:1}),n(Y,{loading:e.loading},null,8,["loading"])],64)}}}),Re=dt({history:mt(),routes:[{path:"/",meta:{middleware:[ue]},redirect:{name:"DataBarang"}},{path:"/login",name:"login",component:Cn},{path:"/test-page",name:"testPage",component:bn},{path:"/data-barang",name:"DataBarang",meta:{middleware:[ue]},component:pn},{path:"/data-pelanggan",name:"DataPelanggan",meta:{middleware:[ue]},component:In},{path:"/data-supplier",name:"DataSupplier",meta:{middleware:[ue]},component:Kn},{path:"/data-user",name:"DataUser",meta:{middleware:[ue]},component:qn},{path:"/pemasukan",name:"PemasukanBarang",meta:{middleware:[ue]},component:Wn},{path:"/produksi",name:"ProduksiBarang",meta:{middleware:[ue]},component:rl},{path:"/pengeluaran",name:"PengeluaranBarang",meta:{middleware:[ue]},component:jl},{path:"/pengiriman",name:"PengirimanBarang",meta:{middleware:[ue]},component:xl},{path:"/laporan-stok",name:"LaporanStok",meta:{middleware:[ue]},component:ai},{path:"/laporan-pemasukan",name:"LaporanPemasukan",meta:{middleware:[ue]},component:si},{path:"/laporan-pengeluaran",name:"LaporanPengeluaran",meta:{middleware:[ue]},component:di},{path:"/laporan-pengiriman",name:"LaporanPengiriman",meta:{middleware:[ue]},component:hi},{path:"/laporan-log",name:"log",meta:{middleware:[ue]},component:_i}]});Re.beforeEach((t,e,a)=>{if(!t.meta.middleware)return a();const i=t.meta.middleware,s={from:e,next:a,router:Re,to:t};return i[0]({...s,next:at(s,i,1)})});function at(t,e,a){const i=e[a];return i?()=>{const s=at(t,e,a+1);i({...t,next:s})}:t.next}const R=pt.create({baseURL:"https://auristeel.com/api-beta",headers:{"Permissions-Policy":"interest-cohort=()",csrf:localStorage.getItem("token"),accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*","access-control-allow-credentials":!0,"access-control-allow-methods":"GET,HEAD,PUT,PATCH,POST,DELETE"}}),Se=localStorage.getItem("user"),P={postLogin(t){return R.post("/login",t)},getData(t,e){return R.get(t,e)},putData(t,e){return R.patch(t,e)},deleteData(t,e){return R.delete(t,{data:e})},async getUser(t){try{const e={username:t};return(await R.get("/user?",{params:e})).data}catch{return this.logout()}},async getLogUser(t){try{const e="/log_user?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getOtoritas(t){try{return(await R.get("/user_otoritas/"+t)).data}catch{return this.logout()}},postUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const s=JSON.stringify(i);return R.post("/user",{username:e,password:a,otoritas:s})},editUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const s=JSON.stringify(i);return R.patch("/user",{username:e,password:a,otoritas:s})},deleteUser(t){const e="/user";let a={username:t};return R.delete(e,{data:a})},async getGroupBarang(){try{return(await R.get("/group_barang")).data}catch{return this.logout()}},async alamatBongkar(){try{return(await R.get("/alamat_bongkar")).data}catch{return this.logout()}},async getBarang(){try{return(await R.get("/barang?status=1")).data}catch{return this.logout()}},postBarang(t){const e=JSON.stringify(t);return R.post("/barang",{barang:e})},putBarang(t){const e=JSON.stringify(t);return R.patch("/barang",{barang:e})},deleteBarang(t){let e={kode_barang:t.kode_barang};return R.delete("/barang",{data:e})},async getPelanggan(){try{return(await R.get("/pelanggan")).data}catch{return this.logout()}},postPelanggan(t){const e=JSON.stringify(t);return R.post("/pelanggan",{pelanggan:e})},putPelanggan(t){const e=JSON.stringify(t);return R.patch("/pelanggan",{pelanggan:e})},deletePelanggan(t){let e={kode_pelanggan:t.kode_pelanggan};return R.delete("/pelanggan",{data:e})},async getSupplier(){try{return(await R.get("/supplier?status=1")).data}catch{return this.logout()}},async getPemasukanHead(t){try{const e="/pembelian_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getPemasukanDetail(t){try{const e="/pembelian_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},postPemasukan(t,e){const a=JSON.stringify(t),i=JSON.stringify(e);return R.post("/pembelian_head?",{pembelian_head:a,pembelian_detail:i})},deletePemasukan(t,e){const a={no_pembelian:t.no_pembelian,tgl_batal:"",kode_supplier:t.kode_supplier,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,no_invoice:t.no_invoice,no_bl:t.no_bl,mata_uang:t.mata_uang,kurs:t.kurs,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_pembelian:t.no_pembelian};return R.delete("/pembelian_head",{data:i})},async getProduksiHead(t){try{const e="/produksi_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getProDBahan(t){try{const e="/produksi_detail_bahan?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getProDBarang(t){try{const e="/produksi_detail_barang?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getLogBarang(){try{return(await R.get("/log_barang?")).data}catch{return this.logout()}},postProduksi(t,e,a){const i=JSON.stringify(t),s=JSON.stringify(e),m=JSON.stringify(a);return R.post("/produksi_head",{produksi_head:i,produksi_detail_bahan:s,produksi_detail_barang:m})},deleteProduksi(t,e,a){let i={no_produksi:t.no_produksi,tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:b.day(),user_batal:Se,status:"false"};JSON.stringify(i),JSON.stringify(e),JSON.stringify(a);const s={no_produksi:t.no_produksi};return R.delete("/produksi_head",{data:s})},async getPengirimanHead(t){try{const e="/pengiriman_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getPengirimanDetail(t){try{const e="/pengiriman_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},postPengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,no_polisi:t.no_polisi,user_input:Se,tgl_input:b.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_batal:Se,status:"true"};const i=JSON.stringify(a),s=JSON.stringify(e);return R.post("/pengiriman_head?",{pengiriman_head:i,pengiriman_detail:s})},deletePengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,no_polisi:t.no_polisi,user_input:t.user_input,tgl_input:t.tgl_input,tgl_batal:b.day(),user_batal:Se,status:"false"};const i=JSON.stringify(a),s=JSON.stringify(e);let m={pengiriman_head:i,pengiriman_detail:s};return R.delete("/pengiriman_head",{data:m})},async getPenjualanHead(t){try{const e="/penjualan_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getHeadPenjualan(t){try{const e="/penjualan_head/"+t;return(await R.get(e)).data}catch(e){console.log(e)}},async getPenjualanDetail(t){try{const e="/penjualan_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await R.get(e,{params:a})).data}catch{return this.logout()}},async getBelumTerkirim(){try{return(await R.get("/penjualan_head/belum_terkirim")).data}catch{return this.logout()}},async getBelumTerkirimDetail(){try{return(await R.get("/penjualan_detail/belum_terkirim")).data}catch{return this.logout()}},postPengeluaran(t,e){let a={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:e[0].total_terjual,tgl_input:b.day(),user_input:Se,tgl_batal:"1999-12-31T17:00:00.000Z",user_batal:"",status:"open"};const i=JSON.stringify(a),s=JSON.stringify(e);return R.post("/penjualan_head?",{penjualan_head:i,penjualan_detail:s})},deletePengeluaran(t,e){const a={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:t.total_penjualan,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:new Date,user_batal:Se,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_penjualan:t.no_penjualan};return R.delete("/penjualan_head",{data:i})},logout(){return localStorage.removeItem("token"),localStorage.removeItem("user"),Re.push("login")}};const ki={class:"d-flex flex-column align-center rounded-xl border"},vi={props:["pageTitle"],data(){return{user:"",dark:null,menu:[{title:"Ubah Password",value:"changepass"},{title:"Logout",value:"logout"}],title:this.pageTitle}},created(){this.user=localStorage.getItem("user")},methods:{logout(){P.logout()},theme(){this.dark=!this.dark,this.$emit("dark",this.dark)}},mounted(){}},yi=Object.assign(vi,{__name:"AppBar",setup(t){return(e,a)=>{const i=o("v-toolbar-title"),s=o("v-spacer"),m=o("v-span"),g=o("v-btn"),k=o("v-divider"),y=o("v-icon"),f=o("v-avatar"),h=o("v-card"),v=o("v-menu"),D=o("v-sheet"),B=o("v-div"),I=o("v-toolbar"),q=o("v-container"),w=o("v-app-bar");return r(),u(w,{class:"elevation-0 py-1 border-b-sm",height:"55"},{default:l(()=>[n(q,{class:"d-flex align-center"},{default:l(()=>[ve(e.$slots,"app-btn",{},void 0,!0),n(I,{class:"bg-transparent pe-3 ms-n3"},{default:l(()=>[n(i,{class:"text-button font-weight-medium text-blue-custom"},{default:l(()=>[d(_(t.pageTitle),1)]),_:1}),n(s),n(B,{class:"d-flex align-center"},{default:l(()=>[n(g,{icon:"",size:"small",color:"blue-custom",onClick:a[0]||(a[0]=U=>e.theme())},{default:l(()=>[e.dark?(r(),u(m,{key:0,class:"material-symbols-outlined"},{default:l(()=>[d("dark_mode")]),_:1})):c("",!0),e.dark?c("",!0):(r(),u(m,{key:1,class:"material-symbols-outlined"},{default:l(()=>[d("light_mode")]),_:1}))]),_:1}),n(k,{vertical:"",class:"mx-2"}),n(D,{id:"akun",class:"d-flex align-center text-blue-custom clickable"},{default:l(()=>[n(f,{class:"bg-blue-custom me-2",size:"small"},{default:l(()=>[n(y,{size:"25",color:"white"},{default:l(()=>[d("mdi-account")]),_:1})]),_:1}),n(m,{class:"text-caption d-flex"},{default:l(()=>[d(_(e.user)+" ",1),n(y,{size:"20"},{default:l(()=>[d("mdi-chevron-down")]),_:1})]),_:1}),n(v,{activator:"#akun"},{default:l(()=>[n(h,{width:"300",class:"rounded-xl pa-2 border"},{default:l(()=>[$("div",ki,[n(f,{class:"bg-blue-custom mt-3 mb-2",size:"100"},{default:l(()=>[n(y,{size:"80"},{default:l(()=>[d("mdi-account")]),_:1})]),_:1}),n(m,null,{default:l(()=>[d(_(e.user),1)]),_:1}),n(g,{class:"d-flex justify-start align-left rounded-b-xl elevation-0 mt-5",block:"",size:"60"},{default:l(()=>[n(y,{color:"mt-n1 ms-6",size:"19"},{default:l(()=>[d("mdi-key")]),_:1}),n(m,{class:"ms-2 text-body-2"},{default:l(()=>[d("Ganti Password")]),_:1})]),_:1})]),n(g,{onClick:a[1]||(a[1]=U=>e.logout()),variant:"text",class:"d-flex justify-start align-left rounded-xl elevation-0 text-body-2",block:"",size:"60"},{default:l(()=>[n(y,{size:"20",class:"me-2 ms-6"},{default:l(()=>[d("mdi-logout")]),_:1}),n(m,null,{default:l(()=>[d("Log out")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:3})]),_:3})}}}),nt=X(yi,[["__scopeId","data-v-174289bb"]]),wi="/assets/just_logo-b2ce2bdc.png",ji=$("img",{src:wi,width:"35"},null,-1),Vi={props:["pageTitle"],data(){return{master:["master"],pages:[{key:"master",value:"Master"},{key:"masuk",value:"Pemasukan Barang"},{key:"produksi",value:"Produksi"},{key:"keluar",value:"Pengeluaran Barang"},{key:"kirim",value:"Pengiriman Barang"},{key:"laporan",value:"Laporan"}],navtitle:"",drawer:null,rail:!0,drawerMaster:null,pemasukan:"",pemasukandetail:"",pengeluaran:"",pengeluarandetail:"",produksi:"",produksidetail:"",kirim:"",title:"",aut:"",empty:null}},methods:{async fetchData(){let t=localStorage.getItem("user"),e=await P.getOtoritas(t);return this.aut=V.otoritas(e)},page(){return this.pageTitle=="DATA BARANG"||this.pageTitle=="DATA PELANGGAN"||this.pageTitle=="DATA SUPPLIER"||this.pageTitle=="DATA USER"},laporan(){return this.pageTitle=="LAPORAN STOK BARANG"||this.pageTitle=="LAPORAN PEMASUKAN BARANG"||this.pageTitle=="LAPORAN PENGELUARAN BARANG"||this.pageTitle=="LAPORAN PENGIRIMAN"||this.pageTitle=="LAPORAN LOG USER"}},mounted(){this.fetchData()}},lt=Object.assign(Vi,{__name:"NavDrawers",setup(t){return(e,a)=>{const i=o("v-avatar"),s=o("v-span"),m=o("v-sheet"),g=o("v-divider"),k=o("v-list-item"),y=o("v-list"),f=o("v-menu"),h=o("v-row"),v=o("v-navigation-drawer");return r(),u(v,{class:"border-e-sm elevation-0"},{default:l(()=>[n(m,{fluid:"",class:"d-flex align-center mx-5 justify-start bg-transparent",height:"63"},{default:l(()=>[n(i,null,{default:l(()=>[ji]),_:1}),n(s,{class:"text-button ms-3 text-dark"},{default:l(()=>[d("IT Inventori")]),_:1})]),_:1}),n(g),n(h,{class:"px-3"},{default:l(()=>[n(y,{class:"w-100"},{default:l(()=>[n(k,{id:"master",class:"text-caption mt-3 text-dark",value:"master",onClick:a[0]||(a[0]=D=>(t.pageTitle="MASTER",e.draw("master"))),active:e.page(),"prepend-icon":"mdi-database"},{default:l(()=>[d(" Data Master ")]),_:1},8,["active"]),n(f,{activator:p(V).routes(e.aut,"Data Barang")?"#master":null,location:"end",width:"200"},{default:l(()=>[n(y,{class:"text-caption",density:"compact",elevation:"3",rounded:"0"},{default:l(()=>[p(V).routes(e.aut,"Data Barang")?(r(),u(p(me),{key:0,to:"/data-barang"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Data Barang")]),_:1})]),_:1})):c("",!0),p(V).routes(e.aut,"Data Pelanggan")?(r(),u(p(me),{key:1,to:"/data-pelanggan"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Data Pelanggan")]),_:1})]),_:1})):c("",!0),p(V).routes(e.aut,"Data Supplier")?(r(),u(p(me),{key:2,to:"/data-supplier"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Data Supplier")]),_:1})]),_:1})):c("",!0),p(V).routes(e.aut,"Data User")?(r(),u(p(me),{key:3,to:"/data-user"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Data User")]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1},8,["activator"]),p(V).routes(e.aut,"Pembelian")?(r(),u(p(me),{key:0,to:"/pemasukan"},{default:l(()=>[n(k,{"prepend-icon":"mdi-inbox-arrow-down",class:"text-caption text-dark",active:t.pageTitle=="PEMASUKAN BARANG",onClick:a[1]||(a[1]=D=>t.pageTitle="PEMASUKAN BARANG")},{default:l(()=>[d(" Pemasukan Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),p(V).routes(e.aut,"Produksi")?(r(),u(p(me),{key:1,to:"/produksi"},{default:l(()=>[n(k,{"prepend-icon":"mdi-chart-donut",class:"text-caption text-dark",active:t.pageTitle=="PRODUKSI BARANG",onClick:a[2]||(a[2]=D=>t.pageTitle="PRODUKSI BARANG")},{default:l(()=>[d(" Produksi Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),p(V).routes(e.aut,"Penjualan")?(r(),u(p(me),{key:2,to:"/pengeluaran"},{default:l(()=>[n(k,{"prepend-icon":"mdi-inbox-arrow-up",class:"text-caption text-dark",active:t.pageTitle=="PENGELUARAN BARANG",onClick:a[3]||(a[3]=D=>t.pageTitle="PENGELUARAN BARANG")},{default:l(()=>[d(" Pengeluaran Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),p(V).routes(e.aut,"Pengiriman")?(r(),u(p(me),{key:3,to:"/pengiriman"},{default:l(()=>[n(k,{"prepend-icon":"mdi-send-variant",class:"text-caption text-dark",active:t.pageTitle=="PENGIRIMAN BARANG",onClick:a[4]||(a[4]=D=>t.pageTitle="PENGIRIMAN BARANG")},{default:l(()=>[d(" Pengiriman Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),n(k,{id:"laporan","prepend-icon":"mdi-folder-outline",class:"text-caption text-dark",active:e.laporan(),value:"laporan",onClick:a[5]||(a[5]=D=>t.pageTitle="LAPORAN")},{default:l(()=>[d(" Laporan ")]),_:1},8,["active"]),n(f,{activator:p(V).routes(e.aut,"Laporan")?"#laporan":null,location:"end",width:"200"},{default:l(()=>[n(y,{class:"text-caption",density:"compact",elevation:"3",rounded:"0"},{default:l(()=>[p(V).routes(e.aut,"Laporan Stok Barang")?(r(),u(p(me),{key:0,to:"/laporan-stok"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Laporan Stok Barang")]),_:1})]),_:1})):c("",!0),p(V).routes(e.aut,"Laporan Pembelian")?(r(),u(p(me),{key:1,to:"/laporan-pemasukan"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Laporan Pemasukan")]),_:1})]),_:1})):c("",!0),p(V).routes(e.aut,"Laporan Penjualan")?(r(),u(p(me),{key:2,to:"/laporan-pengeluaran"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Laporan Pengeluaran")]),_:1})]),_:1})):c("",!0),p(V).routes(e.aut,"Laporan Pengiriman")?(r(),u(p(me),{key:3,to:"/laporan-pengiriman"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Laporan Pengiriman")]),_:1})]),_:1})):c("",!0),p(V).routes(e.aut,"Laporan Log User")?(r(),u(p(me),{key:4,to:"/laporan-log"},{default:l(()=>[n(k,{class:"text-dark"},{default:l(()=>[d("Laporan Log User")]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1},8,["activator"])]),_:1})]),_:1})]),_:1})}}});const Di=t=>(Qe("data-v-54958b67"),t=t(),We(),t),Pi=["checked"],Ti=Di(()=>$("label",{for:"menu_checkbox"},[$("div"),$("div"),$("div")],-1)),Bi={components:{NavDrawers:lt,AppBar:nt},data(){return{windowWidth:window.innerWidth,drawer:!1,tema:null,databarang:"",cetak:[{title:"Export xlsx",icon:"mdi-download",key:"xlsx"},{title:"Export pdf",icon:"mdi-file-pdf-box",key:"pdf"}],pageTitle:"",pemasukan:"",produksi:"",pengeluaran:"",kirim:"",user_otoritas:""}},methods:{onResize(){this.windowWidth=window.innerWidth},page(t){this.pageTitle=t},theme(t){t?this.tema="dark":this.tema="light"}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)}),this.page()}},Ui=Object.assign(Bi,{__name:"App",setup(t){return(e,a)=>{const i=o("v-div"),s=o("v-main"),m=o("v-layout"),g=o("v-theme-provider");return r(),u(g,{theme:e.tema,"with-background":""},{default:l(()=>[n(m,null,{default:l(()=>[e.pageTitle!=null?(r(),u(lt,{key:0,modelValue:e.drawer,"onUpdate:modelValue":a[0]||(a[0]=k=>e.drawer=k),pageTitle:e.pageTitle,item:e.items,pemasukan:e.pemasukan,produksi:e.produksi,pengeluaran:e.pengeluaran,kirim:e.kirim},null,8,["modelValue","pageTitle","item","pemasukan","produksi","pengeluaran","kirim"])):c("",!0),e.pageTitle!=null?(r(),u(nt,{key:1,pageTitle:e.pageTitle,onDark:e.theme},{"app-btn":l(()=>[n(i,{class:"me-5"},{default:l(()=>[$("input",{type:"checkbox",id:"menu_checkbox",onClick:a[1]||(a[1]=k=>e.drawer=!e.drawer),checked:e.drawer},null,8,Pi),Ti]),_:1})]),_:1},8,["pageTitle","onDark"])):c("",!0),n(s,{class:"vh-100 vw-100"},{default:l(()=>[n(p(gt),{cetak:e.cetak,onPage:e.page,onPages:e.page,tema:e.tema,window:e.windowWidth},null,8,["cetak","onPage","onPages","tema","window"])]),_:1})]),_:1})]),_:1},8,["theme"])}}}),Si=X(Ui,[["__scopeId","data-v-54958b67"]]);const Ci={dark:!1,colors:{background:"#fafafa",dark:"#212121","blue-custom":"#3B7AA9",white:"#fff",black:"#121212","grey-lighten-4":"#f5f5f5"}},$i={dark:!0,colors:{background:"#121212",dark:"#e8e8e8","blue-custom":"#6699bf",black:"#fff",white:"#121212","grey-lighten-4":"#2b2b2b"}},Li=ht({theme:{themes:{light:Ci,dark:$i}},icons:{defaultSet:"mdi"},components:ct,directives:bt});async function Ai(){(await ft(()=>import("./webfontloader-ad4dc96b.js").then(e=>e.w),["assets/webfontloader-ad4dc96b.js","assets/vendor-f3a4ad8f.js","assets/vendor-d6f22218.css"])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Ai();const Ee=_t(Si);Ee.component("VueDatePicker",kt);Ee.use(Re);Ee.use(Li);Ee.mount("#app");
