import{r as s,o as r,c as u,w as l,a as n,b as d,u as g,R as de,d as h,e as $,E as at,t as y,m as M,V as ge,f as K,F as R,n as pe,g as I,h as Ve,i as _e,j as nt,k as lt,l as it,p as we,q as Ye,s as st,v as he,x as Ne,y as ze,z as ot,A as Ae,B as Ke,C as rt,D as ut,G as dt,H as mt,I as gt,J as pt,K as ht,L as ct,_ as ft,M as kt,Q as bt}from"./vendor-b91216bb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const m of o)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function a(o){const m={};return o.integrity&&(m.integrity=o.integrity),o.referrerPolicy&&(m.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?m.credentials="include":o.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(o){if(o.ep)return;o.ep=!0;const m=a(o);fetch(o.href,m)}})();const _t="/assets/just_logo-b2ce2bdc.png",vt=["Data Barang","Tambah Barang Baru","Ubah Barang","Hapus Barang"],yt=["Barang Konversi","Tambah Barang Konversi","Ubah Barang Konversi","Hapus Barang Konversi"],wt=["Data Pelanggan","Tambah Pelanggan Baru","Ubah Pelanggan","Hapus Pelanggan"],jt=["Data Supplier"],Vt=["Data User"],Dt=["Pembelian","Batal Pembelian","Tambah Pembelian Baru"],Bt=["Produksi","Tambah Produksi Baru","Batal Produksi"],Pt=["Penjualan","Tambah Penjualan Baru","Batal Penjualan"],Tt=["Pengiriman","Batal Pengiriman","Tambah Pengiriman Baru","Cetak Surat Jalan","Cetak DO","Alamat Bongkar"],St=["Laporan","Laporan Stok Barang","Laporan Pembelian","Laporan Produksi","Laporan Penjualan","Laporan Pengiriman","Laporan Log User"],Ut=["Pengaturan Umum","Export pdf","Export xlsx"],Ct=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].status=="true"&&e.push({username:t[a].username,jenis_otoritas:t[a].jenis_otoritas,status:t[a].status});return e},$t=(t,e)=>{let a=!1;if(t.length>=1)for(let i=0;i<t.length;i++)t[i].jenis_otoritas==e&&(t[i].status=="true"?a=!0:a=!1);else a=!1;return a},Lt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].username==e&&a.push({jenis_otoritas:t[i].jenis_otoritas,status:t[i].status});return a},Nt=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].jenis_otoritas=="Data Barang"&&e.push({data_barang:!0}),t[a].jenis_otoritas=="Tambah Barang Baru"&&e.push({tambah_barang:!0}),t[a].jenis_otoritas=="Ubah Barang"&&e.push({edit_barang:!0}),t[a].jenis_otoritas=="Hapus Barang"&&e.push({hapus_barang:!0}),t[a].jenis_otoritas=="Data Pelanggan"&&e.push({data_pelanggan:!0}),t[a].jenis_otoritas=="Tambah Pelanggan Baru"&&e.push({tambah_pelanggan:!0}),t[a].jenis_otoritas=="Ubah Pelanggan"&&e.push({edit_pelanggan:!0}),t[a].jenis_otoritas=="Hapus Pelanggan"&&e.push({hapus_pelanggan:!0}),t[a].jenis_otoritas=="Data Supplier"&&e.push({data_supplier:!0}),t[a].jenis_otoritas=="Pembelian"&&e.push({pembelian:!0}),t[a].jenis_otoritas=="Tambah Pembelian"&&e.push({tambah_pembelian:!0}),t[a].jenis_otoritas=="Batal Pembelian"&&e.push({batal_pembelian:!0}),t[a].jenis_otoritas=="Produksi"&&e.push({produksi:!0}),t[a].jenis_otoritas=="Tambah Produksi"&&e.push({tambah_produksi:!0}),t[a].jenis_otoritas=="Batal Produksi"&&e.push({batal_produksi:!0}),t[a].jenis_otoritas=="Penjualan"&&e.push({penjualan:!0}),t[a].jenis_otoritas=="Tambah Penjualan"&&e.push({tambah_penjualan:!0}),t[a].jenis_otoritas=="Pengiriman"&&e.push({pengiriman:!0}),t[a].jenis_otoritas=="Tambah Pengiriman"&&e.push({tambah_pengiriman:!0}),t[a].jenis_otoritas=="Batal Pengiriman"&&e.push({batal_pengiriman:!0}),t[a].jenis_otoritas=="Laporan"&&e.push({laporan:!0}),t[a].jenis_otoritas=="Laporan Stok Barang"&&e.push({laporan_stok:!0}),t[a].jenis_otoritas=="Laporan Pembelian"&&e.push({laporan_pembelian:!0}),t[a].jenis_otoritas=="Laporan Produksi"&&e.push({laporan_produksi:!0}),t[a].jenis_otoritas=="Laporan Penjualan"&&e.push({laporan_penjualan:!0}),t[a].jenis_otoritas=="Laporan Log User"&&e.push({laporan_log:!0});return e},w={data_barang:vt,barang_konversi:yt,data_pelanggan:wt,data_supplier:jt,data_user:Vt,pembelian:Dt,produksi:Bt,penjualan:Pt,pengiriman:Tt,laporan:St,setelan:Ut,otoritas:Ct,routes:$t,all:Lt,items:Nt},At=$("img",{src:_t,style:{width:"35px"}},null,-1),Kt={props:["pageTitle","aut"],data(){return{master:["master"],pages:[{key:"master",value:"Master"},{key:"masuk",value:"Pemasukan Barang"},{key:"produksi",value:"Produksi"},{key:"keluar",value:"Pengeluaran Barang"},{key:"kirim",value:"Pengiriman Barang"},{key:"laporan",value:"Laporan"}],navtitle:"",drawer:null,rail:!0,drawerMaster:null,pemasukan:"",pemasukandetail:"",pengeluaran:"",pengeluarandetail:"",produksi:"",produksidetail:"",kirim:"",title:"",empty:null}},methods:{page(){return this.pageTitle=="DATA BARANG"||this.pageTitle=="BARANG KONVERSI"||this.pageTitle=="DATA PELANGGAN"||this.pageTitle=="DATA SUPPLIER"||this.pageTitle=="DATA USER"},laporan(){return this.pageTitle=="LAPORAN STOK BARANG"||this.pageTitle=="LAPORAN PEMASUKAN BARANG"||this.pageTitle=="LAPORAN PENGELUARAN BARANG"||this.pageTitle=="LAPORAN PENGIRIMAN"||this.pageTitle=="LAPORAN LOG USER"}},mounted(){}},We=Object.assign(Kt,{__name:"NavDrawers",setup(t){return(e,a)=>{const i=s("v-avatar"),o=s("v-span"),m=s("v-sheet"),p=s("v-divider"),_=s("v-list-item"),D=s("v-list"),v=s("v-menu"),b=s("v-row"),P=s("v-navigation-drawer");return r(),u(P,{class:"border-e-sm elevation-0"},{default:l(()=>[n(m,{fluid:"",class:"d-flex align-center mx-5 justify-start bg-transparent",height:"63"},{default:l(()=>[n(i,null,{default:l(()=>[At]),_:1}),n(o,{class:"text-button ms-3 text-dark"},{default:l(()=>[d("IT Inventori")]),_:1})]),_:1}),n(p),n(b,{class:"px-3"},{default:l(()=>[n(D,{class:"w-100"},{default:l(()=>[n(_,{id:"master",class:"text-caption mt-3 text-dark",value:"master",onClick:a[0]||(a[0]=f=>t.pageTitle="MASTER"),active:e.page(),"prepend-icon":"mdi-database"},{default:l(()=>[d(" Data Master ")]),_:1},8,["active"]),n(v,{activator:g(w).routes(t.aut,"Data Barang")?"#master":null,location:"end",width:"200"},{default:l(()=>[n(D,{class:"text-caption",density:"compact",elevation:"3",rounded:"0"},{default:l(()=>[g(w).routes(t.aut,"Data Barang")?(r(),u(g(de),{key:0,to:"/data-barang"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Data Barang")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Barang Konversi")?(r(),u(g(de),{key:1,to:"/barang-konversi"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Barang Konversi")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Data Pelanggan")?(r(),u(g(de),{key:2,to:"/data-pelanggan"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Data Pelanggan")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Data Supplier")?(r(),u(g(de),{key:3,to:"/data-supplier"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Data Supplier")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Data User")?(r(),u(g(de),{key:4,to:"/data-user"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Data User")]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1},8,["activator"]),g(w).routes(t.aut,"Pembelian")?(r(),u(g(de),{key:0,to:"/pemasukan"},{default:l(()=>[n(_,{"prepend-icon":"mdi-inbox-arrow-down",class:"text-caption text-dark",active:t.pageTitle=="PEMASUKAN BARANG",onClick:a[1]||(a[1]=f=>t.pageTitle="PEMASUKAN BARANG")},{default:l(()=>[d(" Pemasukan Barang ")]),_:1},8,["active"])]),_:1})):h("",!0),g(w).routes(t.aut,"Produksi")?(r(),u(g(de),{key:1,to:"/produksi"},{default:l(()=>[n(_,{"prepend-icon":"mdi-chart-donut",class:"text-caption text-dark",active:t.pageTitle=="PRODUKSI BARANG",onClick:a[2]||(a[2]=f=>t.pageTitle="PRODUKSI BARANG")},{default:l(()=>[d(" Produksi Barang ")]),_:1},8,["active"])]),_:1})):h("",!0),g(w).routes(t.aut,"Penjualan")?(r(),u(g(de),{key:2,to:"/pengeluaran"},{default:l(()=>[n(_,{"prepend-icon":"mdi-inbox-arrow-up",class:"text-caption text-dark",active:t.pageTitle=="PENGELUARAN BARANG",onClick:a[3]||(a[3]=f=>t.pageTitle="PENGELUARAN BARANG")},{default:l(()=>[d(" Pengeluaran Barang ")]),_:1},8,["active"])]),_:1})):h("",!0),g(w).routes(t.aut,"Pengiriman")?(r(),u(g(de),{key:3,to:"/pengiriman"},{default:l(()=>[n(_,{"prepend-icon":"mdi-send-variant",class:"text-caption text-dark",active:t.pageTitle=="PENGIRIMAN BARANG",onClick:a[4]||(a[4]=f=>t.pageTitle="PENGIRIMAN BARANG")},{default:l(()=>[d(" Pengiriman Barang ")]),_:1},8,["active"])]),_:1})):h("",!0),n(_,{id:"laporan","prepend-icon":"mdi-folder-outline",class:"text-caption text-dark",active:e.laporan(),value:"laporan",onClick:a[5]||(a[5]=f=>t.pageTitle="LAPORAN")},{default:l(()=>[d(" Laporan ")]),_:1},8,["active"]),n(v,{activator:g(w).routes(t.aut,"Laporan")?"#laporan":null,location:"end",width:"200"},{default:l(()=>[n(D,{class:"text-caption",density:"compact",elevation:"3",rounded:"0"},{default:l(()=>[g(w).routes(t.aut,"Laporan Stok Barang")?(r(),u(g(de),{key:0,to:"/laporan-stok"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Laporan Stok Barang")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Laporan Pembelian")?(r(),u(g(de),{key:1,to:"/laporan-pemasukan"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Laporan Pemasukan")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Laporan Penjualan")?(r(),u(g(de),{key:2,to:"/laporan-pengeluaran"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Laporan Pengeluaran")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Laporan Pengiriman")?(r(),u(g(de),{key:3,to:"/laporan-pengiriman"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Laporan Pengiriman")]),_:1})]),_:1})):h("",!0),g(w).routes(t.aut,"Laporan Log User")?(r(),u(g(de),{key:4,to:"/laporan-log"},{default:l(()=>[n(_,{class:"text-dark"},{default:l(()=>[d("Laporan Log User")]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1},8,["activator"])]),_:1})]),_:1})]),_:1})}}});function ie({next:t,router:e}){return localStorage.getItem("token")==null||localStorage.getItem("token")==null?(localStorage.removeItem("token"),localStorage.removeItem("user"),e.push({path:"/login"})):t()}const k={day(){return new Date().toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleDateString("id",e);return t!=""?a:""},formatDateTime(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleTimeString("id",{timeStyle:"short"}),i=new Date(t).toLocaleDateString("id",e);return t!=""?i+" "+a:""},tglawal(){let t=new Date;return t.setDate(t.getDate()-7),t.toJSON().slice(0,10)},getTime(){return new Date().toLocaleTimeString("id",{timeStyle:"short"})},numb(t,e,a){return a?(t/1).toFixed(e).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},numb2(t){return(t/1).toFixed(0).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},generatePDF(t,e,a){const i=new at({orientation:"portrait",unit:"in",format:"letter"});let o=t,m=e;i.setFontSize(16).text(o,.5,1),i.autoTable({columns:m,body:a,margin:{left:.5,top:1.25}}).save(`${t}.pdf`)},ExportToExcel(t,e,a,i){var o=document.getElementById("tbl_exporttable_to_xls"),m=XLSX.utils.table_to_book(o,{sheet:"sheet1"});return i?XLSX.write(m,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(m,a||e+"."+t)},print(t,e,a,i){if(t=="xlsx")return this.ExportToExcel("xlsx",e);if(t=="pdf")return this.generatePDF(e,a,i)},filterObject(t,e){return t.filter(a=>a.nama.toLowerCase().includes(e.toLowerCase()))},datafilter(t,e){if(t=e,t){if(t==[])return t=[]}else return t=[]},uppercase(t){return t.toUpperCase()},removeDuplicate(t){let e=[];return t.forEach(a=>{e.includes(a)||e.push(a)}),e}},Ot=["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],Rt=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{key:"actions",align:"end",sortable:!1}],Ht=["kategori_barang","kode_barang","nama_barang","hs_code","satuan","status"],It=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.kategori_barang)),Et=(t,e,a)=>{for(let i=0;i<e.length;i++)if(t==e[i].kode_barang){if(a=="k")return e[i].kategori_barang;if(a=="nm")return e[i].nama_barang;if(a=="hc")return e[i].hs_code;if(a=="s")return e[i].satuan}},Jt=t=>{let e=[];for(let a=0;a<t.length;a++)e.push({index:a,kategori_barang:t[a].kategori_barang,kode_barang:t[a].kode_barang,nama_barang:t[a].nama_barang,hs_code:t[a].hs_code,satuan:t[a].satuan,status:t[a].status});return e},Ft=t=>{let e=[];for(let a=0;a<t.length;a++)e.push(t[a].kode_barang);return e},Gt=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].kode_barang==t&&a.push(e[i].stok_akhir);return k.numb(a.reduce((i,o)=>i+o,0))},qt=t=>t.map(a=>({kategori_barang:a.kategori_barang,kode_barang:a.kode_barang,nama_barang:a.nama_barang,hs_code:a.hs_code,satuan:a.satuan})),oe={category:Ot,headers:Rt,keyform:Ht,selected:It,slotitem:Et,sumStok:Gt,barang:qt,item:Jt,kodebarang:Ft},Y=(t,e)=>{const a=t.__vccOpts||t;for(const[i,o]of e)a[i]=o;return a},zt={components:{},props:["icon"],data(){return{}}};function Mt(t,e,a,i,o,m){const p=s("v-icon"),_=s("v-btn");return r(),u(_,{variant:"text",color:"grey-darken-2",size:"small",icon:""},{default:l(()=>[n(p,null,{default:l(()=>[d(y(a.icon),1)]),_:1})]),_:1})}const Z=Y(zt,[["render",Mt]]),Yt=[{title:"Tanggal",key:"tanggal"},{title:"Username",key:"username"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"}],Wt=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],Qt=t=>t.filter((a,i)=>i===t.findIndex(o=>a.kode_barang===o.kode_barang)),Xt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_barang==e[o].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[o].kode_group,stok_akhir:oe.sumStok(t[i].kode_barang,e)});return a},Zt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_barang==e[o].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[o].kode_group,stok_akhir:e[o].stok_akhir});return a},xt=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].kode_barang==e&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:t[i].kode_group,stok_akhir:k.numb(t[i].stok_akhir,2,!0)});return a},ea=(t,e,a)=>{let i=[];for(let o=0;o<a.length;o++)a[o].kode_group==t&&a[o].kode_barang==e&&i.push({tanggal:a[o].tanggal,kode_group:a[o].kode_group,kode_barang:a[o].kode_barang,kategori:a[o].kategori,keterangan:a[o].keterangan,stok_awal:k.numb(a[o].stok_awal,2,!0),stok_masuk:k.numb(a[o].stok_masuk,2,!0),stok_keluar:k.numb(a[o].stok_keluar,2,!0),stok_akhir:k.numb(a[o].stok_akhir,2,!0)});return i},be={headLogUser:Yt,headStokBarang:Wt,stokBarang:Xt,noDuplicate:Qt,detail:Zt,subDetail:xt,log:ea},ta={components:{VDataTable:ge,TextButton:Z},props:["kode_group","barang","kode_barang","detail","groupbarang","logbrg"],data(){return{dialog:!1,dialogbrg:[],log_brg:"",authority:"",headers:[{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],subheaders:[{title:"Tanggal",key:"tanggal"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"},{title:"Stok Awal",key:"stok_awal"},{title:"Stok Masuk",key:"stok_masuk"},{title:"Stok Keluar",key:"stok_keluar"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}]}},computed:{},methods:{},mounted(){}},Qe=Object.assign(ta,{__name:"LogBarang",setup(t){return(e,a)=>{const i=s("v-toolbar-title"),o=s("v-spacer"),m=s("v-toolbar"),p=s("v-sheet"),_=s("v-card"),D=s("v-dialog");return r(),u(D,{modelValue:e.dialog,"onUpdate:modelValue":a[1]||(a[1]=v=>e.dialog=v),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:v})=>[n(Z,M(v,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(_,null,{default:l(()=>[n(m,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Z,{onClick:a[0]||(a[0]=v=>e.dialog=!1),icon:"mdi-close",color:"white"}),n(i,{class:"text-button"},{default:l(()=>[d("DETAIL STOK BARANG")]),_:1}),n(o)]),_:1}),n(p,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(g(ge),{"items-per-page":"10",headers:e.headers,items:t.detail,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.actions":l(({item:v,index:b})=>[n(Z,{onClick:P=>e.dialogbrg[b]=!0,icon:"mdi-dots-vertical"},null,8,["onClick"]),n(D,{modelValue:e.dialogbrg[b],"onUpdate:modelValue":P=>e.dialogbrg[b]=P,scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{default:l(()=>[n(m,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Z,{onClick:P=>e.dialogbrg[b]=!1,icon:"mdi-close",color:"white"},null,8,["onClick"]),n(i,{class:"text-button"},{default:l(()=>[d("DETAIL LOG BARANG")]),_:1}),n(o)]),_:2},1024),n(_,null,{default:l(()=>[n(p,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(g(ge),{"items-per-page":"10",headers:e.subheaders,items:g(be).log(v.raw.kode_group,v.raw.kode_barang,t.logbrg),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.tanggal":l(({item:P})=>[d(y(g(k).formatDate(P.raw.tanggal)),1)]),_:2},1032,["headers","items","search","height"])]),_:2},1032,["height"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","search","height"])]),_:1},8,["height"])]),_:1})]),_:1},8,["modelValue"])}}}),aa={components:{},props:["btn_title"],data(){return{}}};function na(t,e,a,i,o,m){const p=s("v-btn");return r(),u(p,{class:"elevation-0 text-caption px-5",variant:"tonal",height:"42","min-width":"100"},{default:l(()=>[d(y(a.btn_title),1)]),_:1})}const E=Y(aa,[["render",na]]),la={components:{},props:["btn_title","icon"],data(){return{}}};function ia(t,e,a,i,o,m){const p=s("v-span"),_=s("v-btn");return r(),u(_,{class:"elevation-0 text-caption px-5 text-white rounded",color:"blue-custom",height:"42",width:"137","prepend-icon":a.icon},{default:l(()=>[n(p,{class:"text-wrap"},{default:l(()=>[d(y(a.btn_title),1)]),_:1})]),_:1},8,["prepend-icon"])}const x=Y(la,[["render",ia]]),sa={components:{},props:["btn_title"],data(){return{}}};function oa(t,e,a,i,o,m){const p=s("v-btn");return r(),u(p,{class:"elevation-0 text-white text-caption px-5",color:"orange-lighten-1",height:"42","min-width":"100"},{default:l(()=>[d(y(a.btn_title),1)]),_:1})}const J=Y(sa,[["render",oa]]),ra={components:{},props:["label","rules","disabled","hideDetails","type","value"],data(){return{}}};function ua(t,e,a,i,o,m){const p=s("v-text-field");return r(),u(p,{type:a.type,label:a.label,variant:"outlined",density:"compact",class:"mb-3",rules:a.rules,"hide-details":"",disabled:a.disabled},null,8,["type","label","rules","disabled"])}const C=Y(ra,[["render",ua]]),da={components:{},props:["toolbar_title"],data(){return{}}};function ma(t,e,a,i,o,m){const p=s("v-span"),_=s("v-toolbar"),D=s("v-divider");return r(),K(R,null,[n(_,{class:"bg-transparent"},{default:l(()=>[n(p,{class:"text-button w-100 text-center font-weight-bold text-orange"},{default:l(()=>[d(y(a.toolbar_title),1)]),_:1})]),_:1}),n(D)],64)}const ga=Y(da,[["render",ma]]),pa={components:{},data(){return{}}};function ha(t,e,a,i,o,m){const p=s("v-icon"),_=s("v-btn");return r(),u(_,{size:"small",variant:"text",icon:""},{default:l(()=>[n(p,{size:"20",color:"blue-custom"},{default:l(()=>[d("mdi-dots-vertical")]),_:1})]),_:1})}const Xe=Y(pa,[["render",ha]]),ca={components:{btnOption:Xe,textButton:Z},props:["icon","items","variant","submenu","index","otority"],data(){return{}},methods:{clicked(t){this.$emit("result",t,this.index)}}},Q=Object.assign(ca,{__name:"menuList",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-list-item"),m=s("v-list"),p=s("v-menu");return r(),u(p,null,{activator:l(({props:_})=>[t.submenu?h("",!0):(r(),u(Xe,pe(M({key:0},_)),null,16)),t.submenu?(r(),u(Z,M({key:1},_,{icon:t.icon}),null,16,["icon"])):h("",!0)]),default:l(()=>[n(m,null,{default:l(()=>[(r(!0),K(R,null,I(t.items,(_,D)=>(r(),u(o,{key:D,value:_.key,onClick:v=>e.clicked(_.key),density:"compact",class:"text-caption","prepend-icon":_.icon},{default:l(()=>[!t.submenu&&g(w).routes(t.otority,_.title)?(r(),u(i,{key:0},{default:l(()=>[d(y(_.title),1)]),_:2},1024)):h("",!0),t.submenu?(r(),u(i,{key:1},{default:l(()=>[d(y(_.title),1)]),_:2},1024)):h("",!0)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}}});const fa={components:{btnInfo:x,toolbarHeader:ga,textFieldForm:C,BtnOrange:J,BtnCancel:E,MenuList:Q,BtnInfo:x},props:["keyform","tambah","disabled","ishidden","master","hapus","headers","category","toolbar_title","alpha","view","item","form","noselect","intable"],data(){return{dialog:!1,edit:{},data:this.tambah,list:[{title:"Edit Data",icon:"mdi-pencil",key:"edit"},{title:"Hapus Data",icon:"mdi-delete",key:"hapus"}],valid:!0,required:[t=>t?!0:"harus diisi !"]}},computed:{},methods:{menuAksi(t){t=="edit"&&(this.dialog=!0)},submit(t){this.item==null?this.$emit("form",t):this.$emit("edit",t),this.dialog=!1},del(t){this.$emit("del",t)},async validate(){const{valid:t}=await this.$refs.form.validate();let e={};if(t)return this.item==null?e=this.data:e=this.item,this.submit(e)}},mounted(){}};function ka(t,e,a,i,o,m){const p=s("btn-info"),_=s("toolbar-header"),D=s("text-field-form"),v=s("v-list-item-title"),b=s("v-list-item"),P=s("v-list"),f=s("v-menu"),B=s("v-div"),A=s("v-for"),T=s("v-container"),j=s("v-divider"),U=s("btn-cancel"),N=s("btn-orange"),F=s("v-form"),z=s("v-card"),le=s("v-dialog");return r(),u(le,{modelValue:o.dialog,"onUpdate:modelValue":e[4]||(e[4]=L=>o.dialog=L),scrim:!1,transition:"dialog-bottom-transition",width:"370","max-width":"400"},{activator:l(({props:L})=>[a.intable?h("",!0):(r(),u(p,M({key:0},L,{icon:"mdi-plus",btn_title:"Tambah Baru"}),null,16))]),default:l(()=>[n(z,{class:"rounded-xl"},{default:l(()=>[n(F,{onSubmit:e[3]||(e[3]=Ve(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(_,{toolbar_title:a.toolbar_title},null,8,["toolbar_title"]),n(T,{class:"mt-5 w-75"},{default:l(()=>[a.noselect?h("",!0):(r(),u(B,{key:0},{default:l(()=>[this.item==null?(r(),u(D,{key:0,id:"tambah",label:a.headers[0].title,modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[0]||(e[0]=L=>o.data[a.keyform[0]]=L),readonly:"",rules:o.required},null,8,["label","modelValue","rules"])):h("",!0),n(f,{activator:"#tambah",class:"elevation-0"},{default:l(()=>[n(P,null,{default:l(()=>[(r(!0),K(R,null,I(a.category.slice(this.alpha,a.category.length),(L,c)=>(r(),u(b,{key:c,density:"compact"},{default:l(()=>[n(v,{onClick:S=>o.data[a.keyform[0]]=L,class:"text-caption"},{default:l(()=>[d(y(L),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),a.item!=null?(r(),u(D,{key:1,id:"tipe",label:a.headers[0].title,"model-value":a.item[a.keyform[0]],readonly:"",rules:o.required},null,8,["label","model-value","rules"])):h("",!0),n(f,{activator:"#tipe",class:"elevation-0"},{default:l(()=>[n(P,null,{default:l(()=>[(r(!0),K(R,null,I(a.category.slice(this.alpha,a.category.length),(L,c)=>(r(),u(b,{key:c,density:"compact"},{default:l(()=>[n(v,{onClick:S=>a.item[a.keyform[0]]=L,class:"text-caption"},{default:l(()=>[d(y(L),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})),a.noselect?(r(),u(B,{key:1},{default:l(()=>[this.item==null?(r(),u(D,{key:0,label:a.headers[0].title,modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[1]||(e[1]=L=>o.data[a.keyform[0]]=L),rules:o.required},null,8,["label","modelValue","rules"])):h("",!0),this.item!=null?(r(),u(D,{key:1,label:a.headers[0].title,"model-value":a.item[a.keyform[0]],readonly:a.headers[0].dis,rules:o.required},null,8,["label","model-value","readonly","rules"])):h("",!0)]),_:1})):h("",!0),(r(!0),K(R,null,I(a.headers.slice(1,a.headers.length-1),(L,c)=>(r(),u(A,{key:c},{default:l(()=>[this.item==null?(r(),u(D,{key:0,label:L.title,modelValue:o.data[a.keyform[c+1]],"onUpdate:modelValue":S=>o.data[a.keyform[c+1]]=S,rules:o.required},null,8,["label","modelValue","onUpdate:modelValue","rules"])):h("",!0),this.item!=null?(r(),u(D,{key:1,label:L.title,"model-value":a.item[a.keyform[c+1]],readonly:a.headers[c+1].dis,rules:o.required},null,8,["label","model-value","readonly","rules"])):h("",!0)]),_:2},1024))),128))]),_:1}),n(j),a.view?h("",!0):(r(),u(B,{key:0,class:"d-flex align-center float-end ma-5"},{default:l(()=>[o.edit?h("",!0):(r(),u(U,{key:0,onClick:e[2]||(e[2]=L=>(o.data="",o.dialog=!1)),btn_title:"Batal"})),_e(t.$slots,"cancel"),n(N,{type:"submit",onClick:m.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:3}))]),_:3},512)]),_:3})]),_:3},8,["modelValue"])}const De=Y(fa,[["render",ka]]),ba="/assets/confirm-2fdee6a6.png",_a={props:["object","item","mess"],data(){return{}},computed:{message(){return this.item.hs_code?this.item.kode_barang:this.item.kode_konversi?this.item.kode_konversi:this.item.kode_pelanggan?this.item.kode_pelanggan:this.item.no_penjualan?this.item.no_penjualan:this.item.no_pengiriman?this.item.no_pengiriman:this.item.no_produksi?this.item.no_produksi:this.item.username?this.item.username:this.item}}},va=$("img",{src:ba,style:{width:"100px"},class:"animate_animated animate__bounceIn animate__delay-2s"},null,-1);function ya(t,e,a,i,o,m){const p=s("v-sheet"),_=s("v-card-title"),D=s("v-span"),v=s("v-divider"),b=s("v-div"),P=s("v-card"),f=s("v-dialog");return r(),u(f,{transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(P,{class:"rounded-xl"},{default:l(()=>[n(p,{class:"mx-auto mt-7"},{default:l(()=>[va]),_:1}),n(_,{class:"text-center mt-5 text-body-1"},{default:l(()=>[d("Apakah Anda Yakin ?")]),_:1}),n(D,{class:"text-center mb-7 text-caption"},{default:l(()=>[d("Anda Akan "+y(a.mess+" "+m.message),1)]),_:1}),n(v),n(b,{class:"d-flex mt-3 mb-5 me-5 ms-auto"},{default:l(()=>[_e(t.$slots,"cancelButton"),_e(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const fe=Y(_a,[["render",ya]]),wa={components:{},props:["icon","btn_title","placeholder"],data(){return{}}};function ja(t,e,a,i,o,m){const p=s("v-text-field");return r(),u(p,{density:"compact",variant:"text",class:"text-blue-custom rounded border-sm text-caption","prepend-inner-icon":"mdi-magnify",placeholder:a.placeholder,"single-line":"","hide-details":"",style:{height:"42px","min-width":"200px !important"}},null,8,["placeholder"])}const q=Y(wa,[["render",ja]]),Va={components:{textFieldForm:C},name:"currencyInput",props:{modelValue:Number,options:Object,label:String},setup(t){const{inputRef:e}=nt(t.options);return{inputRef:e}}};function Da(t,e,a,i,o,m){const p=s("text-field-form");return r(),u(p,{label:a.label,ref:"inputRef","model-value":a.modelValue},null,8,["label","model-value"])}const ae=Y(Va,[["render",Da]]),Ba="/assets/sukses-70259593.gif",Pa="/assets/gagal-5f734029.jpg",Ta="/assets/warning-21a26b5d.png",Sa={props:["sukses","message","status"],data(){return{}},mounted(){}},Ua=$("img",{src:Ba,style:{width:"100px"}},null,-1),Ca=$("img",{src:Pa,class:"animate__animated animate__bounceIn mt-3",style:{width:"90px"}},null,-1),$a=$("img",{src:Ta,class:"animate__animated animate__bounceIn mt-3",style:{width:"90px"}},null,-1);function La(t,e,a,i,o,m){const p=s("v-if"),_=s("v-sheet"),D=s("v-span"),v=s("v-div"),b=s("v-card"),P=s("v-dialog");return r(),u(P,{"close-delay":1e3,transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(b,{class:"rounded-xl pb-3",height:"220"},{default:l(()=>[n(_,{class:"mx-auto mt-3"},{default:l(()=>[a.sukses===!0?(r(),u(p,{key:0},{default:l(()=>[Ua]),_:1})):h("",!0),a.sukses===!1&&!a.status?(r(),u(p,{key:1},{default:l(()=>[Ca]),_:1})):h("",!0),a.status==="warn"?(r(),u(p,{key:2},{default:l(()=>[$a]),_:1})):h("",!0)]),_:1}),a.sukses===!0?(r(),u(D,{key:0,class:"text-center text-button text-green"},{default:l(()=>[d("Berhasil!")]),_:1})):h("",!0),a.sukses===!1&&!a.status?(r(),u(D,{key:1,class:"text-center text-button text-red"},{default:l(()=>[d("Gagal!")]),_:1})):h("",!0),a.status==="warn"?(r(),u(D,{key:2,class:"text-center text-button text-orange-darken-2"},{default:l(()=>[d("Gagal!")]),_:1})):h("",!0),a.sukses===!0?(r(),u(D,{key:3,class:"text-center text-caption text-green-lighten-1"},{default:l(()=>[d(y(a.message),1)]),_:1})):h("",!0),a.sukses===!1&&!a.status?(r(),u(D,{key:4,class:"text-center text-caption text-red-lighten-1"},{default:l(()=>[d(y(a.message),1)]),_:1})):h("",!0),a.status==="warn"?(r(),u(D,{key:5,class:"text-center text-caption text-orange-darken-2"},{default:l(()=>[d(y(a.message),1)]),_:1})):h("",!0),n(v,{class:"d-flex w-50 mx-auto justify-space-between mb-3"},{default:l(()=>[_e(t.$slots,"cancelButton"),_e(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const ee=Y(Sa,[["render",La]]),Na={components:{btnInfo:x},props:["window","label","objectFilter","button","btn_title","cardTitle","rules"],data(){return{dialog:!1,searchModel:"",search:"",pilih:"",more:0}},methods:{result(t){this.dialog=!1,this.$emit("pilihObjek",t)},lainnya(){let t=this.more+10;this.more=t}},mounted(){}},Se=Object.assign(Na,{__name:"dialogSearch",setup(t){return(e,a)=>{const i=s("v-btn"),o=s("v-card-title"),m=s("v-list-item"),p=s("v-div"),_=s("v-divider"),D=s("v-list"),v=s("v-card"),b=s("v-dialog");return r(),u(b,{modelValue:e.dialog,"onUpdate:modelValue":a[5]||(a[5]=P=>e.dialog=P),transition:"dialog-bottom-transition",width:"auto"},{activator:l(({props:P})=>[t.button?h("",!0):(r(),u(C,M({key:0},P,{label:t.label,modelValue:e.pilih,"onUpdate:modelValue":a[0]||(a[0]=f=>e.pilih=f),onClick:a[1]||(a[1]=f=>e.more=15),readonly:"",rules:t.rules}),null,16,["label","modelValue","rules"])),t.button?(r(),u(x,M({key:1},P,{icon:"mdi-plus",btn_title:t.btn_title}),null,16,["btn_title"])):h("",!0)]),default:l(()=>[n(v,{class:"py-5 px-7 rounded-xl vh-100 mx-auto","min-width":"300",width:"400","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(i,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[2]||(a[2]=P=>e.dialog=!1)})):h("",!0),n(o,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d(y(t.cardTitle),1)]),_:1}),n(q,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=P=>e.search=P),label:"Search",class:"mb-4"},null,8,["modelValue"]),n(D,{class:"vh-100"},{default:l(()=>[n(p,null,{default:l(()=>[(r(!0),K(R,null,I(g(k).filterObject(t.objectFilter,e.search).slice(0,e.more),(P,f)=>(r(),u(m,{key:f,class:"text-caption",density:"compact",onClick:B=>(e.result(P),e.pilih=P.nama)},{default:l(()=>[d(y(P.nama),1)]),_:2},1032,["onClick"]))),128))]),_:1}),g(k).filterObject(t.objectFilter,e.search).length>e.more?(r(),u(p,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(_,{length:"50"}),n(i,{onClick:a[4]||(a[4]=P=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[d("lihat lainnya")]),_:1}),n(_,{length:"50"})]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Aa={components:{btnInfo:x,BtnCancel:E,BtnOrange:J,TextField:q,CurrencyInput:ae,TextFieldForm:C,AlertVue:ee,dialogSearch:Se},props:["hiddenbtn","btn","itemDetail","pemasukan","nokirim","belumkirim","kodegroup","belumkirim_detail","blmkirim","penjualan","pengeluaran","pengiriman","produksi","barang","tambah","inputbahan","pembeliandetl","getbarang","kurs","dialog_title","pjl_blmterkirm","window","group_detail","inptbarang","bahanbaku","getKonversi"],data(){return{search:"",dialog:!1,valert:!1,konversi:null,status:"",more:15,split:0,moretext:"lihat lainnya",btnmore:!1,kodebahan:"",message:"",dialogchild:[],newbarang:this.barang,newproduksi:this.getbarang,groupbarang:"",bahan:this.inputbahan,dialItem:"",pjl:"",res:"",total:"",pemasukan_item:[],penjualan_detail:{jumlah:0,nilai:"",harga_jual:"",jumlah_konversi:0}}},setup(){const t={kode_barang:"",kode_konversi:"",nama_barang:"",nama_konversi:"",persentase:0,hs_code:"",jumlah:0,jumlah_konversi:0,jumlah_diterima:0,satuan:"",satuan_konversi:"",nilai:"",no_urut:"",status:"",harga_jual:""},e=lt({...t}),i=it({kode_barang:{required:we},nama_barang:{required:we},hs_code:{required:we},jumlah:{required:we},jumlah_diterima:{required:we},satuan:{required:we},nilai:{required:we},no_urut:{required:we},harga_jual:{required:we}},e);function o(){i.value.$reset();for(const[m,p]of Object.entries(t))e[m]=p}return{state:e,clear:o,v$:i}},computed:{terjual(){return this.penjualan_detail.jumlah*this.penjualan_detail.harga_jual},filteredItems(){return!this.tambah&&!this.blmkirim?this.search!=""?this.searchBarang(this.barang):this.barang:this.blmkirim&&!this.tambah?this.search!=""?this.searchObj(this.pjl_blmterkirm):this.pjl_blmterkirm:this.produksi&&this.konversi?this.search!=""?this.searchBarang(this.getKonversi):this.getKonversi:this.search!=""?this.searchBarang(this.getbarang):this.getbarang}},methods:{lainnya(){let t=this.more+10;this.more=t},stok_detail(t){for(let e=0;e<this.group_detail.length;e++)if(this.group_detail[e].kode_barang==t)return this.group_detail[e].stok_akhir},searchBarang(t){let e={};return this.konversi?(e=t.filter(a=>a.kode_konversi.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.nama_konversi.toLowerCase().includes(this.search.toLowerCase())))):(e=t.filter(a=>a.kode_barang.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.nama_barang.toLowerCase().includes(this.search.toLowerCase())))),e},searchObj(t){let e={};return e=t.filter(a=>a.no_dokumen.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.nama_barang.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.no_penjualan.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.kode_group.toLowerCase().includes(this.search.toLowerCase())),e==""&&(e=t.filter(a=>a.tipe_dokumen.toLowerCase().includes(this.search.toLowerCase())))))),e},stok(t,e){for(let a=0;a<this.groupbarang.length;a++)if(this.groupbarang[a].kode_group==t&&this.groupbarang[a].kode_barang==e)return k.numb2(this.groupbarang[a].stok_akhir)},min(t,e){let a=t-e;return k.numb2(a)},async api(){return new Promise(t=>{setTimeout(()=>{t(Array.from({length:10},(e,a)=>a+this.filteredItems.value.at(-1)+1))},1e3)})},async load({done:t}){const e=await this.api();this.filteredItems.push(...e),t("ok")},barangKonversi(t){this.state.kode_konversi=t.kode_konversi,this.state.nama_konversi=t.nama,this.state.satuan_konversi=t.satuan_konversi},pemasukanItem(t,e){if(this.state.hs_code=t.hs_code,this.state.satuan=t.satuan,this.pengiriman){for(let a=0;a<this.groupbarang.length;a++)for(let i=0;i<this.pjl_blmterkirm.length;i++)if(this.groupbarang[a].kode_group==this.pjl_blmterkirm[i].kode_group)for(let o=0;o<this.belumkirim_detail.length;o++)this.groupbarang[a].kode_barang==this.belumkirim_detail[o].kode_barang&&this.groupbarang[a].nilai_akhir/this.groupbarang[a].stok_akhir}if(this.pemasukan)if(this.check(t),this.res){this.pemasukan_item.push({no_pembelian:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.state.jumlah,jumlah_diterima:this.state.jumlah_diterima,satuan:this.state.satuan,nilai:this.state.nilai,persentase:this.state.persentase,no_urut:""});let a=[];for(let o=0;o<this.pemasukan_item.length;o++)a.push(this.pemasukan_item[o].nilai);let i=a.reduce((o,m)=>o+m);this.total=i*this.kurs,this.dialog=!1,this.dialogchild[e]=!1}else this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0;else if(this.produksi)if(this.check(t),this.inptbarang||this.penjualan_detail.jumlah<=this.stok_detail(t.kode_barang))if(this.res){for(let o=0;o<this.groupbarang.length;o++)this.groupbarang[o].kode_group==this.kodegroup&&this.groupbarang[o].kode_barang==t.kode_barang&&this.groupbarang[o].nilai_akhir/this.groupbarang[o].stok_akhir;this.kodebahan=t.kode_barang;let a="",i=0;this.konversi?(a=t.kode_konversi,i=0):(a=this.state.kode_konversi,i=this.penjualan_detail.jumlah),this.pemasukan_item.push({no_produksi:"",kode_group:t.kode_group,kode_barang:t.kode_barang,kode_konversi:a,nama_barang:this.state.nama_barang,nama_konversi:this.state.nama_konversi,hs_code:this.state.hs_code,jumlah:i,jumlah_konversi:this.penjualan_detail.jumlah_konversi,satuan:this.state.satuan,satuan_konversi:t.satuan_konversi,no_urut:"",konversi:a!=""}),this.dialog=!1,this.dialogchild[e]=!1}else this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0;else this.dialogchild[e]=!0,this.status="warn",this.message="Jumlah melebihi stok",this.valert=!0;else this.pengeluaran?(this.check(t),this.res?(this.pemasukan_item.push({no_penjualan:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_terkirim:0,satuan:this.state.satuan,harga_jual:this.penjualan_detail.harga_jual,total_terjual:this.terjual,no_urut:""}),this.dialog=!1,this.dialogchild[e]=!1):(this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0)):this.pengiriman&&(this.check(t),this.penjualan_detail.jumlah<=t.jumlah-t.jumlah_terkirim?this.res?(this.pemasukan_item.push({no_penjualan:t.no_penjualan,no_pengiriman:this.nokirim,kode_barang:t.kode_barang,nama_barang:t.nama_barang,kode_group:t.kode_group,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,kode_konversi:this.state.kode_konversi,nama_konversi:this.state.nama_konversi,jumlah_konversi:this.penjualan_detail.jumlah_konversi,satuan_konversi:this.state.satuan_konversi,jumlah_terkirim:this.penjualan_detail.jumlah_terkirim,jumlah_blmterkirim:t.jumlah-t.jumlah_terkirim,satuan:this.state.satuan,no_urut:"",konversi:this.state.kode_konversi!=""}),this.dialog=!1,this.dialogchild[e]=!1):(this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0):(this.dialogchild[e]=!0,this.status="warn",this.message="Jumlah melebihi sisa penjualan",this.valert=!0));this.check(t),this.$emit("pemasukanitem",this.pemasukan_item,this.total),this.clear(),this.penjualan_detail={jumlah:"",nilai:"",harga_jual:"",jumlah_konversi:0,satuan_konversi:""}},check(t){if(!this.pengiriman&&!this.produksi){if(this.pemasukan_item=="")this.res=!0;else if(this.pemasukan_item!="")for(let e=0;e<this.pemasukan_item.length;e++)if(t.kode_barang==this.pemasukan_item[e].kode_barang){this.res=!1;break}else t.kode_barang!=this.pemasukan_item[e].kode_barang&&(this.res=!0)}else if(this.pengiriman){if(this.pemasukan_item=="")this.res=!0;else if(this.pemasukan_item!="")for(let e=0;e<this.pemasukan_item.length;e++)if(t.no_dokumen==this.pemasukan_item[e].no_dokumen){if(t.kode_group==this.pemasukan_item[e].kode_group){if(!this.konversi)if(t.kode_barang==this.pemasukan_item[e].kode_barang)if(this.pemasukan_item[e].kode_konversi==""){this.res=!1;break}else this.res=!0;else this.res=!0;if(this.konversi)if(this.state.kode_konversi==this.pemasukan_item[e].kode_konversi){this.res=!1;break}else this.res=!0;else this.res=!0}}else t.no_dokumen!=this.pemasukan_item[e].no_dokumen&&(this.res=!0)}else if(this.produksi&&!this.bahanbaku){if(this.pemasukan_item=="")this.res=!0;else if(this.pemasukan_item!="")for(let e=0;e<this.pemasukan_item.length;e++)if(t.kode_group==this.pemasukan_item[e].kode_group){if(!this.konversi)if(t.kode_barang==this.pemasukan_item[e].kode_barang)if(this.pemasukan_item[e].kode_konversi==""){this.res=!1;break}else this.res=!0;else this.res=!0;if(this.konversi)if(t.kode_konversi==this.pemasukan_item[e].kode_konversi){this.res=!1;break}else this.res=!0}else this.res=!0}},pro(t,e){this.bahanbaku?(this.kodebahan=t,this.$emit("pemasukanitem",this.kodebahan)):this.dialogchild[e]=!0}},async mounted(){this.groupbarang=await V.getGroupBarang(),this.bahan}},Ka=$("br",null,null,-1),Oa=$("br",null,null,-1),Ra=$("br",null,null,-1);function Ha(t,e,a,i,o,m){const p=s("btn-info"),_=s("v-btn"),D=s("v-card-title"),v=s("text-field"),b=s("v-div"),P=s("v-span"),f=s("v-list-item"),B=s("v-spacer"),A=s("v-divider"),T=s("dialogSearch"),j=s("currency-input"),U=s("text-field-form"),N=s("btn-cancel"),F=s("btn-orange"),z=s("v-card"),le=s("v-dialog"),L=s("v-list"),c=s("alertVue");return r(),u(le,{modelValue:o.dialog,"onUpdate:modelValue":e[15]||(e[15]=S=>o.dialog=S),transition:"dialog-bottom-transition"},{activator:l(({props:S})=>[a.bahanbaku?h("",!0):(r(),u(p,M({key:0},S,{onClick:e[0]||(e[0]=H=>(o.more=15,o.konversi=!1)),btn_title:"Tambah Barang",class:"me-3"}),null,16)),!a.bahanbaku&&a.produksi||a.pengiriman?(r(),u(p,M({key:1},S,{onClick:e[1]||(e[1]=H=>(o.more=15,o.konversi=!0)),btn_title:"Tambah Konversi Barang"}),null,16)):h("",!0)]),default:l(()=>[n(z,{class:"py-5 px-7 rounded-xl vh-100","min-width":"300","max-width":"400"},{default:l(()=>[a.window<500?(r(),u(_,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:e[2]||(e[2]=S=>o.dialog=!1)})):h("",!0),n(D,{class:"text-center text-orange text-button font-weight-bold mb-3 px-12"},{default:l(()=>[d(y(a.dialog_title),1)]),_:1}),n(b,null,{default:l(()=>[n(v,{id:"input",modelValue:o.search,"onUpdate:modelValue":e[3]||(e[3]=S=>o.search=S),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(L,{class:"me-2"},{default:l(()=>[(r(!0),K(R,null,I(m.filteredItems.slice(0,o.more),(S,H)=>(r(),u(b,{key:S},{default:l(()=>[!a.blmkirim&&o.konversi?(r(),u(f,{key:0,class:"text-caption",density:"compact",onClick:W=>{m.pro(S.kode_konversi,H),i.state.nama_konversi=S.nama_konversi}},{default:l(()=>[n(b,{class:"d-flex justify-space-between text-caption"},{default:l(()=>[n(P,null,{default:l(()=>[d(y(S.nama_konversi),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])):h("",!0),!a.blmkirim&&!o.konversi?(r(),u(f,{key:1,class:"text-caption",density:"compact",onClick:W=>{m.pro(S.kode_barang,H),i.state.nama_barang=S.nama_barang}},{default:l(()=>[n(b,{class:"d-flex justify-space-between text-caption"},{default:l(()=>[n(P,null,{default:l(()=>[d(y(S.nama_barang),1)]),_:2},1024),a.inptbarang?h("",!0):(r(),u(P,{key:0},{default:l(()=>[d(y(m.stok_detail(S.kode_barang)),1)]),_:2},1024)),a.inptbarang?(r(),u(P,{key:1},{default:l(()=>[d(y(S.kode_barang),1)]),_:2},1024)):h("",!0)]),_:2},1024)]),_:2},1032,["onClick"])):h("",!0),a.blmkirim?(r(),u(f,{key:2,onClick:W=>o.dialogchild[H]=!0,class:"text-caption",density:"compact"},{default:l(()=>[n(b,{class:"d-flex"},{default:l(()=>[n(b,null,{default:l(()=>[n(P,{class:"font-weight-medium"},{default:l(()=>[d(y(S.tipe_dokumen)+"-"+y(S.no_dokumen),1)]),_:2},1024),Ka,n(P,{class:"text-small"},{default:l(()=>[d(y(S.nama_barang)+" ("+y(S.kode_group)+") ",1),Oa,d(" Jumlah belum terkirim: "+y(m.min(S.jumlah,S.jumlah_terkirim))+" ",1),Ra,d(" Stok barang: "+y(m.stok(S.kode_group,S.kode_barang)),1)]),_:2},1024)]),_:2},1024),n(B),n(P,{class:"font-weight-medium"},{default:l(()=>[d(y(S.no_penjualan),1)]),_:2},1024)]),_:2},1024),n(A)]),_:2},1032,["onClick"])):h("",!0),a.bahanbaku?h("",!0):(r(),u(le,{key:3,onUpdate:o.dialogchild,persistent:!0,transition:"dialog-bottom-transition",width:"auto",modelValue:o.dialogchild[H],"onUpdate:modelValue":W=>o.dialogchild[H]=W},{default:l(()=>[n(z,{class:"py-5 mx-auto rounded-xl","min-width":"300","max-width":"375",width:"35vw"},{default:l(()=>[n(P,{class:"text-button text-orange text-center font-weight-bold"},{default:l(()=>[d(y(S.nama_barang),1)]),_:2},1024),n(P,{class:"text-caption text-center"},{default:l(()=>[d(y(S.kode_barang)+" - "+y(S.hs_code),1)]),_:2},1024),n(A,{class:"mt-3 mb-5"}),$("form",{onSubmit:e[12]||(e[12]=Ve((...W)=>t.submit&&t.submit(...W),["prevent"])),ref_for:!0,ref:"form",class:"mx-auto w-75 pt-2 bg-transparent"},[a.pengiriman&&o.konversi?(r(),u(T,{key:0,button:!1,label:"Kode Konversi",objectFilter:a.getKonversi,"card-title":"Barang Konversi",onPilihObjek:m.barangKonversi},null,8,["objectFilter","onPilihObjek"])):h("",!0),!a.pemasukan&&!o.konversi?(r(),u(j,{key:1,modelValue:o.penjualan_detail.jumlah,"onUpdate:modelValue":e[4]||(e[4]=W=>o.penjualan_detail.jumlah=W),label:"Jumlah (KG)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):h("",!0),!a.pemasukan&&o.konversi?(r(),u(j,{key:2,modelValue:o.penjualan_detail.jumlah_konversi,"onUpdate:modelValue":e[5]||(e[5]=W=>o.penjualan_detail.jumlah_konversi=W),label:"Jumlah (konversi)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):h("",!0),a.pengiriman&&o.konversi?(r(),u(U,{key:3,modelValue:i.state.satuan_konversi,"onUpdate:modelValue":e[6]||(e[6]=W=>i.state.satuan_konversi=W),label:"Satuan konversi",readonly:"","hide-details":!0},null,8,["modelValue"])):h("",!0),a.pemasukan?(r(),u(j,{key:4,modelValue:i.state.jumlah,"onUpdate:modelValue":e[7]||(e[7]=W=>i.state.jumlah=W),label:"Jumlah (KG)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):h("",!0),a.pemasukan?(r(),u(j,{key:5,modelValue:i.state.jumlah_diterima,"onUpdate:modelValue":e[8]||(e[8]=W=>i.state.jumlah_diterima=W),label:"Jumlah Diterima","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):h("",!0),a.pemasukan?(r(),u(j,{key:6,modelValue:i.state.nilai,"onUpdate:modelValue":e[9]||(e[9]=W=>i.state.nilai=W),label:"Nilai Total","hide-details":!0,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])):h("",!0),!a.tambah&&a.pengeluaran?(r(),u(j,{key:7,modelValue:o.penjualan_detail.harga_jual,"onUpdate:modelValue":e[10]||(e[10]=W=>o.penjualan_detail.harga_jual=W),label:"Harga","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):h("",!0),!a.tambah&&a.pengeluaran?(r(),u(j,{key:8,modelValue:m.terjual,"onUpdate:modelValue":e[11]||(e[11]=W=>m.terjual=W),label:"Total Harga","hide-details":!0,readonly:"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])):h("",!0)],544),n(A,{class:"mt-3"}),n(b,{class:"d-inline me-5 ms-auto mt-5"},{default:l(()=>[n(N,{onClick:W=>o.dialogchild[H]=!1,btn_title:"batal"},null,8,["onClick"]),n(F,{type:"submit",onClick:W=>m.pemasukanItem(S,H),btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"]))]),_:2},1024))),128)),m.filteredItems.length>o.more?(r(),u(b,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(A,{length:"50"}),n(_,{onClick:e[13]||(e[13]=S=>m.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[d("lihat lainnya")]),_:1}),n(A,{length:"50"})]),_:1})):h("",!0)]),_:1})]),_:1}),n(c,{modelValue:o.valert,"onUpdate:modelValue":e[14]||(e[14]=S=>o.valert=S),status:o.status,message:o.message},null,8,["modelValue","status","message"])]),_:1},8,["modelValue"])}const ve=Y(Aa,[["render",Ha]]);const Ia={components:{textFieldForm:C},props:["label","validated","rules","filter","tema"],data(){return{data:""}},created(){if(this.default)return this.data=this.default},methods:{},mounted(){this.def}},Ea=()=>({top:0,left:0}),G=Object.assign(Ia,{__name:"datePicker",setup(t){return(e,a)=>{const i=s("VueDatePicker");return r(),u(i,{dark:t.tema=="dark",class:"text-small","alt-position":Ea,clearable:!1,"format-locale":g(st),required:"",locale:"id",cancelText:"batal",selectText:"pilih",format:"PP","calendar-cell-class-name":"dp-custom-cell","menu-class-name":"dp-custom-menu","enable-time-picker":!1,modelValue:e.data,"onUpdate:modelValue":a[0]||(a[0]=o=>e.data=o)},Ye({_:2},[t.filter?void 0:{name:"trigger",fn:l(()=>[n(C,{readonly:"",label:t.label,"model-value":g(k).formatDate(e.data),rules:t.rules,hideDetails:""},null,8,["label","model-value","rules"])]),key:"0"}]),1032,["dark","format-locale","modelValue"])}}}),Ja={props:["icon","items"],data(){return{}},methods:{clicked(t){this.$emit("result",t)}}};function Fa(t,e,a,i,o,m){const p=s("v-list-item"),_=s("v-list"),D=s("v-menu");return r(),u(D,{transition:"slide-y-transition"},{default:l(()=>[n(_,null,{default:l(()=>[(r(!0),K(R,null,I(a.items,(v,b)=>(r(),u(p,{key:b,value:v.key,onClick:P=>m.clicked(v.key),density:"compact",class:"text-caption","prepend-icon":v.icon},{default:l(()=>[d(y(v.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}const Ze=Y(Ja,[["render",Fa]]);const Ga={components:{TextButton:Z,BtnInfo:x},props:["label","validated","rules","master","btn_title"],data(){return{data:""}},computed:{},methods:{},mounted(){}},ke=Object.assign(Ga,{__name:"dialogVue",setup(t){return(e,a)=>{const i=s("v-divider"),o=s("v-card"),m=s("v-dialog");return r(),u(m,{transition:"dialog-bottom-transition",width:"auto"},{activator:l(({props:p})=>[t.master?h("",!0):(r(),u(Z,M({key:0},p,{icon:"mdi-dots-vertical"}),null,16)),t.master?(r(),u(x,M({key:1},p,{icon:t.btn_title!=""?"":"mdi-plus",btn_title:t.btn_title!=""?t.btn_title:"Tambah Data"}),null,16,["icon","btn_title"])):h("",!0)]),default:l(()=>[n(o,{class:"bg-white mx-auto py-5 rounded-xl","min-width":"300","max-width":"375",width:"35vw"},{default:l(()=>[_e(e.$slots,"titlecard"),n(i),_e(e.$slots,"content")]),_:3})]),_:3})}}}),qa=[{key:"no_pembelian",order:"desc"}],He=[{title:"Nomor Pemasukan",key:"no_pembelian"},{title:"Tanggal Masuk",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Mata Uang",key:"mata_uang"},{title:"Total Nilai",key:"total_nilai"},{title:"Total Nilai(Rp)",key:"rp"},{key:"actions"}],za=["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],Ma=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions"}],Ya={no_pembelian:"",tgl_pembelian:"",tgl_input:k.day(),tgl_batal:"1999-12-31T17:00:00.000Z",kode_supplier:"",tipe_dokumen:"",no_dokumen:"",persentase:"",tgl_dokumen:"",no_invoice:"",no_bl:"",total_nilai:"",mata_uang:"",kurs:"",user_input:"",user_batal:"",status:"true"},Wa=()=>{let t=[];for(let e=0;e<He.length;e++)t.push(He[e].title);return t},je=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)e[o].no_pembelian==t&&(a=="nama"?i.push(e[o].nama_barang):i=e[o]);return a=="nama"?i.toString():i},Qa=(t,e)=>{for(let a=0;a<e.length;a++)if(e[a].kode_barang==t)return e[a].kategori_barang},Ie=(t,e,a,i)=>{let o=[];for(let m=0;m<t.length;m++)for(let p=0;p<e.length;p++)t[m].kode_supplier==e[p].kode_supplier&&o.push({no_pembelian:t[m].no_pembelian,tgl_pembelian:t[m].tgl_pembelian,tipe_dokumen:t[m].tipe_dokumen,no_dokumen:t[m].no_dokumen,tgl_dokumen:k.formatDate(t[m].tgl_dokumen),kode_supplier:e[p].nama,mata_uang:t[m].mata_uang,total_nilai:k.numb(t[m].total_nilai,2,!0),rp:k.numb(t[m].total_nilai*t[m].kurs,2,!0),no_invoice:t[m].no_invoice,no_bl:t[m].no_bl,kurs:t[m].kurs,persentase:t[m].persentase,user_input:t[m].user_input,user_batal:t[m].user_batal,tgl_input:t[m].tgl_input,tgl_batal:t[m].tgl_batal,status:t[m].status,nama_barang:je(t[m].no_pembelian,a,"nama"),kode_barang:je(t[m].no_pembelian,a).kode_barang,hs_code:je(t[m].no_pembelian,a).hs_code,satuan:je(t[m].no_pembelian,a).satuan,jumlah_diterima:k.numb(je(t[m].no_pembelian,a).jumlah_diterima),jumlah:je(t[m].no_pembelian,a).jumlah,nilai:je(t[m].no_pembelian,a).nilai,kategori_barang:Qa(je(t[m].no_pembelian,a).kode_barang,i)});return o},Xa=t=>{let e=[];for(let a=0;a<globalThis.pembeliandetl.length;a++)globalThis.pembeliandetl[a].no_pembelian==t&&e.push(globalThis.pembeliandetl[a]);return e},Za=(t,e,a,i)=>{if(e=="nama"){for(let o=0;o<a.length;o++)if(a[o].kode_supplier==t)return a[o].nama}else if(e=="pembelian"){let o=[];for(let m=0;m<i.length;m++)i[m].no_pembelian==t&&o.push(i[m]);return o}else{if(e=="total")return k.numb(t);if(e=="rp"){let o=t.kurs,m=t.total_nilai;return k.numb(o*m)}}},xa=(t,e,a)=>{let i=[];for(let o=0;o<t.length;o++)i.push({no_pembelian:t[o].no_pembelian,tgl_pembelian:t[o].tgl_pembelian,tipe_dokumen:t[o].tipe_dokumen,no_dokumen:t[o].no_dokumen,kode_supplier:globalThis.dataTable(t[o].kode_supplier,"nama",e,a),kode_group:t[o].kode_group,kurs:t[o].kurs,mata_uang:t[o].mata_uang,total_nilai:globalThis.dataTable(t[o].total_nilai,"total",e,a),rp:globalThis.dataTable(t[o],"rp")});return i},en=(t,e,a,i,o)=>t.length===0?Ie(e,a,i,o):Ie(e,a,i,o).filter(m=>t.includes(m.tipe_dokumen)),tn=t=>{let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},te={sortBy:qa,headers:He,tipedokumen:za,headDetails:Ma,datainput:Ya,datatable:Ie,headTitle:Wa,pembelian:Xa,dataTable:Za,printdata:xa,pilihtipe:en,sum:tn,detailpbl:je};const an={components:{dialogScroll:ve,VDataTable:ge,datePicker:G,textButton:Z,textFieldForm:C,dialogSearch:Se,menuForm:Ze,menuList:Q,BtnCancel:E,BtnOrange:J,dialogVue:ke,CurrencyInput:ae,BtnInfo:x},props:["tema","window","windowH","hapus","total_nilai","barang","pembelianbaru","laporan","namaPelanggan","total","groupbarang","batalbtn","penjualan","pemasukan","alamatBongkar","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,valid:!1,detaildial:[],tipe_dokumen:[{title:"BC23",key:"BC23"},{title:"BC40",key:"BC40"},{title:"PPKEK dari LDP",key:"PPKEK-LDP"},{title:"PPKEK dari TDDP",key:"PPKEK-TLDDP"}],list:[{title:"Lihat Data",key:"lihat"},{title:"Batal Pemasukan",key:"batal"}],viewOnly:[{title:"Lihat Data",key:"lihat"}],item:"",searched:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:[],inputdata:this.datainput,kurs:"",pemasukan_detail:"",pembelian_detail:[this.pembelian],validated:Boolean,required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="55vh":t="40vh":this.window<1500&&(this.windowH>800?t="55vh":t="40vh"):this.edit||(this.window>1500?this.windowH>800?t="40vh":t="23vh":this.window<1500&&(this.windowH>800?t="40vh":t="23vh")),t}},methods:{itemmasuk(t,e){this.inputdata.total_nilai=e,this.pembelian_input=t},menuAksi(t){t=="lihat"?this.dialog=!0:this.confirm()},confirm(){this.$emit("confirm",this.items,this.pembelian)},pilihObjek(t){this.inputdata.kode_supplier=t.kode_supplier,this.namasupplier=t.nama},pilihtipedokumen(t){return this.inputdata.tipe_dokumen=t},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].nilai);return a.reduce((i,o)=>i+o,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_pembelian:this.pembelian_input[a].no_pembelian,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_diterima:this.pembelian_input[a].jumlah_diterima,satuan:this.pembelian_input[a].satuan,nilai:this.pembelian_input[a].nilai,no_urut:a+1});this.$emit("inputhead",this.inputdata,e),this.dialog=!1}}}},Ue=Object.assign(an,{__name:"PemasukanDetail",setup(t){return(e,a)=>{const i=s("v-toolbar-title"),o=s("v-spacer"),m=s("v-toolbar"),p=s("v-responsive"),_=s("v-row"),D=s("v-form"),v=s("v-container"),b=s("v-span"),P=s("v-card-title"),f=s("v-card-subtitle"),B=s("v-sheet"),A=s("v-divider"),T=s("v-div"),j=s("v-card"),U=s("v-dialog");return r(),u(U,{modelValue:e.dialog,"onUpdate:modelValue":a[13]||(a[13]=N=>e.dialog=N),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:N})=>[t.edit?h("",!0):(r(),u(x,M({key:0},N,{icon:"mdi-plus",btn_title:"Tambah Baru"}),null,16)),t.edit?(r(),u(Q,{key:1,submenu:!0,icon:"mdi-dots-vertical",items:t.hapus?e.list:e.viewOnly,onResult:e.menuAksi},null,8,["items","onResult"])):h("",!0)]),default:l(()=>[n(j,null,{default:l(()=>[n(m,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Z,{icon:"mdi-close",onClick:a[0]||(a[0]=N=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1}),color:e.white},null,8,["color"]),n(i,{class:"text-button mt-1"},{default:l(()=>[d(y("DETAIL "+t.pageTitle),1)]),_:1}),n(o)]),_:1}),n(v,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(r(),u(_,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(p,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Pemasukan","model-value":t.items.no_pembelian,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Pemasukan","model-value":g(k).formatDate(t.items.tgl_pembelian),readonly:""},null,8,["model-value"]),n(C,{label:"Nama Supplier","model-value":t.items.kode_supplier,readonly:""},null,8,["model-value"])]),_:1}),n(p,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Dokumen","model-value":t.items.tgl_dokumen,readonly:""},null,8,["model-value"]),n(C,{type:"number",label:"Persentase","model-value":t.items.persentase},null,8,["model-value"])]),_:1}),n(p,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Invoice","model-value":t.items.no_invoice,readonly:""},null,8,["model-value"]),n(C,{label:"No BL","model-value":t.items.no_bl,readonly:""},null,8,["model-value"]),n(C,{label:"Mata Uang","model-value":t.items.mata_uang,readonly:""},null,8,["model-value"]),n(C,{type:"number",label:"Kurs","model-value":t.items.kurs,readonly:""},null,8,["model-value"])]),_:1})]),_:1})):h("",!0),!t.edit&&g(te)?(r(),u(D,{key:1,onSubmit:a[11]||(a[11]=Ve(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[n(_,{"no-gutters":"",justify:"center","justify-md":"space-between"},{default:l(()=>[n(p,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{label:"No Pemasukan",modelValue:e.inputdata.no_pembelian,"onUpdate:modelValue":a[1]||(a[1]=N=>e.inputdata.no_pembelian=N),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"]),n(G,{label:"Tgl Pemasukan",modelValue:e.inputdata.tgl_pembelian,"onUpdate:modelValue":a[2]||(a[2]=N=>e.inputdata.tgl_pembelian=N),"max-date":new Date,tema:t.tema,rules:e.required},null,8,["modelValue","max-date","tema","rules"]),t.edit?h("",!0):(r(),u(Se,{key:0,window:t.window,label:"Supplier",objectFilter:t.supplier,onPilihObjek:e.pilihObjek,cardTitle:"SUPPLIER","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"]))]),_:1}),n(p,{class:"pt-2 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[3]||(a[3]=N=>e.inputdata.tipe_dokumen=N),readonly:"",rules:e.required},null,8,["modelValue","rules"]),n(Ze,{activator:"#tipe",icon:"mdi-dots-vertical",items:e.tipe_dokumen,onResult:e.pilihtipedokumen},null,8,["items","onResult"]),n(C,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[4]||(a[4]=N=>e.inputdata.no_dokumen=N),required:"",rules:e.required},null,8,["modelValue","rules"]),n(G,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[5]||(a[5]=N=>e.inputdata.tgl_dokumen=N),"max-date":new Date,tema:t.tema,rules:e.required},null,8,["modelValue","max-date","tema","rules"]),n(C,{type:"number",label:"Persentase",modelValue:e.inputdata.persentase,"onUpdate:modelValue":a[6]||(a[6]=N=>e.inputdata.persentase=N)},null,8,["modelValue"])]),_:1}),n(p,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Invoice",modelValue:e.inputdata.no_invoice,"onUpdate:modelValue":a[7]||(a[7]=N=>e.inputdata.no_invoice=N),rules:e.required},null,8,["modelValue","rules"]),n(C,{label:"No BL",modelValue:e.inputdata.no_bl,"onUpdate:modelValue":a[8]||(a[8]=N=>e.inputdata.no_bl=N),rules:e.required},null,8,["modelValue","rules"]),n(C,{label:"Mata Uang",modelValue:e.inputdata.mata_uang,"onUpdate:modelValue":a[9]||(a[9]=N=>e.inputdata.mata_uang=N),rules:e.required},null,8,["modelValue","rules"]),n(C,{type:"number",label:"Kurs",modelValue:e.inputdata.kurs,"onUpdate:modelValue":a[10]||(a[10]=N=>e.inputdata.kurs=N),rules:e.required},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},512)):h("",!0),t.edit?h("",!0):(r(),u(v,{key:2,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center mb-n5"},{default:l(()=>[n(ve,{window:t.window,onReset:e.reset,inptbarang:!0,kurs:e.inputdata.kurs,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pemasukan:!0,dialog_title:"Data Barang",btn:t.btn,"max-width":"400"},null,8,["window","onReset","kurs","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),n(v,null,{default:l(()=>[n(g(ge),{headers:t.headDetails,items:t.edit?t.pembelian:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 border-sm rounded-lg my-3 h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),u(b,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+y(g(k).numb(e.jumlahtotal(t.pembelian,"jumlah")))+" / Total nilai: "+y(g(k).numb(e.jumlahtotal(t.pembelian,"nilai"),2,!0)),1)]),_:1})):h("",!0),t.edit?h("",!0):(r(),u(b,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+y(g(k).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total nilai: "+y(g(k).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.nilai":l(({item:N})=>[d(y(g(k).numb(N.raw.nilai,2,!0)),1)]),"item.jumlah":l(({item:N})=>[d(y(g(k).numb(N.raw.jumlah)),1)]),"item.jumlah_diterima":l(({item:N})=>[d(y(g(k).numb(N.raw.jumlah_diterima)),1)]),"item.actions":l(({item:N,index:F})=>[n(ke,{modelValue:e.detaildial[F],"onUpdate:modelValue":z=>e.detaildial[F]=z},{titlecard:l(()=>[n(P,{class:"text-center text-button font-weight-bold text-orange"},{default:l(()=>[d(y(N.raw.nama_barang),1)]),_:2},1024),n(f,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(y(N.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(B,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Jumlah","model-value":g(k).numb(N.raw.jumlah),active:"true",readonly:"","hide-details":!0,class:"mb-3"},null,8,["model-value"])):h("",!0),t.edit?h("",!0):(r(),u(ae,{key:1,label:"Jumlah",modelValue:e.pembelian_input[F].jumlah,"onUpdate:modelValue":z=>e.pembelian_input[F].jumlah=z,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?h("",!0):(r(),u(ae,{key:2,label:"Jumlah diterima",modelValue:e.pembelian_input[F].jumlah_diterima,"onUpdate:modelValue":z=>e.pembelian_input[F].jumlah_diterima=z,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:3,label:"Jumlah diterima","model-value":g(k).numb(N.raw.jumlah_diterima),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):h("",!0),t.edit?h("",!0):(r(),u(ae,{key:4,label:"Total nilai",modelValue:e.pembelian_input[F].nilai,"onUpdate:modelValue":z=>e.pembelian_input[F].nilai=z,"hide-details":"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:5,label:"Total nilai","model-value":t.items.total_nilai,readonly:!0,"hide-details":""},null,8,["model-value"])):h("",!0)]),_:2},1024),n(A,{class:"mt-3 mb-5"}),t.edit?h("",!0):(r(),u(T,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(E,{btn_title:"Hapus",onClick:z=>(e.deleteditem(N.raw),e.detaildial[F]=!1),class:"me-2"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick"]),n(J,{btn_title:"Simpan",onClick:z=>e.detaildial[F]=!1},{default:l(()=>[d("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),n(T,{class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[t.edit?h("",!0):(r(),u(E,{key:0,class:"mb-3 me-2",btn_title:"Batal",onClick:a[12]||(a[12]=N=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1})})),t.edit?h("",!0):(r(),u(J,{key:1,class:"mb-3",type:"submit",btn_title:"Simpan",onClick:e.validate},null,8,["onClick"]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const nn={components:{textFieldForm:C,BtnOrange:J},props:["editdata","otority","tambahUser","user_otoritas","j_otoritas","userselect"],data(){return{confirmdialog:!1,edit:this.editdata,tambah:this.tambahUser,ds:{},open:[],databarang:[{title:"Data Barang",key:"data_barang"},{title:"Tambah Barang Baru",key:"tambah_barang"},{title:"Ubah Barang",key:"ubah_barang"},{title:"Hapus Barang",key:"hapus_barang"}]}},computed:{edituser(){let t=this.userselect,e="",a=[],i=[],o=[],m=[],p=[],_=[],D=[],v=[],b=[],P=[],f=[];for(let B=0;B<w.data_barang.length;B++)a.push({jenis_otoritas:w.data_barang[B],status:this.edit?w.routes(this.otority,w.data_barang[B]):!1});for(let B=0;B<w.barang_konversi.length;B++)i.push({jenis_otoritas:w.barang_konversi[B],status:this.edit?w.routes(this.otority,w.barang_konversi[B]):!1});for(let B=0;B<w.data_pelanggan.length;B++)o.push({jenis_otoritas:w.data_pelanggan[B],status:this.edit?w.routes(this.otority,w.data_pelanggan[B]):!1});for(let B=0;B<w.data_supplier.length;B++)m.push({jenis_otoritas:w.data_supplier[B],status:this.edit?w.routes(this.otority,w.data_supplier[B]):!1});for(let B=0;B<w.data_user.length;B++)p.push({jenis_otoritas:w.data_user[B],status:this.edit?w.routes(this.otority,w.data_user[B]):!1});for(let B=0;B<w.pembelian.length;B++)_.push({jenis_otoritas:w.pembelian[B],status:this.edit?w.routes(this.otority,w.pembelian[B]):!1});for(let B=0;B<w.produksi.length;B++)D.push({jenis_otoritas:w.produksi[B],status:this.edit?w.routes(this.otority,w.produksi[B]):!1});for(let B=0;B<w.penjualan.length;B++)v.push({jenis_otoritas:w.penjualan[B],status:this.edit?w.routes(this.otority,w.penjualan[B]):!1});for(let B=0;B<w.pengiriman.length;B++)b.push({jenis_otoritas:w.pengiriman[B],status:this.edit?w.routes(this.otority,w.pengiriman[B]):!1});for(let B=0;B<w.laporan.length;B++)P.push({jenis_otoritas:w.laporan[B],status:this.edit?w.routes(this.otority,w.laporan[B]):!1});for(let B=0;B<w.setelan.length;B++)f.push({jenis_otoritas:w.setelan[B],status:this.edit?w.routes(this.otority,w.setelan[B]):!1});return this.ds={username:t,password:e,data_barang:a,barang_konversi:i,data_pelanggan:o,data_supplier:m,data_user:p,pembelian:_,produksi:D,penjualan:v,pengiriman:b,laporan:P,setelan:f}}},methods:{submit(){return this.$emit("submitUser",this.ds)}},mounted(){}},ln=Object.assign(nn,{__name:"userDetail",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-icon"),p=s("v-avatar"),_=s("v-div"),D=s("v-checkbox"),v=s("v-list-item"),b=s("v-list-group"),P=s("v-list"),f=s("v-spacer"),B=s("v-sheet"),A=s("v-card"),T=s("v-dialog");return r(),u(T,{modelValue:e.detail,"onUpdate:modelValue":a[25]||(a[25]=j=>e.detail=j),width:"400",transition:"dialog-bottom-transition"},{default:l(()=>[n(A,{class:"rounded-xl pa-3"},{default:l(()=>[n(i,{class:"mx-auto text-button font-weight-bold text-orange"},{default:l(()=>[d("DETAIL USER")]),_:1}),n(o),n(B,{class:"d-flex flex-column align-center w-100 px-3 mt-2",height:"80vh"},{default:l(()=>[n(p,{class:"bg-blue-custom",size:"70"},{default:l(()=>[n(m,{size:"50"},{default:l(()=>[d("mdi-account")]),_:1})]),_:1}),n(_,{class:"w-100"},{default:l(()=>[n(C,{label:"Username","model-value":t.userselect,modelValue:e.ds.username,"onUpdate:modelValue":a[0]||(a[0]=j=>e.ds.username=j),readonly:!!e.edit,disabled:!!e.edit,class:"w-75 my-3 mx-auto"},null,8,["model-value","modelValue","readonly","disabled"]),n(C,{label:"Password",modelValue:e.ds.password,"onUpdate:modelValue":a[1]||(a[1]=j=>e.ds.password=j),class:"w-75 mx-auto"},null,8,["modelValue"])]),_:1}),n(i,{class:"text-grey mx-auto text-button"},{default:l(()=>[d("OTORITAS")]),_:1}),n(_,{class:"overflow-auto vh-30 w-100"},{default:l(()=>[n(P,{opened:e.open[0],"onUpdate:opened":a[3]||(a[3]=j=>e.open[0]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Data Barang",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:e.edituser.data_barang[0].jenis_otoritas,"model-value":e.edituser.data_barang[0].status,modelValue:e.ds.data_barang[0].status,"onUpdate:modelValue":a[2]||(a[2]=U=>e.ds.data_barang[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.data_barang.slice(1,e.edituser.data_barang.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.data_barang[U+1].status,"onUpdate:modelValue":N=>e.ds.data_barang[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[0],"onUpdate:opened":a[5]||(a[5]=j=>e.open[0]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Barang Konversi",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:e.edituser.barang_konversi[0].jenis_otoritas,"model-value":e.edituser.barang_konversi[0].status,modelValue:e.ds.barang_konversi[0].status,"onUpdate:modelValue":a[4]||(a[4]=U=>e.ds.barang_konversi[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.barang_konversi.slice(1,e.edituser.barang_konversi.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.barang_konversi[U+1].status,"onUpdate:modelValue":N=>e.ds.barang_konversi[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[1],"onUpdate:opened":a[7]||(a[7]=j=>e.open[1]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Data Pelanggan",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:e.edituser.data_pelanggan[0].jenis_otoritas,"model-value":e.edituser.data_pelanggan[0].status,modelValue:e.ds.data_pelanggan[0].status,"onUpdate:modelValue":a[6]||(a[6]=U=>e.ds.data_pelanggan[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.data_pelanggan.slice(1,e.edituser.data_pelanggan.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.data_pelanggan[U+1].status,"onUpdate:modelValue":N=>e.ds.data_pelanggan[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[2],"onUpdate:opened":a[9]||(a[9]=j=>e.open[2]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Data Supplier",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:e.edituser.data_supplier[0].jenis_otoritas,"model-value":e.edituser.data_supplier[0].status,modelValue:e.ds.data_supplier[0].status,"onUpdate:modelValue":a[8]||(a[8]=U=>e.ds.data_supplier[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.data_supplier.slice(1,e.edituser.data_supplier.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.data_supplier[U+1].status,"onUpdate:modelValue":N=>e.ds.data_supplier[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[3],"onUpdate:opened":a[11]||(a[11]=j=>e.open[3]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Data User",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:e.edituser.data_user[0].jenis_otoritas,"model-value":e.edituser.data_user[0].status,modelValue:e.ds.data_user[0].status,"onUpdate:modelValue":a[10]||(a[10]=U=>e.ds.data_user[0].status=U),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.data_user.slice(1,e.edituser.data_user.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.data_user[U+1].status,"onUpdate:modelValue":N=>e.ds.data_user[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[4],"onUpdate:opened":a[13]||(a[13]=j=>e.open[4]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Pembelian",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:"Pemasukan","model-value":e.edituser.pembelian[0].status,modelValue:e.ds.pembelian[0].status,"onUpdate:modelValue":a[12]||(a[12]=U=>e.ds.pembelian[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.pembelian.slice(1,e.edituser.pembelian.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.pembelian[U+1].status,"onUpdate:modelValue":N=>e.ds.pembelian[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[5],"onUpdate:opened":a[15]||(a[15]=j=>e.open[5]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Produksi",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:"Produksi","model-value":e.edituser.produksi[0].status,modelValue:e.ds.produksi[0].status,"onUpdate:modelValue":a[14]||(a[14]=U=>e.ds.produksi[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.produksi.slice(1,e.edituser.produksi.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.produksi[U+1].status,"onUpdate:modelValue":N=>e.ds.produksi[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[6],"onUpdate:opened":a[17]||(a[17]=j=>e.open[6]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Pengeluaran",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:"Pengeluaran","model-value":e.edituser.penjualan[0].status,modelValue:e.ds.penjualan[0].status,"onUpdate:modelValue":a[16]||(a[16]=U=>e.ds.penjualan[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.penjualan.slice(1,e.edituser.penjualan.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.penjualan[U+1].status,"onUpdate:modelValue":N=>e.ds.penjualan[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[7],"onUpdate:opened":a[19]||(a[19]=j=>e.open[7]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Pengiriman",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:"Pengiriman","model-value":e.edituser.pengiriman[0].status,modelValue:e.ds.pengiriman[0].status,"onUpdate:modelValue":a[18]||(a[18]=U=>e.ds.pengiriman[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.pengiriman.slice(1,e.edituser.pengiriman.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.pengiriman[U+1].status,"onUpdate:modelValue":N=>e.ds.pengiriman[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[8],"onUpdate:opened":a[21]||(a[21]=j=>e.open[8]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Laporan",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:"Laporan","model-value":e.edituser.laporan[0].status,modelValue:e.ds.laporan[0].status,"onUpdate:modelValue":a[20]||(a[20]=U=>e.ds.laporan[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.laporan.slice(1,e.edituser.laporan.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.laporan[U+1].status,"onUpdate:modelValue":N=>e.ds.laporan[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(P,{opened:e.open[9],"onUpdate:opened":a[23]||(a[23]=j=>e.open[9]=j),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(b,{value:"Setelan",class:"text-caption"},{activator:l(({props:j})=>[n(v,pe(he(j)),{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:"Pengaturan Umum","model-value":e.edituser.setelan[0].status,modelValue:e.ds.setelan[0].status,"onUpdate:modelValue":a[22]||(a[22]=U=>e.ds.setelan[0].status=U),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(r(!0),K(R,null,I(e.edituser.setelan.slice(1,e.edituser.setelan.length),(j,U)=>(r(),u(v,{key:U},{default:l(()=>[n(D,{color:"orange",class:"radio-small customdense",label:j.jenis_otoritas,"model-value":j.status,modelValue:e.ds.setelan[U+1].status,"onUpdate:modelValue":N=>e.ds.setelan[U+1].status=N,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"])]),_:1}),n(f),n(_,{class:"d-flex ms-auto pb-3"},{default:l(()=>[_e(e.$slots,"cancel",{},void 0,!0),n(J,{onClick:a[24]||(a[24]=j=>e.submit()),btn_title:"Simpan"})]),_:3})]),_:3})]),_:3})]),_:3},8,["modelValue"])}}}),Oe=Y(ln,[["__scopeId","data-v-398f8ef4"]]),sn={components:{PemasukanDetail:Ue,dialogMaster:De,LogBarang:Qe,dialogConfirm:fe,btnCancel:E,menuList:Q,BtnOrange:J,UserDetail:Oe},props:["userdetail","windowH","editdata","sortby","stok","otority","logbrg","user_otoritas","j_otoritas","stokbarang","update","hapus","groupbarang","laporanstok","masuk","supplier","pembeliandetl","view","disabled","keyform","headers","items","search","category","toolbar_title","form","noselect","ishidden","pageTitle","log","window"],data(){return{dialog:[],detail:[],paginate:"",sorting:this.sortby,totaldata:this.items.length,confirmdialog:[],list:[{title:"Edit Data",key:"edit",icon:"mdi-pencil"},{title:"Hapus Data",key:"hapus",icon:"mdi-delete"}],list2:[{title:"Lihat Data",key:"lihat"}]}},methods:{result(t,e){return t!="hapus"?this.dialog[e]=!0:this.confirmdialog[e]=!0},result2(t,e){return t!="hapus"?this.detail[e]=!0:this.confirmdialog[e]=!0},edit(t){return this.$emit("edit",t)},del(t,e){return this.confirmdialog[e]=!1,this.$emit("del",t)},confirm(t,e){this.$emit("confirm",t,e)},test(t){return alert(t)}},mounted(){}},re=Object.assign(sn,{__name:"TableVue",setup(t){return(e,a)=>{const i=s("VDataTableVirtual"),o=s("v-sheet");return r(),u(o,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(i,{"sort-by":e.sorting,"onUpdate:sortBy":a[0]||(a[0]=m=>e.sorting=m),"items-per-page":10,headers:t.headers,items:t.items,loading:e.loading,search:t.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-2 h-100 border-sm rounded-lg",height:t.window>776?"100%":"92%"},Ye({_:2},[t.userdetail?{name:"item.actions",fn:l(({item:m,index:p})=>[n(Q,{items:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result2,index:p},null,8,["items","onResult","index"]),n(Oe,{modelValue:e.detail[p],"onUpdate:modelValue":_=>e.detail[p]=_,editdata:t.editdata,user_otoritas:t.user_otoritas,j_otoritas:t.j_otoritas,userselect:m.raw.username,otority:g(w).all(t.otority,m.raw.username),onSubmitUser:e.edit},{cancel:l(()=>[n(E,{onClick:_=>e.detail[p]=!1,btn_title:"Batal",class:"mx-2"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","editdata","user_otoritas","j_otoritas","userselect","otority","onSubmitUser"]),n(fe,{modelValue:e.confirmdialog[p],"onUpdate:modelValue":_=>e.confirmdialog[p]=_,object:t.pageTitle,item:m.raw,mess:"Menghapus"},{yesButton:l(()=>[n(J,{class:"ms-2",type:"submit",onClick:_=>e.del(m.raw.username,p),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(E,{onClick:_=>e.confirmdialog[p]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object","item"])]),key:"0"}:void 0,t.laporanstok?{name:"item.actions",fn:l(({item:m})=>[n(Qe,{headers:t.headers,logbrg:t.logbrg,barang:t.groupbarang,groupbarang:t.groupbarang,detail:g(be).subDetail(t.stok,m.raw.kode_barang),kode_group:m.raw.kode_group,kode_barang:m.raw.kode_barang},null,8,["headers","logbrg","barang","groupbarang","detail","kode_group","kode_barang"])]),key:"1"}:void 0,t.log?{name:"item.tanggal",fn:l(({item:m})=>[d(y(g(k).formatDateTime(m.raw.tanggal)),1)]),key:"2"}:void 0,!t.laporanstok&&!t.masuk&&t.update||t.view?{name:"item.actions",fn:l(({item:m,index:p})=>[n(Q,{items:t.view?e.list2:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result,index:p},null,8,["items","onResult","index"]),n(De,{modelValue:e.dialog[p],"onUpdate:modelValue":_=>e.dialog[p]=_,view:t.view,editbtn:"true",ishidden:!0,keyform:t.keyform,intable:!0,edit:!0,disabled:t.disabled,noselect:t.noselect,form:m.raw,onEdit:e.edit,item:m.raw,screen:e.screen,headers:t.headers,items:m.raw,category:t.category,toolbar_title:t.toolbar_title,alpha:e.alpha},{cancel:l(()=>[n(E,{onClick:_=>e.dialog[p]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","view","keyform","disabled","noselect","form","onEdit","item","screen","headers","items","category","toolbar_title","alpha"]),n(fe,{modelValue:e.confirmdialog[p],"onUpdate:modelValue":_=>e.confirmdialog[p]=_,object:t.pageTitle,item:m.raw,mess:"Menghapus"},{yesButton:l(()=>[n(J,{class:"ms-2",type:"submit",onClick:_=>e.del(m.raw,p),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(E,{onClick:_=>e.confirmdialog[p]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object","item"])]),key:"3"}:void 0,t.masuk?{name:"item.tgl_pembelian",fn:l(({item:m})=>[d(y(g(k).formatDate(m.raw.tgl_pembelian)),1)]),key:"4"}:void 0,t.masuk?{name:"item.actions",fn:l(({item:m})=>[n(Ue,{hapus:t.hapus,window:t.window,windowH:t.windowH,batalbtn:"Pemasukan",onConfirm:e.confirm,supplier:t.supplier,namaSupplier:g(te).dataTable(m.raw.kode_supplier,"nama",t.supplier,t.pembeliandetl),pembelian:g(te).dataTable(m.raw.no_pembelian,"pembelian",t.supplier,t.pembeliandetl),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:g(te).headDetails,headers:g(te).headers,items:m.raw,search:t.search,category:g(te).tipedokumen,selectCategory:e.selectCategory,pageTitle:t.pageTitle},null,8,["hapus","window","windowH","onConfirm","supplier","namaSupplier","pembelian","itemDetail","datatext","btn","headDetails","headers","items","search","category","selectCategory","pageTitle"])]),key:"5"}:void 0]),1032,["sort-by","headers","items","loading","search","height"])]),_:1},8,["height"])}}}),on={components:{},props:["btn_title","color"],data(){return{}}};function rn(t,e,a,i,o,m){const p=s("v-icon"),_=s("v-btn");return r(),u(_,{class:"",size:"small",variant:"text",icon:""},{default:l(()=>[n(p,{size:"20",color:"blue-custom"},{default:l(()=>[d("mdi-table-filter")]),_:1})]),_:1})}const ue=Y(on,[["render",rn]]),un={components:{},props:["label"],data(){return{}},computed:{},methods:{},mounted(){}};function dn(t,e,a,i,o,m){const p=s("v-checkbox");return r(),u(p,{label:a.label,color:"orange-lighten-1",class:"mt-n6","hide-details":""},null,8,["label"])}const ye=Y(un,[["render",dn]]),mn={components:{BtnOrange:J,BtnCancel:E},props:["icon"],data(){return{filter:!1}},methods:{filtered(){this.$emit("close",!1)},reset(){this.$emit("reset")},filterdata(){return this.$emit("filterdata"),this.filtered()}}},gn={class:"d-flex align-center"};function pn(t,e,a,i,o,m){const p=s("v-span"),_=s("v-container"),D=s("v-sheet"),v=s("btn-cancel"),b=s("btn-orange"),P=s("v-div"),f=s("v-navigation-drawer");return r(),u(f,{class:"border-0 elevation-0 mt-5 rounded-left",width:"320",location:"right",temporary:""},{default:l(()=>[n(D,{class:"py-5 h-85 rounded-left"},{default:l(()=>[$("div",gn,[n(p,{class:"text-button ms-4"},{default:l(()=>[d("Filter")]),_:1})]),n(_,{class:"py-3 px-4 h-100"},{default:l(()=>[_e(t.$slots,"default")]),_:3})]),_:3}),n(P,{class:"d-flex ms-5"},{default:l(()=>[n(v,{btn_title:"Reset",onClick:e[0]||(e[0]=B=>m.reset()),class:"mt-5 me-2"}),n(b,{btn_title:"Filter",onClick:e[1]||(e[1]=B=>m.filterdata()),class:"mt-5 me-2"})]),_:1})]),_:3})}const ne=Y(mn,[["render",pn]]),hn={props:["loading"],data(){}};function cn(t,e,a,i,o,m){const p=s("v-progress-circular"),_=s("v-overlay");return r(),u(_,{"model-value":a.loading,class:"align-center justify-center",persistent:""},{default:l(()=>[n(p,{color:"white",indeterminate:"",size:"64"})]),_:1},8,["model-value"])}const X=Y(hn,[["render",cn]]),fn={class:"d-flex align-center w-100"},kn={class:"d-flex align-center justify-sm-end justify-start"},bn=Ne({components:{dialogMaster:De,TableVue:re,btnFilter:ue,menuList:Q,textField:q,checkBox:ye,filterDrawer:ne,alertVue:ee,circularLoader:X},name:"DataBarang",props:["cetak","tema","window"],data(){return{dialog:!1,valert:!1,status:null,loading:!0,authority:"",akses:"",message:"",search:"",filter:!1,pageTitle:"DATA BARANG",selectCategory:[],statusselect:!1,items:"",fresh:!1,tambah:{kategori_barang:"",kode_barang:"",nama_barang:"",hs_code:"",satuan:"",status:"true"},filtered:{kategori_barang:[]}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await V.getOtoritas(t),this.authority=w.otoritas(this.akses)),w.routes(this.akses,"Data Barang")){this.loading=!0;let e=await V.getBarang();this.items=oe.item(e),this.loading=!1}else return await V.logout()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=oe.headers,i=this.items;k.print(t,e,a,i)},submit(t){V.postBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editForm(t){V.putBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},del(t){V.deleteBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[]},reset(){this.filtered.kategori_barang=[],this.selectCategory=[]}},mounted(){this.page(),this.fetchData(),this.cetak}}),_n=Object.assign(bn,{setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-responsive"),p=s("v-btn"),_=s("v-row"),D=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=v=>e.filter=v),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kategori Barang")]),_:1}),n(o,{class:"mb-6"}),(r(!0),K(R,null,I(g(oe).category,(v,b)=>(r(),u(ye,{key:b,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[0]||(a[0]=P=>e.filtered.kategori_barang=P),label:v,value:v},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(D,{class:"pt-9 h-100"},{default:l(()=>[n(_,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(m,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[$("div",fn,[g(w).routes(e.authority,"Tambah Barang Baru")?(r(),u(De,{key:0,toolbar_title:"Tambah Data",keyform:g(oe).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submit,screen:400,headers:g(oe).headers,items:e.items,category:g(oe).category},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):h("",!0)])]),_:1}),n(m,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",kn,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=v=>e.search=v),placeholder:"Search",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{onClick:a[3]||(a[3]=v=>e.filter=!e.filter)}),n(p,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[4]||(a[4]=v=>e.fetchData())})])]),_:1})]),_:1}),n(re,{create:g(w).routes(e.authority,"Tambah Barang Baru"),update:g(w).routes(e.authority,"Ubah Barang"),hapus:g(w).routes(e.authority,"Hapus Barang"),window:e.window,keyform:g(oe).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",headers:g(oe).headers,items:g(oe).selected(e.selectCategory,e.items),search:e.search,category:g(oe).category,selectCategory:e.selectCategory,toolbar_title:"Edit Data",pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","pageTitle"])]),_:1}),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[5]||(a[5]=v=>e.valert=v),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),vn={class:"d-flex align-center w-100"},yn={class:"d-flex align-center justify-sm-end justify-start"},wn=Ne({components:{dialogMaster:De,TableVue:re,btnFilter:ue,menuList:Q,textField:q,filterDrawer:ne,alertVue:ee,circularLoader:X},name:"BarangKonversi",props:["cetak","tema","window"],data(){return{dialog:!1,valert:!1,status:null,loading:!0,authority:"",akses:"",message:"",search:"",filter:!1,pageTitle:"BARANG KONVERSI",pilihKodeBarang:[],statusselect:!1,items:"",fresh:!1,kodebarang:"",headers:[{title:"Kode Barang",key:"kode_barang"},{title:"Kode Konversi",key:"kode_konversi"},{title:"Nama Konversi",key:"nama_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"Berat",key:"berat"},{key:"actions",sortable:!1}],keyform:["kode_barang","kode_konversi","nama_konversi","satuan_konversi","berat","status"],tambah:{kode_barang:"",kode_konversi:"",nama_konversi:"",satuan_konversi:"",berat:"",status:"true"},filtered:{kode_barang:[]}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await V.getOtoritas(t),this.authority=w.otoritas(this.akses)),w.routes(this.akses,"Barang Konversi")){this.loading=!0,this.items=await V.getKonversi();let e=await V.getBarang();this.kodebarang=oe.kodebarang(e),this.loading=!1}else return await V.logout()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.items;k.print(t,e,a,i)},submit(t){V.postKonversi(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editForm(t){V.putKonversi(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},del(t){V.deleteKonversi(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.pilihKodeBarang=this.filtered.kode_barang,this.pilihKodeBarang?this.pilihKodeBarang==[]&&(this.pilihKodeBarang=[]):this.pilihKodeBarang=[]},reset(){this.filtered.kode_barang=[],this.pilihKodeBarang=[]}},mounted(){this.page(),this.fetchData(),this.cetak}}),jn=Object.assign(wn,{setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-combobox"),p=s("v-responsive"),_=s("v-btn"),D=s("v-row"),v=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=b=>e.filter=b),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kode Barang")]),_:1}),n(o,{class:"mb-6"}),n(m,{items:e.kodebarang,modelValue:e.filtered.kode_barang,"onUpdate:modelValue":a[0]||(a[0]=b=>e.filtered.kode_barang=b),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(v,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(p,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[$("div",vn,[g(w).routes(e.authority,"Tambah Barang Konversi")?(r(),u(De,{key:0,toolbar_title:"Tambah Barang Konversi",keyform:e.keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submit,screen:400,headers:e.headers,items:e.items,category:e.kodebarang},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):h("",!0)])]),_:1}),n(p,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",yn,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=b=>e.search=b),placeholder:"Search",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{onClick:a[3]||(a[3]=b=>e.filter=!e.filter)}),n(_,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[4]||(a[4]=b=>e.fetchData())})])]),_:1})]),_:1}),n(re,{create:g(w).routes(e.authority,"Tambah Barang Konversi"),update:g(w).routes(e.authority,"Ubah Barang Konversi"),hapus:g(w).routes(e.authority,"Hapus Barang Konversi"),window:e.window,keyform:e.keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",headers:e.headers,items:e.items,search:e.search,category:e.kodebarang,selectCategory:e.pilihKodeBarang,toolbar_title:"Edit Data",pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","pageTitle"])]),_:1}),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[5]||(a[5]=b=>e.valert=b),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),Vn=[{title:"Nomor Produksi",key:"no_produksi"},{title:"Tgl Produksi",key:"tgl_produksi"},{title:"Kode Group",key:"kode_group"},{title:"Bahan Baku",key:"bahan_baku"},{title:"Jumlah Bahan Baku",key:"jumlah"},{title:"Barang Jadi",key:"barang_jadi"},{title:"Jumlah Barang Jadi",key:"jml_barang_jadi"},{title:"",key:"actions",sortable:!1}],Dn=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"Nama Konversi",key:"nama_konversi"},{title:"Kode Konversi",key:"kode_konversi"},{title:"Jumlah Konversi",key:"jumlah_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"",key:"actions",sortable:!1}],Bn={no_produksi:"",kode_group:"",tgl_produksi:"",tgl_input:k.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_input:"admin",user_batal:"",status:"true"},Ee=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)t==e[i].no_produksi&&a.push(e[i].nama_barang);return a.toString()},Je=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)t==e[i].no_produksi&&a.push(e[i].jumlah);return a.reduce((i,o)=>i+o,0)},Pn=(t,e,a)=>{let i=[];for(let o=0;o<t.length;o++)for(let m=0;m<e.length;m++)for(let p=0;p<a.length;p++)e[m].no_produksi==t[o].no_produksi&&a[p].no_produksi==t[o].no_produksi&&i.push({no_produksi:t[o].no_produksi,tgl_produksi:t[o].tgl_produksi,tgl_input:t[o].tgl_input,kode_group:t[o].kode_group,bahan_baku:Ee(t[o].no_produksi,e),jumlah:k.numb(Je(t[o].no_produksi,e)),barang_jadi:Ee(t[o].no_produksi,a),jml_barang_jadi:k.numb(Je(t[o].no_produksi,a))});return i},Tn=t=>t.filter((a,i)=>i===t.findIndex(o=>a.no_produksi===o.no_produksi)),Sn=(t,e)=>{for(let a=0;a<e.length;a++)if(e[a].no_produksi==t)return{no_produksi:e[a].no_produksi,no_urut:1,kode_barang:e[a].kode_barang,nama_barang:e[a].nama_barang,hs_code:e[a].hs_code,jumlah:e[a].jumlah,satuan:e[a].satuan,nilai:e[a].nilai}},Un=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].no_produksi==t&&a.push({no_produksi:e[i].no_produksi,no_urut:1,kode_barang:e[i].kode_barang,kode_konversi:e[i].kode_konversi,nama_konversi:e[i].nama_konversi,satuan_konversi:e[i].satuan_konversi,jumlah_konversi:e[i].jumlah_konversi,nama_barang:e[i].nama_barang,jumlah:e[i].jumlah,hs_code:e[i].hs_code,satuan:e[i].satuan,nilai:e[i].nilai});return a},ce={headers:Vn,headItem:Dn,input:Bn,items:Pn,bahan:Sn,barang:Un,noDuplicate:Tn,detail_items:Ee,sum:Je},Cn={components:{VDataTable:ge,DatePicker:G,TextFieldForm:C,CurrencyInput:ae,BtnInfo:x,BtnCancel:E,BtnOrange:J,TextButton:Z,DialogVue:ke},props:["window","windowH","tema","headers","headItem","edit","hapus","getbarang","getKonversi","detailbahan","groupbarang","detailbarang","select_kode","item"],data(){return{dialog:!1,dialog2:!1,dialogBahan:!1,dialogbhn:[],dialogbrg:[],dialog5:!1,valert:!1,dialInput:!1,more:0,status:null,message:"",searched:"",inputbahan:"",inputbarang:"",masuk:"",inputproduksi:ce.input,btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="55vh":this.window<1500&&(this.windowH>800?t="60vh":t="55vh"):this.edit||(this.window>1500?this.windowH>800?t="55vh":t="50vh":this.window<1500&&(this.windowH>800?t="50vh":this.windowH<700?t="40vh":t="50vh")),t},filterkodegroup(){let t=[];if(this.edit)return null;for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return k.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))},group_detail(){if(this.edit)return null;{let t=[];for(let e=0;e<this.filterkodegroup.length;e++)for(let a=0;a<this.groupbarang.length;a++)this.filterkodegroup[e]==this.groupbarang[a].kode_group&&t.push(this.groupbarang[a]);return t}}},methods:{lainnya(){let t=this.more+10;this.more=t},bahanmasuk(t){this.inputbahan=t,this.dialogBahan=!1},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){if(this.inputproduksi.kode_group==""&&(this.inputproduksi.kode_group=t),this.inputproduksi.kode_group!=""){this.inputbahan="";for(let e=0;e<this.inputbarang.length;e++)this.inputbarang.splice(0,this.inputbarang.length)}this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},deleteditem(t,e){let a=[];e=="bahan"&&(a=this.inputbahan),e=="barang"&&(a=this.inputbarang);for(let i=0;i<a.length;i++)t==a[i]&&a.splice(i,1)},jumlahtotal(t,e){let a=[];if(e=="konversi"){for(let i=0;i<t.length;i++)a.push(t[i].jumlah_konversi);return a.reduce((i,o)=>i+o,0)}else{for(let i=0;i<t.length;i++)a.push(t[i].jumlah);return a.reduce((i,o)=>i+o,0)}},confirm(){this.$emit("confirm",this.item,this.detailbahan,this.detailbarang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=this.inputbahan,a=[];for(let i=0;i<this.inputbarang.length;i++)a.push({kode_barang:this.inputbarang[i].kode_barang,kode_konversi:this.inputbarang[i].kode_konversi,jumlah:this.inputbarang[i].jumlah,jumlah_konversi:this.inputbarang[i].jumlah_konversi});return this.$emit("inputhead",this.inputproduksi,e,a)}}},mounted(){}},$n=Object.assign(Cn,{__name:"testPage",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-list"),m=s("v-menu"),p=s("v-toolbar-title"),_=s("v-spacer"),D=s("v-toolbar"),v=s("v-row"),b=s("v-div"),P=s("v-divider"),f=s("v-form"),B=s("v-span"),A=s("v-card-title"),T=s("v-card-subtitle"),j=s("v-sheet"),U=s("v-container"),N=s("v-responsive"),F=s("v-card"),z=s("v-btn"),le=s("text-field"),L=s("v-dialog");return r(),u(L,{modelValue:e.dialog,"onUpdate:modelValue":a[15]||(a[15]=c=>e.dialog=c),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:c})=>[t.edit?h("",!0):(r(),u(x,M({key:0,btn_title:"Tambah Baru"},c,{icon:"mdi-plus"}),null,16)),n(m,null,{activator:l(({props:S})=>[t.edit?(r(),u(Z,M({key:0,id:"menu-actions"},S,{icon:"mdi-dots-vertical"}),null,16)):h("",!0)]),default:l(()=>[n(o,null,{default:l(()=>[n(i,M({class:"text-caption",density:"compact"},c),{default:l(()=>[d("Lihat Data")]),_:2},1040),t.hapus?(r(),u(i,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=S=>e.confirm())},{default:l(()=>[d("Batal Produksi")]),_:1})):h("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(F,null,{default:l(()=>[n(D,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Z,{icon:"mdi-close",color:"white",onClick:a[1]||(a[1]=c=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]})}),n(p,{class:"text-button"},{default:l(()=>[d("DETAIL PRODUKSI")]),_:1}),n(_)]),_:1}),n(U,{class:"mt-5"},{default:l(()=>[n(f,{onSubmit:a[8]||(a[8]=Ve(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(b,{class:"w-100"},{default:l(()=>[n(b,{class:"d-flex justify-space-between"},{default:l(()=>[n(v,{"no-gutters":""},{default:l(()=>[t.edit?(r(),u(C,{key:0,"model-value":t.item.no_produksi,label:"No Produksi",readonly:""},null,8,["model-value"])):h("",!0),t.edit?h("",!0):(r(),u(C,{key:1,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":a[2]||(a[2]=c=>e.inputproduksi.no_produksi=c)},null,8,["modelValue"]))]),_:1}),n(v,{"no-gutters":"",class:"mx-3"},{default:l(()=>[t.edit?h("",!0):(r(),u(G,{key:0,"max-date":new Date,label:"Tgl Produksi",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":a[3]||(a[3]=c=>e.inputproduksi.tgl_produksi=c),tema:t.tema,rules:e.required},null,8,["max-date","modelValue","tema","rules"])),t.edit?(r(),u(C,{key:1,label:"Tgl Produksi",readonly:!0,rules:e.required,"model-value":g(k).formatDate(t.item.tgl_produksi)},null,8,["rules","model-value"])):h("",!0)]),_:1}),n(v,{"no-gutters":""},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Kode Group","model-value":t.item.kode_group,readonly:"",rules:e.required},null,8,["model-value","rules"])):h("",!0),t.edit?h("",!0):(r(),u(C,{key:1,label:"Kode Group",readonly:"",onClick:a[4]||(a[4]=c=>(e.dialog5=!0,e.more=15)),modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":a[5]||(a[5]=c=>e.inputproduksi.kode_group=c),rules:e.required},null,8,["modelValue","rules"]))]),_:1})]),_:1}),n(P,{class:"mb-3"}),n(b,{class:"d-flex justify-space-between"},{default:l(()=>[n(v,{"no-gutters":""},{default:l(()=>[t.edit?h("",!0):(r(),u(C,{key:0,readonly:"",onClick:a[6]||(a[6]=c=>e.dialogBahan=!0),label:"Bahan Baku","model-value":e.inputbahan},null,8,["model-value"])),n(ve,{modelValue:e.dialogBahan,"onUpdate:modelValue":a[7]||(a[7]=c=>e.dialogBahan=c),window:t.window,dialog_title:"stok barang",group_detail:e.group_detail,produksi:!0,btn:e.btn[0],width:"400",barang:t.detailbahan,tambah:!0,bahanbaku:!0,getbarang:t.select_kode,kodegroup:e.inputproduksi.kode_group,onPemasukanitem:e.bahanmasuk},null,8,["modelValue","window","group_detail","btn","barang","getbarang","kodegroup","onPemasukanitem"]),t.edit?(r(),u(C,{key:1,label:"Bahan Baku",readonly:"","model-value":t.detailbahan.kode_barang+"-"+t.detailbahan.nama_barang},null,8,["model-value"])):h("",!0)]),_:1}),t.edit?(r(),u(v,{key:0,"no-gutters":"",class:"mx-3"},{default:l(()=>[n(C,{label:"Jumlah",readonly:"","model-value":t.detailbahan.jumlah},null,8,["model-value"])]),_:1})):h("",!0),t.edit?(r(),u(v,{key:1,"no-gutters":""},{default:l(()=>[n(C,{label:"Satuan",readonly:"","model-value":t.detailbahan.satuan},null,8,["model-value"])]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1},512),n(v,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"mx-sm-0 mx-3","min-width":"400"},{default:l(()=>[n(N,{class:"mt-md-0 mt-1 text-sm-left text-center",width:"400"},{default:l(()=>[n(ke,{master:!0,btn_title:"Tambah Barang"},{titlecard:l(()=>[n(B,{class:"text-center text-button text-orange"},{default:l(()=>[d("Pilih Mode")]),_:1})]),content:l(()=>[n(o,{class:"text-caption mx-auto"},{default:l(()=>[n(i,null,{default:l(()=>[d("Tambah Barang (Tonase)")]),_:1}),n(i,null,{default:l(()=>[d("Tambah Barang (Konversi)")]),_:1})]),_:1})]),_:1}),t.edit?(r(),u(v,{key:0,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[d("detail barang")]),_:1})):h("",!0),n(U,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(g(ge),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption he",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),u(B,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah : "+y(g(k).numb(e.jumlahtotal(t.detailbarang))),1)]),_:1})):h("",!0),t.edit?h("",!0):(r(),u(B,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah Konversi : "+y(g(k).numb(e.jumlahtotal(e.inputbarang,"konversi"))),1)]),_:1})),t.edit?h("",!0):(r(),u(B,{key:2,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah : "+y(g(k).numb(e.jumlahtotal(e.inputbarang))),1)]),_:1}))]),"item.jumlah":l(({item:c})=>[d(y(g(k).numb(c.raw.jumlah)),1)]),"item.actions":l(({item:c,index:S})=>[n(ke,{onUpdate:e.dialogbrg,persistent:!t.edit,modelValue:e.dialogbrg[S],"onUpdate:modelValue":H=>e.dialogbrg[S]=H},{titlecard:l(()=>[n(A,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(y(c.raw.nama_barang),1)]),_:2},1024),n(T,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(y(c.raw.kode_barang),1)]),_:2},1024)]),content:l(()=>[n(j,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(r(),u(C,{key:0,"model-value":g(k).numb(c.raw.jumlah),label:"Jumlah",readonly:""},null,8,["model-value"])):h("",!0),t.edit?h("",!0):(r(),u(ae,{key:1,modelValue:c.raw.jumlah,"onUpdate:modelValue":H=>c.raw.jumlah=H,label:"Jumlah",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(P,{class:"mt-3 mb-5"}),t.edit?h("",!0):(r(),u(b,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(E,{btn_title:"Hapus",onClick:H=>(e.deleteditem(c.raw,"barang"),e.dialogbrg[S]=!1),class:"me-2"},null,8,["onClick"]),n(J,{btn_title:"Simpan",type:"submit",onClick:H=>e.dialogbrg[S]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","persistent","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1})]),_:1}),n(v,{"no-gutters":"",class:"float-end mt-3"},{default:l(()=>[t.edit?h("",!0):(r(),u(E,{key:0,onClick:a[9]||(a[9]=c=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]}),btn_title:"Batal"})),t.edit?h("",!0):(r(),u(J,{key:1,onClick:e.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"]))]),_:1})]),_:1})]),_:1}),n(L,{modelValue:e.dialog5,"onUpdate:modelValue":a[13]||(a[13]=c=>e.dialog5=c),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(F,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(z,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[10]||(a[10]=c=>e.dialog5=!1)})):h("",!0),n(A,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("KODE GROUP")]),_:1}),n(b,null,{default:l(()=>[n(le,{modelValue:e.searched,"onUpdate:modelValue":a[11]||(a[11]=c=>e.searched=c),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(o,null,{default:l(()=>[(r(!0),K(R,null,I(e.filterkodegroup.slice(0,e.more),(c,S)=>(r(),u(b,{key:S},{default:l(()=>[n(i,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:H=>(e.input_kodegroup(c),e.dialog5=!1)},{default:l(()=>[n(B,{class:"text-caption"},{default:l(()=>[d(y(c),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),e.filterkodegroup.length>e.more?(r(),u(b,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(P,{length:"50"}),n(z,{onClick:a[12]||(a[12]=c=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[d("lihat lainnya")]),_:1}),n(P,{length:"50"})]),_:1})):h("",!0)]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[14]||(a[14]=c=>e.valert=c),sukses:e.status,message:e.message,status:e.status},null,8,["modelValue","sukses","message","status"])]),_:1},8,["modelValue"])}}}),Ln="/assets/logo_text-5a0d98cf.png",Nn="/assets/USER-778b9647.png",An="/assets/PASS-bdd62e1b.png";const Kn="inventori",On="0.0.0",Rn={dev:"vite",build:"vite build",preview:"vite preview --port 8080",lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs --fix --ignore-path .gitignore",format:"prettier --write src/",start:"json-server --watch fake-server/inventori.json","start-auth":"node src/modules/server.js",deploy:"vite build && gh-pages -d dist"},Hn={"@quasar/extras":"^1.16.3","@vitejs/plugin-vue":"^4.2.1","@vuelidate/core":"^2.0.2","@vuelidate/validators":"^2.0.2","@vuepic/vue-datepicker":"^5.0.1","@vueuse/core":"^10.2.1","animate.css":"^4.1.1",axios:"^1.3.6","body-parser":"^1.20.2",cors:"^2.8.5",dotenv:"^16.0.3","export-xlsx":"^0.1.4",express:"^4.18.2","file-saver":"^2.0.5",install:"^0.13.0","json-server":"^0.17.3",jsonwebtoken:"^9.0.0",jspdf:"^2.5.1","jspdf-autotable":"^3.5.29","jwt-decode":"^3.1.2",quasar:"^2.11.10",sass:"^1.62.1",scss:"^0.2.4","v-data-table":"^2.1.0","vee-validate":"^4.8.6","vite-plugin-vuetify":"^1.0.2",vue:"^3.2.47","vue-currency-input":"^3.0.5","vue-router":"^4.1.6","vue-sweetalert":"^0.1.18",vuetify:"^3.1.13",vuex:"^4.1.0","vuex-persistedstate":"^4.1.0",webfontloader:"^1.6.28",yup:"^1.1.1"},In={"@mdi/font":"^7.2.96","@rushstack/eslint-patch":"^1.2.0","@vitejs/plugin-vue-jsx":"^3.0.0","@vue/eslint-config-prettier":"^7.1.0",eslint:"^8.34.0","eslint-plugin-vue":"^9.9.0",prettier:"^2.8.4",vite:"^4.3.3"},En={name:Kn,version:On,private:!0,scripts:Rn,dependencies:Hn,devDependencies:In},Jn=$("img",{src:Ln,alt:"brandlogo",style:{"min-width":"250px",width:"40vw"}},null,-1),Fn=$("img",{src:Nn,class:"me-3 mb-2 icon-small"},null,-1),Gn=$("img",{src:An,class:"me-3 mb-2 icon-small"},null,-1),qn=$("br",null,null,-1),zn={components:{},props:["window"],data(){return{pageTitle:null,message:"",username:"",password:"",valert:!1,status:null,user:!1,pass:!1,ispassword:!1}},methods:{page(){return this.$emit("page",this.pageTitle)},handleLogin(){V.postLogin({username:this.username,password:this.password}).then(t=>{localStorage.setItem("token",t.data),localStorage.setItem("user",this.username),window.location.href="/inventori"}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data,setTimeout(()=>{this.valert=!1},2e3)})}},mounted(){this.page()}},Mn=Object.assign(zn,{__name:"LoginView",setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-span"),m=s("v-spacer"),p=s("v-text-field"),_=s("v-div"),D=s("v-icon"),v=s("v-form"),b=s("v-card"),P=s("v-row"),f=s("v-alert"),B=s("v-container");return r(),u(i,{class:"bg-auri h-100"},{default:l(()=>[n(B,{fluid:"",class:"d-flex flex-column h-100"},{default:l(()=>[n(P,{class:"h-100"},{default:l(()=>[n(i,{class:"pt-14 ps-14 align-center",height:t.window>776?"40vh":"",width:"375"},{default:l(()=>[Jn]),_:1},8,["height"]),n(i,{class:ze(["align-center",t.window>776?"me-10":""]),"min-width":t.window>776?375:267},{default:l(()=>[n(b,{class:ze([t.window>776?"":"bg-trans-blue mt-n7","rounded-xl mx-auto elevation-3 px-2"]),height:t.window>776?430:365,"max-width":t.window>776?350:300},{default:l(()=>[n(v,{onSubmit:Ve(e.handleLogin,["prevent"]),"validation-schema":e.schema,class:"text-center w-75 mx-auto py-14 h-100 d-flex flex-column"},{default:l(()=>[n(o,{class:"text-blue-custom font-25 text-montserrat mx-auto"},{default:l(()=>[d("USER LOGIN")]),_:1}),n(m),n(_,null,{default:l(()=>[n(p,{variant:"underlined",class:"text-blue-custom text-field",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=A=>e.username=A),name:"username","hide-details":""},{default:l(()=>[Fn]),_:1},8,["modelValue"])]),_:1}),n(_,{class:"d-flex align-end"},{default:l(()=>[n(p,{type:e.ispassword==!0?"text":"password",variant:"underlined",class:"text-blue-custom text-field",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=A=>e.password=A),name:"password","hide-details":""},{default:l(()=>[Gn]),_:1},8,["type","modelValue"]),e.ispassword?(r(),u(D,{key:0,onClick:a[2]||(a[2]=A=>e.ispassword=!1),class:"mb-1 text-info"},{default:l(()=>[d("mdi-eye")]),_:1})):h("",!0),e.ispassword?h("",!0):(r(),u(D,{key:1,onClick:a[3]||(a[3]=A=>e.ispassword=!0),class:"mb-1 text-info"},{default:l(()=>[d("mdi-eye-off")]),_:1}))]),_:1}),n(m),n(_,null,{default:l(()=>[n(J,{type:"submit",class:"mx-auto w-100",btn_title:"LOGIN"})]),_:1})]),_:1},8,["onSubmit","validation-schema"])]),_:1},8,["class","height","max-width"])]),_:1},8,["class","min-width"])]),_:1}),n(o,{class:"text-caption text-center text-grey"},{default:l(()=>[d("AURI STEEL METALINDO "),qn,d("version."+y(g(En).version),1)]),_:1}),n(_,{class:"absolute w-100 pe-8 text-caption mt-n3"},{default:l(()=>[n(f,{modelValue:e.valert,"onUpdate:modelValue":a[4]||(a[4]=A=>e.valert=A),transition:"scroll-y-transition",color:"red-darken-1",density:"compact",type:"error",title:"Gagal !",text:e.message},null,8,["modelValue","text"])]),_:1})]),_:1})]),_:1})}}}),Yn=[{title:"Kode Pelanggan",key:"kode_pelanggan",dis:!0},{title:"Nama",key:"nama"},{title:"Alamat",key:"alamat"},{title:"NPWP",key:"npwp"},{title:"",key:"actions",align:"end",sortable:!1}],Wn=["kode_pelanggan","nama","alamat","npwp","status"],Qn=(t,e)=>{for(let a=0;a<t.length;a++)if(t[a].kode_pelanggan==e)return t[a].nama},Be={headers:Yn,keyform:Wn,namaPelanggan:Qn};const Xn={class:"d-flex align-center w-100"},Zn={class:"d-flex align-center justify-sm-end justify-start"},xn=Ne({name:"CustomerView",props:["cetak","user","window"],components:{TableVue:re,dialogMaster:De,menuList:Q,textField:q,AlertVue:ee,CircularLoader:X},data(){return{pageTitle:"DATA PELANGGAN",statusselect:!0,loading:!0,status:"",message:"",valert:!1,search:"",items:"",dialog:!1,akses:"",authority:"",tambah:{kode_pelanggan:"",nama:"",alamat:"",npwp:"",status:"true"}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""&&(this.akses=await V.getOtoritas(t),this.authority=w.otoritas(this.akses)),w.routes(this.akses,"Data Pelanggan"))this.loading=!0,this.items=await V.getPelanggan(),this.loading=!1;else return await V.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=Be.headers,i=this.items;k.print(t,e,a,i)},submitForm(t){V.postPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.message=e.response.data,this.valert=!0})},editForm(){let t={kode_pelanggan:"ASMT",nama:"Auristeel Metalindo Terboyo",alamat:"Semarang",npwp:"0.0.0.0",status:"true"};V.putPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},del(t){V.deletePelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})}},mounted(){this.fetchData(),this.page()}}),el=Object.assign(xn,{setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-row"),m=s("v-container");return r(),K(R,null,[n(m,{class:"pt-9 h-100"},{default:l(()=>[n(o,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[$("div",Xn,[g(w).routes(e.authority,"Tambah Pelanggan Baru")?(r(),u(De,{key:0,keyform:g(Be).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,headers:g(Be).headers,items:e.items,category:e.category,toolbar_title:"Tambah Data"},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):h("",!0)])]),_:1}),n(i,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",Zn,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=p=>e.search=p),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0)])]),_:1})]),_:1}),n(re,{id:"tbl_exporttable_to_xls",create:g(w).routes(e.authority,"Tambah Pelanggan Baru"),update:g(w).routes(e.authority,"Ubah Pelanggan"),hapus:g(w).routes(e.authority,"Hapus Pelanggan"),window:e.window,keyform:g(Be).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,headers:g(Be).headers,items:e.items,search:e.search,category:e.category,toolbar_title:"Edit Data",form:e.form,pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","form","pageTitle"])]),_:1}),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[1]||(a[1]=p=>e.valert=p),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),tl=[{title:"Kode Supplier",align:"start",key:"kode_supplier",dis:!0},{title:"Nama",align:"start",key:"nama",dis:!0},{title:"Alamat",align:"start",key:"alamat",dis:!0},{title:"Kota",align:"start",key:"kota",dis:!0},{title:"Negara",align:"start",key:"negara",dis:!0},{title:"",align:"end",key:"actions",sortable:!1}],al=["kode_supplier","nama","alamat","kota","negara","status"],Fe={headers:tl,keyform:al};const nl={class:"d-flex"},ll={props:["cetak","window"],components:{TableVue:re,menuList:Q,textField:q,CircularLoader:X},data(){return{drawer:!1,loading:!0,authority:"",akses:"",pageTitle:"DATA SUPPLIER",search:"",alpha:0,items:""}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await V.getOtoritas(t),this.authority=w.otoritas(this.akses)),w.routes(this.akses,"Data Supplier"))this.loading=!0,this.items=await V.getSupplier(),this.loading=!1;else return await V.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=Fe.headers,i=this.items;k.print(t,e,a,i)}},mounted(){this.page(),this.fetchData()}},il=Object.assign(ll,{__name:"DataSupplier",setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-row"),m=s("v-container");return r(),K(R,null,[n(m,{class:"h-100 pt-9"},{default:l(()=>[n(o,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",nl,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=p=>e.search=p),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0)])]),_:1})]),_:1}),n(re,{window:t.window,keyform:g(Fe).keyform,ishidden:!0,disabled:!0,noselect:!0,id:"tbl_exporttable_to_xls",screen:400,headers:g(Fe).headers,items:e.items,view:!0,search:e.search,toolbar_title:"Detail Data",pageTitle:e.pageTitle},null,8,["window","keyform","headers","items","search","pageTitle"])]),_:1}),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),sl=Ne({props:["user","cetak","window"],name:"UserView",components:{BtnInfo:x,BtnCancel:E,BtnOrange:J,AlertVue:ee,DialogConfirm:fe,TableVue:re,UserDetail:Oe,CircularLoader:X},data(){return{drawer:!1,detail:!1,confirmdialog:!1,pageTitle:"DATA USER",loading:!0,tab:null,valert:!1,message:"",status:null,username:"",password:"",otority:"",akses:"",authority:"",dialogotoritas:[],userselect:"",open:["barang","Laporan"],scrollInvoked:0,items:"",head:[{title:"Username",key:"username"},{key:"actions",align:"end"}],jns_otoritas:["Data Barang","Data Pelanggan","Data Supplier","Data User","Pembelian","Produksi","Penjualan","Pengiriman","Laporan"],user_otoritas:"",headers:[{title:"Jenis Otoritas",key:"jenis_otoritas"},{title:"Tambah Data",key:"tambah"},{title:"Edit Data",key:"edit"},{title:"Batal/Hapus Data",key:"hapus"}]}},methods:{async fetchData(){let t=localStorage.getItem("user");t!=null&&(this.akses=await V.getOtoritas(t),this.authority=w.otoritas(this.akses)),w.routes(this.akses,"Data User")?(this.loading=!0,this.items=await V.getUser(),this.otority=await V.getOtoritas(this.userselect),this.user_otoritas=w.otoritas(this.otority),this.loading=!1):await V.logout()},async pilihUser(t){this.userselect=t;let e=await V.getOtoritas(t);this.user_otoritas=w.otoritas(e)},page(){return this.$emit("page",this.pageTitle)},dataUser(t,e){this.username=t,this.password=e},onScroll(){this.scrollInvoked++},dialog(t){this.tambah=!1,this.ds={},this.detail=!0,this.pilihUser(t)},updt(){this.fetchData()},postUser(t){V.postUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editUser(t){V.editUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},deleteUser(t){V.deleteUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})}},mounted(){this.page(),this.fetchData()}}),ol=Object.assign(sl,{setup(t){return(e,a)=>{const i=s("v-responsive"),o=s("v-row"),m=s("v-container");return r(),u(m,{class:"pt-9 h-100"},{default:l(()=>[n(o,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(i,{class:"mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[n(x,{onClick:a[0]||(a[0]=p=>(e.tambah=!0,e.edit=!1,e.detail=!0,e.ds=e.j_otoritas)),btn_title:"Tambah User",icon:"mdi-plus"})]),_:1})]),_:1}),n(re,{window:e.window,userdetail:!0,items:e.items,headers:e.head,editdata:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect,otority:e.otority,onEdit:e.editUser,onDel:e.deleteUser},null,8,["window","items","headers","user_otoritas","j_otoritas","userselect","otority","onEdit","onDel"]),n(Oe,{modelValue:e.detail,"onUpdate:modelValue":a[2]||(a[2]=p=>e.detail=p),onSubmitUser:e.postUser,tambahUser:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect},{cancel:l(()=>[n(E,{onClick:a[1]||(a[1]=p=>e.detail=!1),btn_title:"Batal",class:"mx-2"})]),_:1},8,["modelValue","onSubmitUser","user_otoritas","j_otoritas","userselect"]),n(fe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[5]||(a[5]=p=>e.confirmdialog=p),object:e.pageTitle},{yesButton:l(()=>[n(J,{onClick:a[3]||(a[3]=p=>(e.deleteUser(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(E,{class:"me-2",onClick:a[4]||(a[4]=p=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[6]||(a[6]=p=>e.valert=p),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])]),_:1})}}}),rl={class:"d-flex align-center w-100"},ul={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},dl={components:{PemasukanDetail:Ue,dialogConfirm:fe,TableVue:re,filterDrawer:ne,textField:q,menuList:Q,checkBox:ye,DatePicker:G,BtnOrange:J,BtnCancel:E,AlertVue:ee,CircularLoader:X},props:["cetak","tema","window","windowH"],data(){return{search:"",periode:[],filter:!1,confirmdialog:!1,loading:!0,status:null,valert:!1,authority:"",message:"",pageTitle:"PEMASUKAN BARANG",btn:"Tambah Barang",sortBy:[{key:"no_pembelian",order:"desc"}],selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",barang:"",pemasukan_item:"",pembelian_head:"",pdetail:"",items:"",dataitems:"",supplier:"",pembeliandetl:"",filtered:{selectdokumen:[],periode:[]},details:[]}},created(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}this.authority!=""?(this.loading=!0,this.items=await V.getPemasukanHead(this.periode),this.supplier=await V.getSupplier(),this.pembeliandetl=await V.getPemasukanDetail(this.periode),this.barang=await V.getBarang(),this.dataitems=te.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1):await V.logout()},inputhead(t,e){V.postPemasukan(t,e).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){V.deletePemasukan(this.pembelian_head,this.pdetail).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.pembelian_head=t,this.pdetail=e},selected(){this.fetchData()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=te.headers,i=this.dataitems;k.print(t,e,a,i)},reset(){this.def=!0,this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()],this.filtered.selectdokumen=[],this.selectdokumen=[],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.selected(),this.page()}},ml=Object.assign(dl,{__name:"PemasukanBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-responsive"),_=s("v-btn"),D=s("v-row"),v=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=b=>e.filter=b),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=b=>e.filtered.periode[0]=b),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"",class:"mb-4",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=b=>e.filtered.periode[1]=b),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),K(R,null,I(g(te).tipedokumen,(b,P)=>(r(),u(ye,{key:P,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=f=>e.filtered.selectdokumen=f),label:b,value:b},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(v,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"mt-n4"},{default:l(()=>[n(p,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[$("div",rl,[g(w).routes(e.authority,"Tambah Pembelian Baru")?(r(),u(Ue,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,barang:e.barang,batalbtn:"Pemasukan",datainput:g(te).datainput,onInputhead:e.inputhead,pemasukan:!0,supplier:e.supplier,edit:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:g(te).headDetails,details:e.details,headers:g(te).headers,items:e.dataitems,pembeliandetl:e.pembeliandetl,search:e.search,category:g(te).tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","windowH","tema","barang","datainput","onInputhead","supplier","itemDetail","datatext","btn","headDetails","details","headers","items","pembeliandetl","search","category","selectCategory","pageTitle"])):h("",!0)])]),_:1}),n(p,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[$("div",ul,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=b=>e.search=b),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{onClick:a[5]||(a[5]=b=>e.filter=!e.filter)}),n(_,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=b=>e.fetchData())})])]),_:1})]),_:1}),n(re,{window:t.window,windowH:t.windowH,sortby:g(te).sortBy,hapus:g(w).routes(e.authority,"Batal Pembelian"),id:"tbl_exporttable_to_xls",items:e.dataitems,search:e.search,headers:g(te).headers,masuk:!0,supplier:e.supplier,pembeliandetl:e.pembeliandetl,onConfirm:e.confirm,pageTitle:e.pageTitle,class:"mt-2"},null,8,["window","windowH","sortby","hapus","items","search","headers","supplier","pembeliandetl","onConfirm","pageTitle"]),n(fe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=b=>e.confirmdialog=b),object:e.pageTitle,item:e.pembelian_head.no_pembelian,mess:"Membatalkan"},{yesButton:l(()=>[n(J,{onClick:a[7]||(a[7]=b=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(E,{class:"me-2",onClick:a[8]||(a[8]=b=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=b=>e.valert=b),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),gl={components:{VDataTable:ge,dialogScroll:ve,btnInfoVue:x,btnCancel:E,btnOrange:J,DatePicker:G,TextFieldForm:C,TextField:q,DialogVue:ke,TextButton:Z,CurrencyInput:ae},props:["window","windowH","tema","headers","headItem","edit","hapus","getbarang","getKonversi","detailbahan","groupbarang","detailbarang","select_kode","item"],data(){return{dialog:!1,dialog2:!1,dialogBahan:!1,dialogbhn:[],dialogbrg:[],dialog5:!1,valert:!1,more:0,status:null,message:"",searched:"",inputbahan:"",inputbarang:"",masuk:"",konversi:"",inputproduksi:ce.input,btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="55vh":this.window<1500&&(this.windowH>800?t="60vh":t="55vh"):this.edit||(this.window>1500?this.windowH>800?t="55vh":t="50vh":this.window<1500&&(this.windowH>800?t="50vh":this.windowH<700?t="40vh":t="50vh")),t},filterkodegroup(){let t=[];if(this.edit)return null;for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return k.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))},group_detail(){if(this.edit)return null;{let t=[];for(let e=0;e<this.filterkodegroup.length;e++)for(let a=0;a<this.groupbarang.length;a++)this.filterkodegroup[e]==this.groupbarang[a].kode_group&&t.push(this.groupbarang[a]);return t}}},methods:{lainnya(){let t=this.more+10;this.more=t},bahanmasuk(t){this.inputbahan=t,this.dialogBahan=!1},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){if(this.inputproduksi.kode_group==""&&(this.inputproduksi.kode_group=t),this.inputproduksi.kode_group!=""){this.inputbahan="";for(let e=0;e<this.inputbarang.length;e++)this.inputbarang.splice(0,this.inputbarang.length)}this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},deleteditem(t,e){let a=[];e=="bahan"&&(a=this.inputbahan),e=="barang"&&(a=this.inputbarang);for(let i=0;i<a.length;i++)t==a[i]&&a.splice(i,1)},jumlahtotal(t,e){let a=[];if(e=="konversi"){for(let i=0;i<t.length;i++)a.push(t[i].jumlah_konversi);return a.reduce((i,o)=>i+o,0)}else{for(let i=0;i<t.length;i++)a.push(t[i].jumlah);return a.reduce((i,o)=>i+o,0)}},confirm(){this.$emit("confirm",this.item,this.detailbahan,this.detailbarang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=this.inputbahan,a=[];for(let i=0;i<this.inputbarang.length;i++)a.push({kode_barang:this.inputbarang[i].kode_barang,kode_konversi:this.inputbarang[i].kode_konversi,jumlah:this.inputbarang[i].jumlah,jumlah_konversi:this.inputbarang[i].jumlah_konversi});return this.$emit("inputhead",this.inputproduksi,e,a)}}},mounted(){}},Me=Object.assign(gl,{__name:"ScreenDialog2",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-list"),m=s("v-menu"),p=s("v-toolbar-title"),_=s("v-spacer"),D=s("v-toolbar"),v=s("v-row"),b=s("v-div"),P=s("v-divider"),f=s("v-form"),B=s("v-span"),A=s("v-card-title"),T=s("v-card-subtitle"),j=s("v-sheet"),U=s("v-container"),N=s("v-responsive"),F=s("v-card"),z=s("v-btn"),le=s("v-dialog");return r(),u(le,{modelValue:e.dialog,"onUpdate:modelValue":a[15]||(a[15]=L=>e.dialog=L),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:L})=>[t.edit?h("",!0):(r(),u(x,M({key:0,btn_title:"Tambah Baru"},L,{icon:"mdi-plus"}),null,16)),n(m,null,{activator:l(({props:c})=>[t.edit?(r(),u(Z,M({key:0,id:"menu-actions"},c,{icon:"mdi-dots-vertical"}),null,16)):h("",!0)]),default:l(()=>[n(o,null,{default:l(()=>[n(i,M({class:"text-caption",density:"compact"},L),{default:l(()=>[d("Lihat Data")]),_:2},1040),t.hapus?(r(),u(i,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=c=>e.confirm())},{default:l(()=>[d("Batal Produksi")]),_:1})):h("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(F,null,{default:l(()=>[n(D,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Z,{icon:"mdi-close",color:"white",onClick:a[1]||(a[1]=L=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]})}),n(p,{class:"text-button"},{default:l(()=>[d("DETAIL PRODUKSI")]),_:1}),n(_)]),_:1}),n(U,{class:"mt-5"},{default:l(()=>[n(f,{onSubmit:a[8]||(a[8]=Ve(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(b,{class:"w-100"},{default:l(()=>[n(b,{class:"d-flex justify-space-between"},{default:l(()=>[n(v,{"no-gutters":""},{default:l(()=>[t.edit?(r(),u(C,{key:0,"model-value":t.item.no_produksi,label:"No Produksi",readonly:""},null,8,["model-value"])):h("",!0),t.edit?h("",!0):(r(),u(C,{key:1,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":a[2]||(a[2]=L=>e.inputproduksi.no_produksi=L)},null,8,["modelValue"]))]),_:1}),n(v,{"no-gutters":"",class:"mx-3"},{default:l(()=>[t.edit?h("",!0):(r(),u(G,{key:0,"max-date":new Date,label:"Tgl Produksi",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":a[3]||(a[3]=L=>e.inputproduksi.tgl_produksi=L),tema:t.tema,rules:e.required},null,8,["max-date","modelValue","tema","rules"])),t.edit?(r(),u(C,{key:1,label:"Tgl Produksi",readonly:!0,rules:e.required,"model-value":g(k).formatDate(t.item.tgl_produksi)},null,8,["rules","model-value"])):h("",!0)]),_:1}),n(v,{"no-gutters":""},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Kode Group","model-value":t.item.kode_group,readonly:"",rules:e.required},null,8,["model-value","rules"])):h("",!0),t.edit?h("",!0):(r(),u(C,{key:1,label:"Kode Group",readonly:"",onClick:a[4]||(a[4]=L=>(e.dialog5=!0,e.more=15)),modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":a[5]||(a[5]=L=>e.inputproduksi.kode_group=L),rules:e.required},null,8,["modelValue","rules"]))]),_:1})]),_:1}),n(P,{class:"mb-3"}),n(b,{class:"d-flex justify-space-between"},{default:l(()=>[n(v,{"no-gutters":""},{default:l(()=>[t.edit?h("",!0):(r(),u(C,{key:0,readonly:"",onClick:a[6]||(a[6]=L=>e.dialogBahan=!0),label:"Bahan Baku","model-value":e.inputbahan},null,8,["model-value"])),n(ve,{modelValue:e.dialogBahan,"onUpdate:modelValue":a[7]||(a[7]=L=>e.dialogBahan=L),window:t.window,dialog_title:"stok barang",group_detail:e.group_detail,produksi:!0,btn:e.btn[0],width:"400",barang:t.detailbahan,tambah:!0,bahanbaku:!0,getbarang:t.select_kode,kodegroup:e.inputproduksi.kode_group,onPemasukanitem:e.bahanmasuk},null,8,["modelValue","window","group_detail","btn","barang","getbarang","kodegroup","onPemasukanitem"]),t.edit?(r(),u(C,{key:1,label:"Bahan Baku",readonly:"","model-value":t.detailbahan.kode_barang+"-"+t.detailbahan.nama_barang},null,8,["model-value"])):h("",!0)]),_:1}),t.edit?(r(),u(v,{key:0,"no-gutters":"",class:"mx-3"},{default:l(()=>[n(C,{label:"Jumlah",readonly:"","model-value":t.detailbahan.jumlah},null,8,["model-value"])]),_:1})):h("",!0),t.edit?(r(),u(v,{key:1,"no-gutters":""},{default:l(()=>[n(C,{label:"Satuan",readonly:"","model-value":t.detailbahan.satuan},null,8,["model-value"])]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1},512),n(v,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"mx-sm-0 mx-3","min-width":"400"},{default:l(()=>[n(N,{class:"mt-md-0 mt-1 text-sm-left text-center",width:"400"},{default:l(()=>[t.edit?h("",!0):(r(),u(ve,{key:0,dialog_title:"data barang",produksi:!0,inptbarang:!0,kodegroup:e.inputproduksi.kode_group,btn:e.btn[1],width:"400",barang:t.detailbarang,getbarang:t.getbarang,getKonversi:t.getKonversi,inputbahan:e.inputbahan,tambah:!0,onPemasukanitem:e.barangmasuk},null,8,["kodegroup","btn","barang","getbarang","getKonversi","inputbahan","onPemasukanitem"])),t.edit?(r(),u(v,{key:1,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[d("detail barang")]),_:1})):h("",!0),n(U,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(g(ge),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption he",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),u(B,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah : "+y(g(k).numb(e.jumlahtotal(t.detailbarang))),1)]),_:1})):h("",!0),t.edit?h("",!0):(r(),u(B,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah Konversi : "+y(g(k).numb(e.jumlahtotal(e.inputbarang,"konversi"))),1)]),_:1})),t.edit?h("",!0):(r(),u(B,{key:2,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Jumlah : "+y(g(k).numb(e.jumlahtotal(e.inputbarang))),1)]),_:1}))]),"item.jumlah":l(({item:L})=>[d(y(g(k).numb(L.raw.jumlah)),1)]),"item.actions":l(({item:L,index:c})=>[n(ke,{onUpdate:e.dialogbrg,persistent:!t.edit,modelValue:e.dialogbrg[c],"onUpdate:modelValue":S=>e.dialogbrg[c]=S},{titlecard:l(()=>[n(A,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(y(L.raw.konversi==""?L.raw.nama_barang:L.raw.nama_konversi),1)]),_:2},1024),n(T,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(y(L.raw.konversi==""?L.raw.kode_barang:L.raw.kode_konversi),1)]),_:2},1024)]),content:l(()=>[n(j,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit&&!L.raw.konversi?(r(),u(C,{key:0,"model-value":g(k).numb(L.raw.jumlah),label:"Jumlah",readonly:""},null,8,["model-value"])):h("",!0),!t.edit&&!L.raw.konversi?(r(),u(ae,{key:1,modelValue:L.raw.jumlah,"onUpdate:modelValue":S=>L.raw.jumlah=S,label:"Jumlah",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])):h("",!0),t.edit&&L.raw.konversi?(r(),u(C,{key:2,"model-value":g(k).numb(L.raw.jumlah_konversi),label:"Jumlah Konversi",readonly:""},null,8,["model-value"])):h("",!0),!t.edit&&L.raw.konversi?(r(),u(ae,{key:3,modelValue:L.raw.jumlah_konversi,"onUpdate:modelValue":S=>L.raw.jumlah_konversi=S,label:"Jumlah Konversi",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])):h("",!0)]),_:2},1024),n(P,{class:"mt-3 mb-5"}),t.edit?h("",!0):(r(),u(b,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(E,{btn_title:"Hapus",onClick:S=>(e.deleteditem(L.raw,"barang"),e.dialogbrg[c]=!1),class:"me-2"},null,8,["onClick"]),n(J,{btn_title:"Simpan",type:"submit",onClick:S=>e.dialogbrg[c]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","persistent","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1})]),_:1}),n(v,{"no-gutters":"",class:"float-end mt-3"},{default:l(()=>[t.edit?h("",!0):(r(),u(E,{key:0,onClick:a[9]||(a[9]=L=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]}),btn_title:"Batal"})),t.edit?h("",!0):(r(),u(J,{key:1,onClick:e.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"]))]),_:1})]),_:1})]),_:1}),n(le,{modelValue:e.dialog5,"onUpdate:modelValue":a[13]||(a[13]=L=>e.dialog5=L),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(F,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(z,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[10]||(a[10]=L=>e.dialog5=!1)})):h("",!0),n(A,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("KODE GROUP")]),_:1}),n(b,null,{default:l(()=>[n(q,{modelValue:e.searched,"onUpdate:modelValue":a[11]||(a[11]=L=>e.searched=L),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(o,null,{default:l(()=>[(r(!0),K(R,null,I(e.filterkodegroup.slice(0,e.more),(L,c)=>(r(),u(b,{key:c},{default:l(()=>[n(i,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:S=>(e.input_kodegroup(L),e.dialog5=!1)},{default:l(()=>[n(B,{class:"text-caption"},{default:l(()=>[d(y(L),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),e.filterkodegroup.length>e.more?(r(),u(b,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(P,{length:"50"}),n(z,{onClick:a[12]||(a[12]=L=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[d("lihat lainnya")]),_:1}),n(P,{length:"50"})]),_:1})):h("",!0)]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[14]||(a[14]=L=>e.valert=L),sukses:e.status,message:e.message,status:e.status},null,8,["modelValue","sukses","message","status"])]),_:1},8,["modelValue"])}}}),pl={class:"d-flex justify-sm-end justify-start"},hl={props:["cetak","tema","user","window","windowH"],data(){return{filter:!1,drawer:null,search:"",periode:[],dialog2:!1,confirmdialog:!1,loading:!0,valert:!1,authority:"",status:null,message:"",pageTitle:"PRODUKSI BARANG",selectCategory:"semua",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_produksi",order:"desc"}],filtered:{periode:[]},items:"",detailbahan:"",head:"",detailbhn:"",detailbrg:"",detailbarang:"",groupbarang:"",getbarang:"",getKonversi:"",getbahan:"",temp:"",select_kode:[]}},created(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await V.getProduksiHead(this.periode);this.detailbahan=await V.getProDBahan(this.periode),this.detailbarang=await V.getProDBarang(this.periode);let a=ce.items(e,this.detailbahan,this.detailbarang);this.items=ce.noDuplicate(a),this.groupbarang=await V.getGroupBarang(),this.getbarang=await V.getBarang(),this.getKonversi=await V.getKonversi(),this.loading=!1}else return await V.logout()},inputhead(t,e,a){V.postProduksi(t,e,a).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(i=>{this.status=!1,this.valert=!0,this.message=i.response.data})},del(){V.deleteProduksi(this.head,this.detailbhn,this.detailbrg).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e,a){this.confirmdialog=!0,this.head=t,this.detailbrg=e,this.detailbhn=a},selected(){return this.fetchData()},input_kodegroup(t){let e=[],a=[];for(let i=0;i<this.groupbarang.length;i++)this.groupbarang[i].kode_group==t&&e.push(this.groupbarang[i].kode_barang);for(let i=0;i<this.getbarang.length;i++)for(let o=0;o<e.length;o++)this.getbarang[i].kode_barang==e[o]&&a.push({kode_group:t,no_produksi:this.getbarang[i].no_produksi,kode_barang:this.getbarang[i].kode_barang,nama_barang:this.getbarang[i].nama_barang,hs_code:this.getbarang[i].hs_code,jumlah:this.getbarang[i].jumlah,satuan:this.getbarang[i].satuan,no_urut:this.getbarang[i].no_urut,nilai:this.getbarang[i].nilai});return this.temp=a,this.select_kode=e},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=ce.headers,i=this.items;k.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[this.tglawal(),k.day()],this.filtered.periode=[this.tglawal(),k.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()}},mounted(){this.fetchData(),this.page()}},cl=Object.assign(hl,{__name:"ProduksiBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-div"),_=s("v-responsive"),D=s("v-btn"),v=s("v-row"),b=s("v-sheet"),P=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=f=>e.filter=f),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"","max-date":new Date,modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=f=>e.filtered.periode[0]=f),filter:!0,tema:t.tema},null,8,["max-date","modelValue","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"","min-date":e.filtered.periode[0],modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=f=>e.filtered.periode[1]=f),filter:!0,tema:t.tema},null,8,["min-date","modelValue","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(P,{class:"pt-9 h-100"},{default:l(()=>[n(v,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(_,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[n(p,{class:"d-flex align-center w-100"},{default:l(()=>[g(w).routes(e.authority,"Tambah Produksi Baru")?(r(),u(Me,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,headers:g(ce).headItem,items:e.items,groupbarang:e.groupbarang,getbarang:e.getbarang,getKonversi:e.getKonversi,onInput_kodegroup:e.input_kodegroup,onInputhead:e.inputhead,select_kode:e.temp},null,8,["window","windowH","tema","headers","items","groupbarang","getbarang","getKonversi","onInput_kodegroup","onInputhead","select_kode"])):h("",!0)]),_:1})]),_:1}),n(_,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[$("div",pl,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=f=>e.search=f),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{onClick:a[4]||(a[4]=f=>e.filter=!e.filter)}),n(D,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=f=>e.fetchData())})])]),_:1})]),_:1}),n(b,{height:t.window>776?"95%":"87%"},{default:l(()=>[n(g(ot),{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=f=>e.sortBy=f),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:g(ce).headers,items:e.items,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 h-100 border-sm rounded-lg",height:t.window>776?"100%":"92%"},{"item.tgl_produksi":l(({item:f})=>[d(y(g(k).formatDate(f.raw.tgl_produksi)),1)]),"item.actions":l(({item:f})=>[n(Me,{window:t.window,windowH:t.windowH,hapus:g(w).routes(e.authority,"Batal Pembelian"),batalbtn:"Produksi",edit:!0,detailbahan:g(ce).bahan(f.raw.no_produksi,e.detailbahan),detailbarang:g(ce).barang(f.raw.no_produksi,e.detailbarang),onConfirm:e.confirm,headItem:g(ce).headItem,item:f.raw,headers:g(ce).headers},null,8,["window","windowH","hapus","detailbahan","detailbarang","onConfirm","headItem","item","headers"])]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(fe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=f=>e.confirmdialog=f),object:e.pageTitle,item:e.head.no_produksi,mess:"Membatalkan"},{yesButton:l(()=>[n(J,{onClick:a[7]||(a[7]=f=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(E,{class:"me-2",onClick:a[8]||(a[8]=f=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=f=>e.valert=f),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),fl=["BC25","BC41"],kl=[{title:"menunggu",key:"open"},{title:"selesai",key:"true"}],bl=[{title:"Nomor Pengeluaran",key:"no_penjualan"},{title:"Tanggal Keluar",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Total Penjualan",key:"total_penjualan"},{title:"",key:"actions",sortable:!1}],_l=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],vl={no_penjualan:"",tgl_penjualan:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",kode_pelanggan:"",kode_group:"",total_penjualan:"",tgl_input:k.day(),user_input:"admin",tgl_batal:"",user_batal:"",status:"status"},yl=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_pelanggan==e[o].kode_pelanggan&&a.push({no_penjualan:t[i].no_penjualan,tgl_penjualan:t[i].tgl_penjualan,tipe_dokumen:t[i].tipe_dokumen,tgl_dokumen:t[i].tgl_dokumen,no_dokumen:t[i].no_dokumen,nama:e[o].nama,kode_pelanggan:e[o].kode_pelanggan,kode_group:t[i].kode_group,user_input:t[i].user_input,user_batal:"",tgl_input:t[i].tgl_input,tgl_batal:t[i].tgl_batal,total_penjualan:t[i].total_penjualan,status:t[i].status});return a},xe=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.tipe_dokumen)),wl=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].no_penjualan==e&&a.push(t[i]);return a},jl=(t,e,a)=>{let i=xe(t,e);return a.length===0?i:i.filter(o=>a.includes(o.status))},Vl=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)e[i].no_penjualan==t[o].no_penjualan&&a.push({no_penjualan:e[i].no_penjualan,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,hs_code:e[i].hs_code,jumlah:e[i].jumlah,jumlah_terkirim:e[i].jumlah_terkirim,satuan:e[i].satuan,harga_jual:e[i].harga_jual,tipe_dokumen:t[o].tipe_dokumen,no_dokumen:t[o].no_dokumen,tgl_dokumen:t[o].tgl_dokumen,kode_pelanggan:t[o].kode_pelanggan,kode_group:t[o].kode_group,total_penjualan:t[o].total_penjualan});return a},se={tipedokumen:fl,status:kl,headers:bl,headDetails:_l,datainput:vl,items:yl,pilihtipe:xe,penjualan:wl,checkstatus:jl,item_blmterikirim:Vl};const Dl={components:{dialogScroll:ve,VDataTable:ge,datePickerVue:G,BtnInfo:x,textFieldForm:C,BtnCancel:E,BtnOrange:J,dialogSearch:Se,TextField:q,DialogVue:ke,CurrencyInput:ae},props:["tema","window","windowH","hapus","pembelianbaru","namaPelanggan","laporan","groupbarang","barang","batalbtn","penjualan","pemasukan","alamatBongkar","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,dialogkodeg:!1,valid:!1,more:0,detaildial:[],arr:[],tipe_dokumen:["BC25","BC41"],searched:"",nama:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:"",inputdata:this.datainput,kurs:"",pemasukan_detail:"",penjualan_detail:[this.penjualan],required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="50vh":this.window<1500&&(this.windowH>800?t="60vh":t="47vh"):this.edit||(this.window>1500?this.windowH>800?t="40vh":t="32vh":this.window<1500&&(this.windowH>800?t="40vh":t="32vh")),t},filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){let t=[];for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return k.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{lainnya(){let t=this.more+10;this.more=t},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.items,this.penjualan)},tipeDokumen(t){this.inputdata.kode_group=t;let e="";return t.slice(0,4)=="BC23"&&(e="BC25"),t.slice(0,4)=="BC40"&&(e="BC41"),t.slice(0,9)=="PPKEK-LDP"&&(e="BC25"),t.slice(0,11)=="PPKEK-TLDDP"&&(e="BC41"),t.slice(0,10)=="PPKEK-TDDP"&&(e="BC41"),this.inputdata.tipe_dokumen=e},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].jumlah*t[i].harga_jual);return a.reduce((i,o)=>i+o,0)},pilihObjek(t){this.inputdata.kode_pelanggan=t.kode_pelanggan,this.namasupplier=t.nama,this.dialog4=!1},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_penjualan:this.pembelian_input[a].no_penjualan,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_terkirim:this.pembelian_input[a].jumlah_terkirim,satuan:this.pembelian_input[a].satuan,harga_jual:this.pembelian_input[a].harga_jual,total_terjual:this.pembelian_input[a].total_terjual,no_urut:a+1});this.$emit("inputhead",this.inputdata,e)}}},mounted(){}},Ge=Object.assign(Dl,{__name:"PengeluaranDetail",setup(t){return(e,a)=>{const i=s("v-icon"),o=s("v-btn"),m=s("v-list-item"),p=s("v-list"),_=s("v-menu"),D=s("v-toolbar-title"),v=s("v-spacer"),b=s("v-toolbar"),P=s("v-responsive"),f=s("v-row"),B=s("v-form"),A=s("v-container"),T=s("v-span"),j=s("v-if"),U=s("v-card-title"),N=s("v-card-subtitle"),F=s("v-div"),z=s("v-divider"),le=s("v-card"),L=s("v-dialog");return r(),u(L,{modelValue:e.dialog,"onUpdate:modelValue":a[15]||(a[15]=c=>e.dialog=c),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:c})=>[t.edit?h("",!0):(r(),u(x,M({key:0,icon:"mdi-plus",btn_title:"Tambah Baru"},c),null,16)),n(_,null,{activator:l(({props:S})=>[t.edit?(r(),u(o,M({key:0,id:"menu-actions",size:"small",variant:"text",color:"grey-darken-2"},S,{icon:""}),{default:l(()=>[n(i,null,{default:l(()=>[d("mdi-dots-vertical")]),_:1})]),_:2},1040)):h("",!0)]),default:l(()=>[n(p,null,{default:l(()=>[n(m,M({class:"text-caption",density:"compact"},c),{default:l(()=>[d("Lihat Data")]),_:2},1040),!t.laporan&&t.hapus?(r(),u(m,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=S=>e.confirm())},{default:l(()=>[d("Batal Pengeluaran")]),_:1})):h("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(le,null,{default:l(()=>[n(b,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(o,{icon:"",dark:"",onClick:a[1]||(a[1]=c=>(e.inputdata={},e.pembelian_input=[],e.dialog=!1)),size:"small"},{default:l(()=>[n(i,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(D,{class:"text-button mt-1"},{default:l(()=>[d(y("DETAIL "+t.pageTitle),1)]),_:1}),n(v)]),_:1}),n(A,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(r(),u(f,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(P,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Penjualan","model-value":t.items.no_penjualan,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Penjualan","model-value":g(k).formatDate(t.items.tgl_penjualan),readonly:""},null,8,["model-value"])]),_:1}),n(P,{class:"pt-2 mx-3 pt-2",width:"250"},{default:l(()=>[n(C,{label:"Pelanggan","model-value":t.items.nama,readonly:""},null,8,["model-value"]),n(C,{label:"Kode Group","model-value":t.items.kode_group,readonly:""},null,8,["model-value"])]),_:1}),n(P,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"]),n(C,{label:"Tgl Dokumen","model-value":g(k).formatDate(t.items.tgl_dokumen),readonly:""},null,8,["model-value"])]),_:1})]),_:1})):h("",!0),n(B,{onSubmit:a[9]||(a[9]=Ve(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[!t.edit&&t.pengeluaran?(r(),u(f,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400"},{default:l(()=>[n(P,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{label:"No Pengeluaran",modelValue:e.inputdata.no_penjualan,"onUpdate:modelValue":a[2]||(a[2]=c=>e.inputdata.no_penjualan=c),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"]),n(G,{label:"Tgl Keluar",modelValue:e.inputdata.tgl_penjualan,"onUpdate:modelValue":a[3]||(a[3]=c=>e.inputdata.tgl_penjualan=c),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1}),n(P,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[t.edit?h("",!0):(r(),u(Se,{key:0,window:t.window,label:"Pelanggan",objectFilter:t.pelanggan,onPilihObjek:e.pilihObjek,cardTitle:"PELANGGAN","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"])),n(C,{label:"Kode Group",onClick:a[4]||(a[4]=c=>(e.dialogkodeg=!0,e.more=15)),modelValue:e.inputdata.kode_group,"onUpdate:modelValue":a[5]||(a[5]=c=>e.inputdata.kode_group=c),readonly:"",rules:e.required},null,8,["modelValue","rules"])]),_:1}),n(P,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[6]||(a[6]=c=>e.inputdata.tipe_dokumen=c),rules:e.required,readonly:""},null,8,["modelValue","rules"]),n(C,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[7]||(a[7]=c=>e.inputdata.no_dokumen=c),rules:e.required},null,8,["modelValue","rules"]),n(G,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[8]||(a[8]=c=>e.inputdata.tgl_dokumen=c),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1})]),_:1})):h("",!0)]),_:1},512),t.edit?h("",!0):(r(),u(A,{key:1,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center mb-n5"},{default:l(()=>[n(ve,{window:t.window,dialog_title:"Data Barang",onReset:e.reset,pengeluaran:!0,inptbarang:!0,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,btn:t.btn,width:"400"},null,8,["window","onReset","barang","itemDetail","onPemasukanitem","btn"])]),_:1},8,["pembelianbaru","pembeliandetl"])),n(A,null,{default:l(()=>[n(g(ge),{headers:t.headDetails,items:t.edit?t.penjualan:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 mt-2 px-5 border-sm rounded-lg h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),u(T,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+y(g(k).numb(g(te).sum(t.penjualan)))+" / Total harga: "+y(g(k).numb(e.jumlahtotal(t.penjualan,"nilai"),2,!0)),1)]),_:1})):h("",!0),t.edit?h("",!0):(r(),u(T,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+y(g(k).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total harga: "+y(g(k).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.jumlah":l(({item:c})=>[d(y(g(k).numb(c.raw.jumlah)),1)]),"item.jumlah_terkirim":l(({item:c})=>[d(y(g(k).numb(c.raw.jumlah_terkirim)),1)]),"item.harga_jual":l(({item:c})=>[d(y(g(k).numb(c.raw.harga_jual,2,!0)),1)]),"item.total_terjual":l(({item:c,index:S})=>[t.edit?(r(),u(j,{key:0},{default:l(()=>[d(y(g(k).numb(c.raw.jumlah*c.raw.harga_jual,2,!0)),1)]),_:2},1024)):h("",!0),t.edit?h("",!0):(r(),u(j,{key:1},{default:l(()=>[d(y(g(k).numb(e.pembelian_input[S].jumlah*e.pembelian_input[S].harga_jual,2,!0)),1)]),_:2},1024))]),"item.tipe_dokumen":l(()=>[d(y(t.dokumenpjl.tipe_dokumen),1)]),"item.no_dokumen":l(()=>[d(y(t.dokumenpjl.no_dokumen),1)]),"item.actions":l(({item:c,index:S})=>[n(ke,{modelValue:e.detaildial[S],"onUpdate:modelValue":H=>e.detaildial[S]=H},{titlecard:l(()=>[n(U,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(y(c.raw.nama_barang),1)]),_:2},1024),n(N,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(y(c.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(F,{class:"mx-auto mt-5 w-75"},{default:l(()=>[t.edit?(r(),u(C,{key:0,label:"Jumlah","model-value":g(k).numb(c.raw.jumlah),active:"true",readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):h("",!0),t.edit?h("",!0):(r(),u(ae,{key:1,label:"Jumlah",modelValue:e.pembelian_input[S].jumlah,"onUpdate:modelValue":H=>e.pembelian_input[S].jumlah=H,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(r(),u(C,{key:2,label:"Harga","model-value":g(k).numb(c.raw.harga_jual,2,!0),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):h("",!0),t.edit?h("",!0):(r(),u(ae,{key:3,label:"Harga",modelValue:e.pembelian_input[S].harga_jual,"onUpdate:modelValue":H=>e.pembelian_input[S].harga_jual=H,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),n(C,{label:"Total Harga","model-value":t.edit?g(k).numb(c.raw.harga_jual*c.raw.jumlah):e.pembelian_input[S].harga_jual*e.pembelian_input[S].jumlah,readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])]),_:2},1024),n(z,{class:"mb-5"}),t.edit?h("",!0):(r(),u(F,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(E,{btn_title:"Hapus",onClick:H=>(e.deleteditem(c.raw),e.detaildial[S]=!1),hidden:t.disable,class:"me-2"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick","hidden"]),n(J,{btn_title:"Simpan",hidden:t.disable,onClick:H=>e.detaildial[S]=!1},{default:l(()=>[d("Simpan")]),_:2},1032,["hidden","onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1}),n(F,{class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[t.edit?h("",!0):(r(),u(E,{key:0,onClick:a[10]||(a[10]=c=>(e.dialog=!1,e.inputdata={},e.pembelian_input=[])),btn_title:"Batal",class:"mb-3"})),t.edit?h("",!0):(r(),u(J,{key:1,onClick:e.validate,hidden:t.disable,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick","hidden"]))]),_:1})]),_:1})]),_:1}),n(L,{modelValue:e.dialogkodeg,"onUpdate:modelValue":a[14]||(a[14]=c=>e.dialogkodeg=c),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(le,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(o,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[11]||(a[11]=c=>e.dialogkodeg=!1)})):h("",!0),n(U,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("KODE GROUP")]),_:1}),n(F,null,{default:l(()=>[n(q,{modelValue:e.searched,"onUpdate:modelValue":a[12]||(a[12]=c=>e.searched=c),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(p,null,{default:l(()=>[(r(!0),K(R,null,I(e.filterkodegroup.slice(0,e.more),(c,S)=>(r(),u(F,{key:S},{default:l(()=>[n(m,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:H=>(e.tipeDokumen(c),e.dialogkodeg=!1)},{default:l(()=>[d(y(c),1)]),_:2},1032,["onClick"])]),_:2},1024))),128)),e.filterkodegroup.length>e.more?(r(),u(F,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(z,{length:"50"}),n(o,{onClick:a[13]||(a[13]=c=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[d("lihat lainnya")]),_:1}),n(z,{length:"50"})]),_:1})):h("",!0)]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),Bl={class:"d-flex align-center w-100"},Pl={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},Tl={props:["cetak","tema","user","window","windowH"],data(){return{filter:!1,search:"",periode:"",checkStatus:[],datapelanggan:"",dialog2:!1,confirmdialog:!1,loading:!0,authority:"",status:null,valert:!1,message:"",pageTitle:"PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_penjualan",order:"desc"}],filtered:{selectdokumen:[],periode:[],status:[]},penjualan_head:"",penjualan_detail:"",head:"",detail:"",groupbarang:"",barang:""}},created(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await V.getPenjualanHead(this.periode);this.datapelanggan=await V.getPelanggan(),this.penjualan_head=se.items(e,this.datapelanggan),this.penjualan_detail=await V.getPenjualanDetail(this.periode),this.groupbarang=await V.getGroupBarang(),this.barang=await V.getBarang(),this.loading=!1}else return await V.logout()},close(t){return this.filter=t},inputhead(t,e){V.postPengeluaran(t,e).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){V.deletePengeluaran(this.head,this.detail).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dibatalkan",setTimeout(()=>{this.valert=!1},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=se.headers,i=this.penjualan_head;k.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()],this.filtered.selectdokumen=[],this.filtered.status=[],k.day(),this.selectdokumen=[],this.checkStatus=[],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.checkStatus=this.filtered.status,this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.selected()}},Sl=Object.assign(Tl,{__name:"PengeluaranBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-responsive"),_=s("v-btn"),D=s("v-row"),v=s("v-data-table-virtual"),b=s("v-sheet"),P=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[4]||(a[4]=f=>e.filter=f),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,null,{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=f=>e.filtered.periode[0]=f),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=f=>e.filtered.periode[1]=f),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),K(R,null,I(g(se).tipedokumen,(f,B)=>(r(),u(ye,{key:B,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=A=>e.filtered.selectdokumen=A),label:f,value:f},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Status")]),_:1}),n(o,{class:"mb-6"}),(r(!0),K(R,null,I(g(se).status,(f,B)=>(r(),u(ye,{key:B,modelValue:e.filtered.status,"onUpdate:modelValue":a[3]||(a[3]=A=>e.filtered.status=A),label:f.title,value:f.key},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(P,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(p,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[$("div",Bl,[g(w).routes(e.authority,"Tambah Penjualan Baru")?(r(),u(Ge,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,batalbtn:"Pengeluaran",datainput:g(se).datainput,pengeluaran:!0,groupbarang:e.groupbarang,pelanggan:e.datapelanggan,datatext:e.datatext,pageTitle:e.pageTitle,btn:e.btn,headDetails:g(se).headDetails,headers:g(se).headers,items:g(se).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),barang:e.barang,search:e.search,category:e.category,selectCategory:e.selectCategory,alpha:e.alpha,onInputhead:e.inputhead},null,8,["window","windowH","tema","datainput","groupbarang","pelanggan","datatext","pageTitle","btn","headDetails","headers","items","barang","search","category","selectCategory","alpha","onInputhead"])):h("",!0)])]),_:1}),n(p,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[$("div",Pl,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[5]||(a[5]=f=>e.search=f),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{onClick:a[6]||(a[6]=f=>e.filter=!e.filter)}),n(_,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[7]||(a[7]=f=>e.fetchData())})])]),_:1})]),_:1}),n(b,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(v,{"sort-by":e.sortBy,"onUpdate:sortBy":a[8]||(a[8]=f=>e.sortBy=f),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:g(se).headers,items:g(se).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.total_penjualan":l(({item:f})=>[d(y(g(k).numb(f.raw.total_penjualan,2,!0)),1)]),"item.tgl_penjualan":l(({item:f})=>[d(y(g(k).formatDate(f.raw.tgl_penjualan)),1)]),"item.actions":l(({item:f})=>[n(Ge,{window:t.window,windowH:t.windowH,hapus:g(w).routes(e.authority,"Batal Penjualan"),onConfirm:e.confirm,batalbtn:"Pengeluaran",namaPelanggan:g(Be).namaPelanggan(g(Be),f.raw.kode_pelanggan),penjualan:g(se).penjualan(e.penjualan_detail,f.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:g(se).headDetails,items:f.raw,headers:g(se).headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","windowH","hapus","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","headers","search","category","selectCategory"])]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(fe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[11]||(a[11]=f=>e.confirmdialog=f),object:e.pageTitle,item:e.head.no_penjualan,mess:"Membatalkan"},{yesButton:l(()=>[n(J,{class:"ms-2",onClick:a[9]||(a[9]=f=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(E,{onClick:a[10]||(a[10]=f=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[12]||(a[12]=f=>e.valert=f),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Ul=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"",key:"actions",sortable:!1}],Cl=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"Kode Group",key:"kode_group"},{title:"Nama Barang",key:"nama_barang"},{title:"Hs Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],$l=[{title:"No Penjualan",key:"no_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"Kode Konversi",key:"kode_konversi"},{title:"Nama Konversi",key:"nama_konversi"},{title:"Jumlah Konversi",key:"jumlah_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"",key:"actions",sortable:!1}],Ll={no_pengiriman:"",tgl_pengiriman:"",kode_pelanggan:"",kode_alamat_bongkar:"",supir:"",no_polisi:"",user_input:"",tgl_input:"",tgl_batal:"",user_batal:"",keterangan:"",status:""},Te=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)e[o].no_pengiriman==t&&(a=="nama"?i.push(e[o].nama_barang):i=e[o]);return a=="nama"?[...new Set(i)].toString():i},Nl=(t,e,a,i)=>{let o=[];for(let m=0;m<t.length;m++)for(let p=0;p<e.length;p++)for(let _=0;_<a.length;_++)t[m].kode_pelanggan==e[p].kode_pelanggan&&t[m].kode_alamat_bongkar==a[_].kode_pelanggan&&o.push({no_pengiriman:t[m].no_pengiriman,tgl_pengiriman:t[m].tgl_pengiriman,kode_pelanggan:e[p].kode_pelanggan,keterangan:t[m].keterangan,kode_alamat_bongkar:t[m].kode_alamat_bongkar,alamat:a[_].alamat,alamat_pelanggan:e[p].alamat,kabupaten:a[_].kabupaten,supir:t[m].supir,no_polisi:t[m].no_polisi,user_input:t[m].user_input,user_batal:t[m].user_batal,tgl_input:t[m].tgl_input,tgl_batal:t[m].tgl_batal,nama:a[_].nama,namaplg:e[p].nama,kode_barang:Te(t[m].no_pengiriman,i).kode_barang,kode_group:Te(t[m].no_pengiriman,i).kode_group,hs_code:Te(t[m].no_pengiriman,i).hs_code,satuan:Te(t[m].no_pengiriman,i).satuan,nama_barang:Te(t[m].no_pengiriman,i,"nama")});return o},Al=t=>t.filter((a,i)=>i===t.findIndex(o=>a.nama_barang===o.nama_barang)),Kl=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)for(let m=0;m<a.length;m++)e[o].no_pengiriman==t&&e[o].no_penjualan==a[m].no_penjualan&&i.push({no_penjualan:e[o].no_penjualan,tipe_dokumen:a[m].tipe_dokumen,no_dokumen:a[m].no_dokumen,kode_group:e[o].kode_group,kode_barang:e[o].kode_barang,nama_barang:e[o].nama_barang,hs_code:e[o].hs_code,jumlah:e[o].jumlah,satuan:e[o].satuan});return i},Ol=t=>{let e=[];for(let a=0;a<t.length;a++)e.push({kode_barang:t[a].kode_barang,kode_konversi:t[a].kode_konversi,nama:t[a].nama_konversi,satuan_konversi:t[a].satuan_konversi,berat:t[a].berat,status:t[a].status});return e},me={headers:Ul,headDetails:$l,datainput:Ll,headersLaporan:Cl,items:Nl,details:Kl,noDuplicate:Al,konversi:Ol};const Rl=$("br",null,null,-1),Hl={components:{dialogScroll:ve,VDataTable:ge,datePickerVue:G,btnInfoVue:x,BtnOrange:J,BtnCancel:E,TextFieldForm:C,TextField:q,DialogVue:ke,CurrencyInput:ae,AlertVue:ee},props:["tema","window","windowH","alamatBgkr","hapus","pjl_blmterkirm","pembelianbaru","namaPelanggan","detailkirim","nokirim","nopjl","pjl_detail","alamatBongkar","groupbarang","batalbtn","pengiriman","pemasukan","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","no","tipe","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category","barangKonversi"],data(){return{dialog:!1,dialog4:!1,dialogbongkar:!1,valid:!1,more:0,btnmore:!1,moretext:"lihat lainnya",status:"",message:"",valert:!1,detaildial:[],tipe_dokumen:["BC25","BC41"],searched:"",barang:"",belumkirim:"",belumkirim_detail:"",kirim_detail:"",item_blmterkirim:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",pembelian_input:"",kode_pelanggan:this.namaPelanggan,inputdata:this.datainput,kurs:"",required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="55vh":this.window<1500&&(this.windowH>800?t="60vh":t="55vh"):this.edit||(this.window>1500?this.windowH>800?t="50vh":t="43vh":this.window<1500&&(this.windowH>800?t="50vh":t="43vh")),t},filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.searched!=""?this.searchObj(this.alamatBongkar):this.alamatBongkar},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{async fetchData(){if(this.belumkirim=await V.getBelumTerkirim(),this.belumkirim_detail=await V.getBelumTerkirimDetail(),this.edit){let t=[];for(let a=0;a<this.nopjl.length;a++)t.push(await V.getHeadPenjualan(this.nopjl[a]));let e=[];for(let a=0;a<this.pjl_detail.length;a++)for(let i=0;i<t.length;i++)this.pjl_detail[a].no_penjualan==t[i][0].no_penjualan&&e.push({no_penjualan:this.pjl_detail[a].no_penjualan,tipe_dokumen:t[i][0].tipe_dokumen,no_dokumen:t[i][0].no_dokumen,kode_group:this.pjl_detail[a].kode_group,kode_barang:this.pjl_detail[a].kode_barang,kode_konversi:this.pjl_detail[a].kode_konversi,nama_konversi:this.pjl_detail[a].nama_konversi,nama_barang:this.pjl_detail[a].nama_barang,hs_code:this.pjl_detail[a].hs_code,jumlah:this.pjl_detail[a].jumlah,jumlah_konversi:this.pjl_detail[a].jumlah_konversi,satuan_konversi:this.pjl_detail[a].satuan_konversi,satuan:this.pjl_detail[a].satuan,no_urut:this.pjl_detail[a].no_urut,nilai:this.pjl_detail[a].nilai});this.kirim_detail=e}},lainnya(){let t=this.more+10;this.more=t},checkStok(t,e){t.jumlah>t.jumlah_blmterkirim?(this.status="warn",this.message="Jumlah melebihi sisa penjualan",this.valert=!0,this.detaildial[e]=!0):this.detaildial[e]=!1},searchObj(t){let e={};return e=t.filter(a=>a.nama.toLowerCase().includes(this.searched.toLowerCase())),e==""&&(e=t.filter(a=>a.alamat.toLowerCase().includes(this.searched.toLowerCase())),e==""&&(e=t.filter(a=>a.kabupaten.toLowerCase().includes(this.searched.toLowerCase())))),e},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.dataitem,this.kirim_detail)},totalharga(t){if(this.dataitem.no_penjualan==t)return k.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t){let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++){let i="";this.pembelian_input[a].kode_konversi!=""?i="":i=this.pembelian_input[a].kode_barang,e.push({no_penjualan:this.pembelian_input[a].no_penjualan,kode_barang:i,jumlah:this.pembelian_input[a].jumlah,jumlah_konversi:this.pembelian_input[a].jumlah_konversi,kode_konversi:this.pembelian_input[a].kode_konversi,no_urut:1})}this.$emit("inputhead",this.inputdata,e)}}},mounted(){this.fetchData()}},qe=Object.assign(Hl,{__name:"PengirimanDetail",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-icon"),m=s("v-btn"),p=s("v-toolbar-title"),_=s("v-spacer"),D=s("v-toolbar"),v=s("v-responsive"),b=s("v-row"),P=s("v-form"),f=s("v-container"),B=s("v-span"),A=s("v-card-title"),T=s("v-card-subtitle"),j=s("v-sheet"),U=s("v-divider"),N=s("v-div"),F=s("v-card"),z=s("v-for"),le=s("v-list"),L=s("v-dialog");return r(),u(L,{modelValue:e.dialog,"onUpdate:modelValue":a[21]||(a[21]=c=>e.dialog=c),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:c})=>[t.edit?h("",!0):(r(),u(x,M({key:0},c,{btn_title:"Tambah Baru",icon:"mdi-plus"}),null,16)),t.edit?(r(),u(i,M({key:1},c,{class:"text-caption"}),{default:l(()=>[d(" Lihat Detail ")]),_:2},1040)):h("",!0),t.edit&&t.hapus?(r(),u(i,{key:2,class:"text-caption",onClick:a[0]||(a[0]=S=>e.confirm())},{default:l(()=>[d(" Batal Pengiriman ")]),_:1})):h("",!0)]),default:l(()=>[n(F,null,{default:l(()=>[n(D,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(m,{icon:"",dark:"",onClick:a[1]||(a[1]=c=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1}),size:"small"},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(p,{class:"text-button mt-1"},{default:l(()=>[d(y("DETAIL "+t.pageTitle),1)]),_:1}),n(_)]),_:1}),n(f,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(r(),u(b,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between",align:"start","min-width":"400",class:"mx-3"},{default:l(()=>[n(v,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"No Pengiriman",modelValue:e.dataitem.no_pengiriman,"onUpdate:modelValue":a[2]||(a[2]=c=>e.dataitem.no_pengiriman=c),readonly:""},null,8,["modelValue"]),n(C,{label:"Tgl Pengiriman","model-value":g(k).formatDate(e.dataitem.tgl_pengiriman),readonly:""},null,8,["model-value"])]),_:1}),n(v,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Supir","model-value":e.dataitem.supir,readonly:""},null,8,["model-value"]),n(C,{label:"No Polisi","model-value":e.dataitem.no_polisi,readonly:""},null,8,["model-value"])]),_:1}),n(v,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Pelanggan","model-value":e.dataitem.namaplg,readonly:""},null,8,["model-value"]),t.alamatBgkr?(r(),u(C,{key:0,label:"Tujuan Bongkar","model-value":e.dataitem.nama,readonly:""},null,8,["model-value"])):h("",!0)]),_:1})]),_:1})):h("",!0),n(P,{onSubmit:a[11]||(a[11]=Ve(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[t.edit?h("",!0):(r(),u(b,{key:0,"no-gutters":"",justify:"center","justify-md":"space-between"},{default:l(()=>[n(v,{class:"pt-2 mx-md-0 mx-3 overflow-visible",width:"250"},{default:l(()=>[n(C,{label:"No Pengiriman",modelValue:e.inputdata.no_pengiriman,"onUpdate:modelValue":a[3]||(a[3]=c=>e.inputdata.no_pengiriman=c)},null,8,["modelValue"]),n(G,{label:"Tgl Pengiriman",modelValue:e.inputdata.tgl_pengiriman,"onUpdate:modelValue":a[4]||(a[4]=c=>e.inputdata.tgl_pengiriman=c),rules:e.required,tema:t.tema},null,8,["modelValue","rules","tema"])]),_:1}),n(v,{class:"pt-2 mx-3",width:"250"},{default:l(()=>[n(C,{onClick:a[5]||(a[5]=c=>e.dialog4=!0),label:"Pelanggan",modelValue:e.inputdata.nama,"onUpdate:modelValue":a[6]||(a[6]=c=>e.inputdata.nama=c),rules:e.required,readonly:""},null,8,["modelValue","rules"]),n(C,{onClick:a[7]||(a[7]=c=>(e.dialogbongkar=!0,e.more=15)),label:"Tujuan Bongkar",modelValue:e.inputdata.tujuan,"onUpdate:modelValue":a[8]||(a[8]=c=>e.inputdata.tujuan=c),rules:e.required,readonly:""},null,8,["modelValue","rules"])]),_:1}),n(v,{class:"pt-2 mx-md-0 mx-3",width:"250"},{default:l(()=>[n(C,{label:"Supir",modelValue:e.inputdata.supir,"onUpdate:modelValue":a[9]||(a[9]=c=>e.inputdata.supir=c),rules:e.required},null,8,["modelValue","rules"]),n(C,{label:"No Polisi",modelValue:e.inputdata.no_polisi,"onUpdate:modelValue":a[10]||(a[10]=c=>e.inputdata.no_polisi=c),rules:e.required},null,8,["modelValue","rules"])]),_:1})]),_:1}))]),_:1},512),t.edit?h("",!0):(r(),u(f,{key:1,class:"text-sm-left text-center mt-n5 mb-n5"},{default:l(()=>[n(ve,{window:t.window,dialog_title:"pengeluaran belum terkirim",onReset:e.reset,nokirim:e.inputdata.no_pengiriman,blmkirim:!0,getKonversi:t.barangKonversi,pjl_blmterkirm:t.pjl_blmterkirm,belumkirim:e.belumkirim,belumkirim_detail:e.belumkirim_detail,barang:e.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pengiriman:!0,penjualan:e.penjualan,inptbarang:!0,btn:t.btn,width:"400"},null,8,["window","onReset","nokirim","getKonversi","pjl_blmterkirm","belumkirim","belumkirim_detail","barang","itemDetail","onPemasukanitem","penjualan","btn"])]),_:1})),n(f,null,{default:l(()=>[n(g(ge),{headers:t.headDetails,items:t.edit?e.kirim_detail:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 rounded-lg border-sm mt-2 h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(r(),u(B,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+y(g(k).numb(e.jumlahtotal(e.kirim_detail),2,!0)),1)]),_:1})):h("",!0),t.edit?h("",!0):(r(),u(B,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[d("Total Jumlah : "+y(g(k).numb(e.jumlahtotal(e.pembelian_input))),1)]),_:1}))]),"item.actions":l(({item:c,index:S})=>[n(ke,{modelValue:e.detaildial[S],"onUpdate:modelValue":H=>e.detaildial[S]=H,persistent:!t.edit},{titlecard:l(()=>[n(A,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[d(y(c.raw.konversi?c.raw.nama_konversi:c.raw.nama_barang),1)]),_:2},1024),n(T,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[d(y(c.raw.konversi?c.raw.kode_konversi:c.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(j,{class:"mx-auto mt-5 w-75"},{default:l(()=>[t.edit&&!c.raw.konversi?(r(),u(C,{key:0,label:"Jumlah (Tonase)","model-value":g(k).numb(c.raw.jumlah),active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):h("",!0),!t.edit&&!c.raw.konversi?(r(),u(ae,{key:1,label:"Jumlah (Tonase)",modelValue:e.pembelian_input[S].jumlah,"onUpdate:modelValue":H=>e.pembelian_input[S].jumlah=H,active:"true",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])):h("",!0),t.edit&&c.raw.konversi?(r(),u(C,{key:2,label:"Qty","model-value":c.raw.jumlah_konversi,active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):h("",!0),!t.edit&&c.raw.konversi?(r(),u(ae,{key:3,label:"Qty",modelValue:e.pembelian_input[S].jumlah_konversi,"onUpdate:modelValue":H=>e.pembelian_input[S].jumlah_konversi=H,active:"true",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])):h("",!0),t.edit&&c.raw.konversi?(r(),u(C,{key:4,label:"Satuan Konversi","model-value":c.raw.satuan_konversi,active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])):h("",!0),!t.edit&&c.raw.konversi?(r(),u(C,{key:5,label:"Satuan Konversi",modelValue:e.pembelian_input[S].satuan_konversi,"onUpdate:modelValue":H=>e.pembelian_input[S].satuan_konversi=H,active:"true",class:"mb-3"},null,8,["modelValue","onUpdate:modelValue"])):h("",!0)]),_:2},1024),n(U,{class:"mt-3 mb-5"}),t.edit?h("",!0):(r(),u(N,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(E,{btn_title:"Hapus",onClick:H=>(e.deleteditem(c.raw),e.detaildial[S]=!1),class:"me-2"},{default:l(()=>[d("Hapus")]),_:2},1032,["onClick"]),n(J,{btn_title:"Simpan",onClick:H=>e.checkStok(c.raw,S)},{default:l(()=>[d("Simpan")]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1032,["modelValue","onUpdate:modelValue","persistent"])]),_:1},8,["headers","items","height"])]),_:1}),t.edit?h("",!0):(r(),u(N,{key:2,class:"d-flex mb-0 mt-auto me-5 ms-auto"},{default:l(()=>[n(E,{onClick:a[12]||(a[12]=c=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1}),btn_title:"Batal",class:"mb-3"}),n(J,{onClick:e.validate,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick"])]),_:1}))]),_:1})]),_:1}),n(L,{modelValue:e.dialog4,"onUpdate:modelValue":a[15]||(a[15]=c=>e.dialog4=c),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(F,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[n(N,null,{default:l(()=>[t.window<500?(r(),u(m,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[13]||(a[13]=c=>e.dialog4=!1)})):h("",!0),n(A,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("PELANGGAN")]),_:1}),n(q,{modelValue:e.searched,"onUpdate:modelValue":a[14]||(a[14]=c=>e.searched=c),label:"Search"},null,8,["modelValue"])]),_:1}),n(le,null,{default:l(()=>[(r(!0),K(R,null,I(e.filtersupplier,(c,S)=>(r(),u(z,{key:S},{default:l(()=>[n(i,{density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:H=>{e.inputdata.kode_pelanggan=c.kode_pelanggan,e.inputdata.nama=c.nama,e.dialog4=!1}},{default:l(()=>[d(y(c.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(L,{modelValue:e.dialogbongkar,"onUpdate:modelValue":a[19]||(a[19]=c=>e.dialogbongkar=c),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(F,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(r(),u(m,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[16]||(a[16]=c=>e.dialogbongkar=!1)})):h("",!0),n(A,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[d("ALAMAT BONGKAR")]),_:1}),n(N,null,{default:l(()=>[n(q,{modelValue:e.searched,"onUpdate:modelValue":a[17]||(a[17]=c=>e.searched=c),label:"Search"},null,8,["modelValue"])]),_:1}),n(le,{class:"my-4"},{default:l(()=>[n(N,{class:"vh-100"},{default:l(()=>[(r(!0),K(R,null,I(e.filteralamat.slice(0,e.more),(c,S)=>(r(),u(i,{key:S,density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:H=>{e.inputdata.kode_alamat_bongkar=c.kode_pelanggan,e.inputdata.tujuan=c.nama,e.dialogbongkar=!1}},{default:l(()=>[n(B,{class:"font-weight-medium"},{default:l(()=>[d(y(c.nama),1)]),_:2},1024),d(),Rl,n(B,{class:"text-small"},{default:l(()=>[d(y(c.alamat)+" - "+y(c.kabupaten),1)]),_:2},1024),n(U)]),_:2},1032,["onClick"]))),128))]),_:1}),e.filteralamat.length>e.more?(r(),u(N,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(U,{length:"50"}),n(m,{onClick:a[18]||(a[18]=c=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[d("lihat lainnya")]),_:1}),n(U,{length:"50"})]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[20]||(a[20]=c=>e.valert=c),status:e.status,message:e.message},null,8,["modelValue","status","message"])]),_:1},8,["modelValue"])}}});const Pe=t=>(Ae("data-v-c3f727d8"),t=t(),Ke(),t),Il=Pe(()=>$("br",null,null,-1)),El=Pe(()=>$("br",null,null,-1)),Jl=Pe(()=>$("thead",null,[$("tr",null,[$("th",{class:"text-left bg-white"},"No"),$("th",{class:"text-left bg-white"},"Nama Barang"),$("th",{class:"text-left bg-white"},"Qty"),$("th",{class:"text-left bg-white"},"Satuan"),$("th",{class:"text-left bg-white"},"Berat (KG)"),$("th",{class:"text-left bg-white"},"Keterangan(Ex.BC)")])],-1)),Fl={class:"text-body-2"},Gl={class:"text-left"},ql={class:"text-left"},zl={class:"text-left",contenteditable:""},Ml={class:"text-left",contenteditable:""},Yl={class:"text-left"},Wl={class:"text-left"},Ql=Pe(()=>$("td",null,null,-1)),Xl=Pe(()=>$("td",null,null,-1)),Zl=Pe(()=>$("td",null,null,-1)),xl=Pe(()=>$("td",null,null,-1)),ei={class:"text-left font-weight-bold"},ti={props:["items","namaTujuan","pengiriman","alamatPelanggan","nokirim","pjl_detail","nopjl"],data(){return{jalan:!1,kirim:this.pengiriman,detailpengiriman:"",penjualanHead:""}},computed:{kirim_detail(){let t=[];for(let e=0;e<this.pjl_detail.length;e++)for(let a=0;a<this.penjualanHead.length;a++)this.pjl_detail[e].no_penjualan==this.penjualanHead[a][0].no_penjualan&&t.push({no_penjualan:this.pjl_detail[e].no_penjualan,tipe_dokumen:this.penjualanHead[a][0].tipe_dokumen,no_dokumen:this.penjualanHead[a][0].no_dokumen,kode_group:this.pjl_detail[e].kode_group,kode_barang:this.pjl_detail[e].kode_barang,nama_barang:this.pjl_detail[e].nama_barang,hs_code:this.pjl_detail[e].hs_code,jumlah:this.pjl_detail[e].jumlah,satuan:this.pjl_detail[e].satuan,jumlah_konversi:this.pjl_detail[e].jumlah_konversi,satuan_konversi:this.pjl_detail[e].satuan_konversi});return t},nama_brg(){let t=[];for(let e=0;e<this.kirim_detail.length;e++)t.push(this.kirim_detail[e].nama_barang);return[...new Set(t)]}},methods:{async fetchData(){let t=[];for(let e=0;e<this.nopjl.length;e++)t.push(await V.getHeadPenjualan(this.nopjl[e]));this.penjualanHead=t},dataitems(t,e){let a=[],i=[],o=[],m="";for(let p=0;p<this.kirim_detail.length;p++)t==this.kirim_detail[p].nama_barang&&(e=="qty"&&a.push(this.kirim_detail[p].jumlah_konversi),e=="jumlah"&&i.push(this.kirim_detail[p].jumlah),e=="keterangan"&&o.push(`
`+this.kirim_detail[p].no_dokumen+"/"+this.kirim_detail[p].tipe_dokumen.slice(2)),e=="satuan"&&(m=this.kirim_detail[p].satuan_konversi));if(e=="qty")return a.reduce((p,_)=>p+_,0);if(e=="jumlah")return i.reduce((p,_)=>p+_,0);if(e=="keterangan")return o.toString();if(e=="satuan")return m},print(){window.print()},sum(){let t=[];for(let e=0;e<this.kirim_detail.length;e++)t.push(this.kirim_detail[e].jumlah);return t.reduce((e,a)=>e+a,0)}},mounted(){this.fetchData()}},ai=Object.assign(ti,{__name:"SuratJalan",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-icon"),m=s("v-btn"),p=s("v-span"),_=s("v-spacer"),D=s("v-toolbar"),v=s("v-divider"),b=s("v-div"),P=s("v-table"),f=s("v-text"),B=s("v-sheet"),A=s("v-card"),T=s("v-dialog");return r(),u(T,{modelValue:e.jalan,"onUpdate:modelValue":a[2]||(a[2]=j=>e.jalan=j),fullscreen:"",scrim:!1},{activator:l(({props:j})=>[n(i,M({class:"text-caption"},j),{default:l(()=>[d("Cetak Surat Jalan")]),_:2},1040)]),default:l(()=>[n(D,{class:"bg-blue-custom",height:"50"},{default:l(()=>[n(m,{icon:"",onClick:a[0]||(a[0]=j=>e.jalan=!1),size:"small",class:"text-white"},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(p,{class:"text-button mt-1 text-white"},{default:l(()=>[d("cetak surat jalan")]),_:1}),n(_),n(m,{icon:"",class:"text-white",onClick:a[1]||(a[1]=j=>e.print())},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-printer")]),_:1})]),_:1})]),_:1}),n(A,{id:"suratjalan",class:"bg-grey-lighten-1 overflow-visible"},{default:l(()=>[n(B,{class:"mx-auto text-center py-3 px-7 page"},{default:l(()=>[n(p,{class:"text-h6 font-weight-bold"},{default:l(()=>[d("PT. AURI STEEL METALINDO")]),_:1}),n(v,{thickness:"3",color:"black",class:"border-opacity-100 mt-3 mb-1"}),n(p,{class:"text-h6 font-weight-bold"},{default:l(()=>[d("SURAT JALAN")]),_:1}),n(b,{class:"d-flex mt-3"},{default:l(()=>[n(b,{class:"d-flex text-body-2"},{default:l(()=>[n(p,{class:"me-2"},{default:l(()=>[d("PENERIMA: ")]),_:1}),n(p,{class:"text-start w-75"},{default:l(()=>[d(y(g(k).uppercase(t.items.nama))+" ",1),Il,d(" "+y(g(k).uppercase(t.items.alamat))+" ",1),El,d(" "+y(g(k).uppercase(t.items.kabupaten)),1)]),_:1})]),_:1}),n(_),n(b,{class:"d-flex text-body-2"},{default:l(()=>[n(b,{class:"d-flex flex-column"},{default:l(()=>[n(p,{class:"me-2 text-start"},{default:l(()=>[d("No Surat Jalan")]),_:1}),n(p,{class:"me-2 text-start"},{default:l(()=>[d("Tgl Pengiriman")]),_:1}),n(p,{class:"me-2 text-start"},{default:l(()=>[d("Supir/No Polisi")]),_:1})]),_:1}),n(b,{class:"d-flex flex-column"},{default:l(()=>[n(p,{class:"text-start"},{default:l(()=>[d(": "+y(t.items.no_pengiriman),1)]),_:1}),n(p,{class:"text-start",contenteditable:""},{default:l(()=>[d(": "+y(g(k).formatDate(t.items.tgl_pengiriman))+" ",1),n(p,{contenteditable:""},{default:l(()=>[d("/ "+y(g(k).getTime()),1)]),_:1})]),_:1}),n(p,{class:"text-start"},{default:l(()=>[d(": "+y(t.items.supir)+"/"+y(t.items.no_polisi),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(P,{density:"compact",class:"text-body-2 mt-2"},{default:l(()=>[Jl,$("tbody",Fl,[(r(!0),K(R,null,I(e.nama_brg,(j,U)=>(r(),K("tr",{key:U},[$("td",Gl,y(U+1),1),$("td",ql,y(j),1),$("td",zl,y(e.dataitems(j,"qty")),1),$("td",Ml,y(e.dataitems(j,"satuan")),1),$("td",Yl,y(g(k).numb(e.dataitems(j,"jumlah"))),1),$("td",Wl,y(e.dataitems(j,"keterangan")),1)]))),128)),$("tr",null,[Ql,Xl,Zl,xl,$("td",ei,y(g(k).numb(e.sum())),1)])])]),_:1}),n(b,{class:"d-flex flex-column align-start justify-space-between text-body-2"},{default:l(()=>[n(f,{class:"d-flex flex-column align-start"},{default:l(()=>[d(" Keterangan "),n(p,{class:"ms-3"},{default:l(()=>[d("1. Surat Jalan ini merupakan bukti penerimaan barang")]),_:1}),n(p,{class:"ms-3"},{default:l(()=>[d("2. Surat Jalan ini bukan bukti penjualan (Faktur/Invoice)")]),_:1}),d(" Barang sudah diterima dalam keadaan Baik dan Cukup oleh : ")]),_:1}),n(b,{class:"d-flex justify-space-between w-100 mt-15"},{default:l(()=>[n(b,null,{default:l(()=>[d("(Penerima)")]),_:1}),n(b,null,{default:l(()=>[d("(Supir)")]),_:1}),n(b,null,{default:l(()=>[d("(Bag. Gudang)")]),_:1}),n(b,null,{default:l(()=>[d("(Bag. Exim)")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ni=Y(ai,[["__scopeId","data-v-c3f727d8"]]),li={components:{VDataTable:ge},props:["items","headers"],data(){return{search:""}},methods:{},mounted(){}};function ii(t,e,a,i,o,m){const p=s("v-data-table");return r(),u(p,{headers:a.headers,items:a.items,density:"compact",class:"text-caption pt-2 pb-12 h-100 border-sm rounded-lg"},null,8,["headers","items"])}const si=Y(li,[["render",ii]]);const Ce=t=>(Ae("data-v-2ae7b31f"),t=t(),Ke(),t),oi=Ce(()=>$("br",null,null,-1)),ri=Ce(()=>$("thead",null,[$("tr",null,[$("th",{class:"text-medium"},"Barang"),$("th",{class:"text-medium"},"Qty"),$("th",{class:"text-medium"},"Keterangan"),$("th",{class:"text-medium"},"Catatan")])],-1)),ui={class:"text-body-2"},di={class:"text-medium"},mi={class:"text-medium"},gi=Ce(()=>$("td",{class:"text-medium"},null,-1)),pi=Ce(()=>$("td",{class:"text-medium",contenteditable:""},null,-1)),hi=Ce(()=>$("tr",null,[$("td"),$("td"),$("td"),$("td",{class:"text-left font-weight-bold"})],-1)),ci={component:{tableMain:si},props:["items","namaTujuan","pengiriman","alamatPelanggan","nokirim","pjl_detail","nopjl"],data(){return{doDialog:null,kirim:this.pengiriman,detailpengiriman:"",penjualanHead:""}},computed:{kirim_detail(){let t=[];for(let e=0;e<this.pjl_detail.length;e++)for(let a=0;a<this.penjualanHead.length;a++)this.pjl_detail[e].no_penjualan==this.penjualanHead[a][0].no_penjualan&&t.push({no_penjualan:this.pjl_detail[e].no_penjualan,tipe_dokumen:this.penjualanHead[a][0].tipe_dokumen,no_dokumen:this.penjualanHead[a][0].no_dokumen,kode_group:this.pjl_detail[e].kode_group,kode_barang:this.pjl_detail[e].kode_barang,kode_konversi:this.pjl_detail[e].kode_konversi,nama_konversi:this.pjl_detail[e].nama_konversi,nama_barang:this.pjl_detail[e].nama_barang,hs_code:this.pjl_detail[e].hs_code,jumlah:this.pjl_detail[e].jumlah,satuan:this.pjl_detail[e].satuan,jumlah_konversi:this.pjl_detail[e].jumlah_konversi,satuan_konversi:this.pjl_detail[e].satuan_konversi});return t}},methods:{async fetchData(){let t=[];for(let e=0;e<this.nopjl.length;e++)t.push(await V.getHeadPenjualan(this.nopjl[e]));this.penjualanHead=t},print(){window.print()}},mounted(){this.fetchData()}},fi=Object.assign(ci,{__name:"cetakDo",setup(t){return(e,a)=>{const i=s("v-list-item"),o=s("v-icon"),m=s("v-btn"),p=s("v-span"),_=s("v-spacer"),D=s("v-toolbar"),v=s("v-div"),b=s("v-table"),P=s("v-sheet"),f=s("v-card"),B=s("v-dialog");return r(),u(B,{modelValue:e.doDialog,"onUpdate:modelValue":a[2]||(a[2]=A=>e.doDialog=A),fullscreen:"",scrim:!1},{activator:l(({props:A})=>[n(i,M({class:"text-caption"},A),{default:l(()=>[d("Cetak DO")]),_:2},1040)]),default:l(()=>[n(D,{class:"bg-blue-custom",height:"50"},{default:l(()=>[n(m,{icon:"",onClick:a[0]||(a[0]=A=>e.doDialog=!1),size:"small",class:"text-white"},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-close")]),_:1})]),_:1}),n(p,{class:"text-button mt-1 text-white"},{default:l(()=>[d("Cetak DO")]),_:1}),n(_),n(m,{icon:"",class:"text-white",onClick:a[1]||(a[1]=A=>e.print())},{default:l(()=>[n(o,null,{default:l(()=>[d("mdi-printer")]),_:1})]),_:1})]),_:1}),n(f,{id:"do",class:"overflow-auto bg-grey-lighten-1"},{default:l(()=>[n(P,{class:"page mx-auto pa-7"},{default:l(()=>[n(p,{class:"text-h5 font-weight-bold d-flex justify-center"},{default:l(()=>[d("DELIVERY ORDER")]),_:1}),n(v,{class:"d-flex text-body-2 text-regular my-10 preview"},{default:l(()=>[n(v,{class:"d-flex flex-column"},{default:l(()=>[n(p,{class:"me-2 space"},{default:l(()=>[d("Tgl Pengiriman")]),_:1}),n(p,{class:"me-2 space"},{default:l(()=>[d("Supir/No Polisi")]),_:1}),n(p,{class:"me-2 space"},{default:l(()=>[d("Tujuan Kirim")]),_:1})]),_:1}),n(v,{class:"d-flex flex-column"},{default:l(()=>[n(p,{class:"me-2 space"},{default:l(()=>[d(": "+y(g(k).formatDate(t.items.tgl_pengiriman))+" ",1)]),_:1}),n(p,{class:"me-2 space"},{default:l(()=>[d(": "+y(t.items.supir+"/"+t.items.no_polisi),1)]),_:1}),n(p,{class:"text-start me-2 space"},{default:l(()=>[d(" : "+y(g(k).uppercase(t.items.namaplg))+" ",1),oi]),_:1})]),_:1})]),_:1}),n(P,{height:"60%",width:"100%"},{default:l(()=>[n(b,{density:"compact",class:"mt-10 w-100 preview"},{default:l(()=>[ri,$("tbody",ui,[(r(!0),K(R,null,I(e.kirim_detail,(A,T)=>(r(),K("tr",{key:T},[$("td",di,y(A.nama_konversi?A.nama_konversi:A.nama_barang),1),$("td",mi,y(A.jumlah_konversi),1),gi,pi]))),128)),hi])]),_:1})]),_:1}),n(p,{class:"d-block text-right font-italic text-caption text-preview"},{default:l(()=>[d("Print Date : "+y(g(k).formatDateTime(new Date)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ki=Y(fi,[["__scopeId","data-v-2ae7b31f"]]),bi={class:"d-flex align-center w-100"},_i={class:"d-flex align-center justify-sm-end justify-start"},vi={props:["cetak","tema","user","window","windowH"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"PENGIRIMAN BARANG",selectCategory:"",btn:"Tambah Barang",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",penjualanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:"",barangKonversi:""}},created(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await V.getPengirimanHead(this.periode);this.alamatBongkar=await V.alamatBongkar(),this.pelanggan=await V.getPelanggan(),this.kirim_detail=await V.getPengirimanDetail(this.periode),this.penjualanHead=await V.getPenjualanHead(this.periode);let a=await V.getBelumTerkirim(),i=await V.getBelumTerkirimDetail();this.pjl_blmterkirm=se.item_blmterikirim(a,i),this.pengirimanHead=me.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail,this.pjl_blmterkirm);let o=await V.getKonversi();this.barangKonversi=me.konversi(o),this.loading=!1}else return await V.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=me.headers,i=this.pengirimanHead;k.print(t,e,a,i)},reset(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()},inputhead(t,e){V.postPengiriman(t,e).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){V.deletePengiriman(this.head,this.detail).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},yi=Object.assign(vi,{__name:"PengirimanBarang",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-responsive"),_=s("v-btn"),D=s("v-row"),v=s("v-list-item"),b=s("v-list"),P=s("v-menu"),f=s("v-data-table-virtual"),B=s("v-sheet"),A=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=T=>e.filter=T),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=T=>e.filtered.periode[0]=T),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=T=>e.filtered.periode[1]=T),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(A,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(p,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[$("div",bi,[g(w).routes(e.authority,"Tambah Pengiriman Baru")?(r(),u(qe,{key:0,tema:t.tema,window:t.window,windowH:t.windowH,pjl_blmterkirm:e.pjl_blmterkirm,onInputhead:e.inputhead,alamatBongkar:e.alamatBongkar,kirim:!0,supplier:e.pelanggan,datainput:g(me).datainput,pageTitle:e.pageTitle,headDetails:g(me).headDetails,details:e.items,headers:g(me).headers,items:e.items,search:e.search,category:g(oe).category,selectCategory:e.selectCategory,datatext:e.datatext,barangKonversi:e.barangKonversi},null,8,["tema","window","windowH","pjl_blmterkirm","onInputhead","alamatBongkar","supplier","datainput","pageTitle","headDetails","details","headers","items","search","category","selectCategory","datatext","barangKonversi"])):h("",!0)])]),_:1}),n(p,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",_i,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=T=>e.search=T),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{onClick:a[4]||(a[4]=T=>e.filter=!e.filter)}),n(_,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=T=>e.fetchData())})])]),_:1})]),_:1}),n(B,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(f,{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=T=>e.sortBy=T),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:g(me).headers,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pengiriman":l(({item:T})=>[d(y(g(k).formatDate(T.raw.tgl_pengiriman)),1)]),"item.nama":l(({item:T})=>[g(w).routes(e.authority,"Alamat Bongkar")?(r(),u(i,{key:0},{default:l(()=>[d(y(T.raw.nama),1)]),_:2},1024)):h("",!0)]),"column.nama":l(({column:T})=>[g(w).routes(e.authority,"Alamat Bongkar")?(r(),u(i,{key:0},{default:l(()=>[d(y(T.title),1)]),_:2},1024)):h("",!0)]),"item.actions":l(({item:T})=>[n(P,{transition:"slide-y-transition"},{activator:l(({props:j})=>[n(Z,M(j,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(b,{density:"compact",class:"px-3"},{default:l(()=>[n(v,{class:"pa-0"},{default:l(()=>[n(qe,{window:t.window,windowH:t.windowH,hapus:g(w).routes(e.authority,"Batal Pengiriman"),alamatBgkr:g(w).routes(e.authority,"Alamat Bongkar"),batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(T.raw.no_pengiriman),nokirim:T.raw.no_pengiriman,nopjl:e.Penjualandetl(T.raw.no_pengiriman),pjl_detail:e.pjl_detail(T.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:g(me).headDetails,headers:g(me).headers,items:T.raw,disable:!0},null,8,["window","windowH","hapus","alamatBgkr","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items"])]),_:2},1024),g(w).routes(e.authority,"Cetak Surat Jalan")?(r(),u(ni,{key:0,pengiriman:e.Penjualandetl(T.raw.no_pengiriman),items:T.raw,nokirim:T.raw.no_pengiriman,nopjl:e.Penjualandetl(T.raw.no_pengiriman),pjl_detail:e.pjl_detail(T.raw.no_pengiriman)},null,8,["pengiriman","items","nokirim","nopjl","pjl_detail"])):h("",!0),n(ki,{pengiriman:e.Penjualandetl(T.raw.no_pengiriman),items:T.raw,nokirim:T.raw.no_pengiriman,nopjl:e.Penjualandetl(T.raw.no_pengiriman),pjl_detail:e.pjl_detail(T.raw.no_pengiriman)},null,8,["pengiriman","items","nokirim","nopjl","pjl_detail"])]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(fe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=T=>e.confirmdialog=T),object:e.pageTitle,item:e.head.no_pengiriman,mess:"Membatalkan"},{yesButton:l(()=>[n(J,{class:"ms-2",onClick:a[7]||(a[7]=T=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(E,{onClick:a[8]||(a[8]=T=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=T=>e.valert=T),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),wi={class:"d-flex"},ji={components:{TableVue:re,filterDrawer:ne,checkBox:ye,menuList:Q,textField:q,BtnFilter:ue,CircularLoader:X},props:["page","cetak","window"],data(){return{drawer:null,search:"",searched:"",group_barang:[],kode_barang:[],filter:!1,dialoggb:!1,loading:!0,pageTitle:"LAPORAN STOK BARANG",selectCategory:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",authority:"",items:"",logbrg:"",databarang:"",filtered:{kategori_barang:[],group_barang:[],kode_barang:[]}}},computed:{selected(){if(this.selectCategory.length===0)return be.stokBarang(this.databarang,this.items);{let t=[],e=be.stokBarang(this.databarang,this.items).filter(a=>this.selectCategory.includes(a.kategori_barang));for(let a=0;a<e.length;a++)t.push(e[a].kode_barang);return be.stokBarang(this.databarang,this.items).filter(a=>t.includes(a.kode_barang))}},filter_kodebarang(){let t=be.noDuplicate(this.selected);return this.kode_barang.length===0?t:t.filter(e=>this.kode_barang.includes(e.kode_barang))},dataItem(){let t=this.filter_kodebarang;return this.group_barang.length===0?t:t.filter(a=>this.group_barang.includes(a.kode_group))},kodeGroup(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].kode_group);return k.removeDuplicate(t)}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await V.getGroupBarang(),this.databarang=await V.getBarang(),this.logbrg=await V.getLogBarang(),this.loading=!1;else return await V.logout()},pages(){return this.$emit("page",this.pageTitle)},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=be.headStokBarang,i=this.dataItem;k.print(t,e,a,i)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[],this.group_barang=this.filtered.group_barang,this.kode_barang=this.filtered.kode_barang},reset(){this.filtered.group_barang=[],this.filtered.kode_barang=[],this.filtered.kategori_barang=[],this.selectCategory=[],this.group_barang=[]}},mounted(){this.fetchData(),this.pages()}},Vi=Object.assign(ji,{__name:"LaporanStok",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-combobox"),p=s("v-btn"),_=s("v-responsive"),D=s("v-row"),v=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=b=>e.filter=b),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kategori Barang")]),_:1}),n(o,{class:"mb-6"}),(r(!0),K(R,null,I(g(oe).category,(b,P)=>(r(),u(ye,{key:P,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[0]||(a[0]=f=>e.filtered.kategori_barang=f),label:b,value:b},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Kode Group")]),_:1}),n(o),n(m,{items:e.kodeGroup,modelValue:e.filtered.group_barang,"onUpdate:modelValue":a[1]||(a[1]=b=>e.filtered.group_barang=b),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(v,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(_,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",wi,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=b=>e.search=b),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{icon:"mdi-tune-vertical",onClick:a[4]||(a[4]=b=>e.filter=!e.filter)}),n(p,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=b=>e.fetchData())})])]),_:1})]),_:1}),n(re,{window:t.window,id:"tbl_exporttable_to_xls",groupbarang:e.items,stok:g(be).detail(e.databarang,e.items),barang:e.databarang,logbrg:e.logbrg,headers:g(be).headStokBarang,items:e.dataItem,search:e.search,category:g(oe).category,selectCategory:e.selectCategory,laporanstok:!0},null,8,["window","groupbarang","stok","barang","logbrg","headers","items","search","category","selectCategory"])]),_:1}),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),Di={class:"d-flex"},Bi={props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,pageTitle:"LAPORAN PEMASUKAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pembelian",key:"no_pembelian"},{title:"Tanggal Pembelian",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Total Nilai",key:"total_nilai"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions",sortable:!1}],details:"",items:"",pembeliandetl:"",dataitems:"",barang:"",supplier:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),k.day()],this.filtered.periode=[this.tglawal(),k.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await V.getPemasukanHead(this.periode),this.supplier=await V.getSupplier(),this.pembeliandetl=await V.getPemasukanDetail(this.periode),this.barang=await V.getBarang(),this.dataitems=te.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1;else return await V.logout()},page(){return this.$emit("page",this.pageTitle)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.supplier.length;a++)if(t==this.supplier[a].kode_supplier)return this.supplier[a].nama}if(e=="pembelian"){let a=[];for(let i=0;i<this.pembeliandetl.length;i++)this.pembeliandetl[i].no_pembelian==t&&a.push(this.pembeliandetl[i]);return a}if(e=="total")return k.numb(t,2);if(e==="kategori"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="diterima"){for(let a=0;a<this.pembeliandetl.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pembeliandetl[a].no_pembelian){if(e=="diterima")return k.numb(this.pembeliandetl[a].jumlah_diterima);if(this.pembeliandetl[a].kode_barang==this.barang[i].kode_barang){if(e=="kategori")return this.barang[i].kategori_barang;if(e=="namabrg")return this.barang[i].nama_barang;if(e=="hscode")return this.barang[i].hs_code;if(e=="satuan")return this.barang[i].satuan}}}},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,nama:this.dataTable(this.items[e].kode_supplier,"nama"),kategori_barang:this.dataTable(this.items[e].no_pembelian,"kategori"),nama_barang:this.dataTable(this.items[e].no_pembelian,"namabrg"),hs_code:this.dataTable(this.items[e].no_pembelian,"hscode"),satuan:this.dataTable(this.items[e].no_pembelian,"satuan"),jumlah_diterima:this.dataTable(this.items[e].no_pembelian,"diterima"),total_nilai:this.dataTable(this.items[e].total_nilai,"total")});return t},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.dataitems;k.print(t,e,a,i)},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),k.day()],this.filtered.periode=[this.tglawal(),k.day()],this.selectdokumen=[],this.getPembelian()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.fetchData()}},Pi=Object.assign(Bi,{__name:"LaporanPemasukan",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-btn"),_=s("v-responsive"),D=s("v-row"),v=s("v-data-table-virtual"),b=s("v-sheet"),P=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=f=>e.filter=f),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=f=>e.filtered.periode[0]=f),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=f=>e.filtered.periode[1]=f),class:"mb-4","min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),K(R,null,I(e.tipedokumen,(f,B)=>(r(),u(ye,{key:B,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=A=>e.filtered.selectdokumen=A),label:f,value:f},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(P,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(_,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",Di,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=f=>e.search=f),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=f=>e.filter=!e.filter)}),n(p,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=f=>e.fetchData())})])]),_:1})]),_:1}),n(b,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(v,{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.dataitems,headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pembelian":l(({item:f})=>[d(y(g(k).formatDate(f.raw.tgl_pembelian)),1)]),"item.actions":l(({item:f})=>[n(Ue,{window:t.window,tema:t.tema,batalbtn:"Pemasukan",onConfirm:e.confirm,laporan:!0,namaSupplier:e.dataTable(f.raw.kode_supplier,"nama"),pembelian:e.dataTable(f.raw.no_pembelian,"pembelian"),total:e.dataTable(f.raw.total_nilai,"total"),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:[e.details],headers:e.headers,items:f.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","tema","onConfirm","namaSupplier","pembelian","total","itemDetail","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","pageTitle"])]),_:1},8,["items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),Ti={class:"d-flex"},Si={props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,authority:"",pageTitle:"LAPORAN PENGELUARAN BARANG",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC25","BC41"],headers:[{title:"Nomor Penjualan",key:"no_penjualan"},{title:"Tgl Penjualan",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Tgl Dokumen",key:"tgl_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah",key:"jumlah"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],items:"",pjldetail:"",pelanggan:"",barang:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),k.day()],this.filtered.periode=[this.tglawal(),k.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await V.getPenjualanHead(this.periode),this.pjldetail=await V.getPenjualanDetail(this.periode),this.pelanggan=await V.getPelanggan(),this.barang=await V.getBarang(),this.loading=!1;else return await V.logout()},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},page(){return this.$emit("page",this.pageTitle)},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},penjualan(t){let e=[];for(let a=0;a<this.pjldetail.length;a++)this.pjldetail[a].no_penjualan==t&&e.push(this.pjldetail[a]);return e},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.pelanggan.length;a++)if(t==this.pelanggan[a].kode_pelanggan)return this.pelanggan[a].nama}if(e=="total")return k.numb(t);if(e=="kategori"||e=="kodebrg"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="jumlah"){for(let a=0;a<this.pjldetail.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pjldetail[a].no_penjualan){if(e=="kodebrg")return this.pjldetail[a].kode_barang;if(e=="kategori"){if(this.pjldetail[a].kode_barang==this.barang[i].kode_barang)return this.barang[i].kategori_barang}else{if(e=="namabrg")return this.pjldetail[a].nama_barang;if(e=="hscode")return this.pjldetail[a].hs_code;if(e=="satuan")return this.pjldetail[a].satuan;if(e=="jumlah")return k.numb(this.pjldetail[a].jumlah)}}}},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.printdata();k.print(t,e,a,i)},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_penjualan:this.items[e].no_penjualan,tgl_penjualan:this.items[e].tgl_penjualan,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,tgl_dokumen:this.items[e].tgl_dokumen,nama:this.dataTable(this.items[e].kode_pelanggan,"nama"),kode_group:this.dataTable(this.items[e].no_penjualan,"kodebrg"),kategori_barang:this.dataTable(this.items[e].no_penjualan,"kategori"),nama_barang:this.dataTable(this.items[e].no_penjualan,"namabrg"),hs_code:this.dataTable(this.items[e].no_penjualan,"hscode"),satuan:this.dataTable(this.items[e].no_penjualan,"satuan"),jumlah:this.dataTable(this.items[e].no_penjualan,"jumlah")});return t},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),k.day()],this.filtered.periode=[this.tglawal(),k.day()],this.selectdokumen=[],this.getPenjualan()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.updt()}},Ui=Object.assign(Si,{__name:"LaporanPengeluaran",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-btn"),_=s("v-responsive"),D=s("v-row"),v=s("v-data-table-virtual"),b=s("v-sheet"),P=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=f=>e.filter=f),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=f=>e.filtered.periode[0]=f),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=f=>e.filtered.periode[1]=f),class:"mb-4","min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(r(!0),K(R,null,I(e.tipedokumen,(f,B)=>(r(),u(ye,{key:B,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=A=>e.filtered.selectdokumen=A),label:f,value:f},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(P,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(_,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",Ti,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=f=>e.search=f),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=f=>e.filter=!e.filter)}),n(p,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=f=>e.fetchData())})])]),_:1})]),_:1}),n(b,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(v,{id:"tbl_exporttable_to_xls","items-per-page":"10",items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:t.window>776?"100%":"92%"},{"item.tgl_penjualan":l(({item:f})=>[d(y(g(k).formatDate(f.raw.tgl_penjualan)),1)]),"item.nama":l(({item:f})=>[d(y(e.dataTable(f.raw.kode_pelanggan,"nama")),1)]),"item.kategori_barang":l(({item:f})=>[d(y(e.dataTable(f.raw.no_penjualan,"kategori")),1)]),"item.kode_barang":l(({item:f})=>[d(y(e.dataTable(f.raw.no_penjualan,"kodebrg")),1)]),"item.nama_barang":l(({item:f})=>[d(y(e.dataTable(f.raw.no_penjualan,"namabrg")),1)]),"item.hs_code":l(({item:f})=>[d(y(e.dataTable(f.raw.no_penjualan,"hscode")),1)]),"item.satuan":l(({item:f})=>[d(y(e.dataTable(f.raw.no_penjualan,"satuan")),1)]),"item.jumlah":l(({item:f})=>[d(y(e.dataTable(f.raw.no_penjualan,"jumlah")),1)]),"item.actions":l(({item:f})=>[n(Ge,{window:t.window,onConfirm:e.confirm,batalbtn:"Pengeluaran",laporan:!0,namaPelanggan:e.namaPelanggan(f.raw.kode_pelanggan),penjualan:e.penjualan(f.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:e.headDetails,items:f.raw,details:e.details,headers:e.headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","details","headers","search","category","selectCategory"])]),_:1},8,["items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),Ci={class:"d-flex align-center justify-sm-end justify-start"},$i={props:["cetak","tema","user","window"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"LAPORAN PENGIRIMAN",selectCategory:"",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",penjualanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:""}},created(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await V.getOtoritas(t);this.authority=w.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await V.getPengirimanHead(this.periode);this.alamatBongkar=await V.alamatBongkar(),this.pelanggan=await V.getPelanggan(),this.penjualanHead=await V.getPenjualanHead(this.periode),this.kirim_detail=await V.getPengirimanDetail(this.periode);let a=await V.getBelumTerkirim(),i=await V.getBelumTerkirimDetail();this.pjl_blmterkirm=se.item_blmterikirim(a,i),this.pengirimanHead=me.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail),this.loading=!1}else return await V.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=me.headers,i=this.pengirimanHead;k.print(t,e,a,i)},reset(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()},inputhead(t,e){V.postPengiriman(t,e).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){V.deletePengiriman(this.head,this.detail).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},Li=Object.assign($i,{__name:"LaporanPengiriman",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-btn"),_=s("v-responsive"),D=s("v-row"),v=s("v-list-item"),b=s("v-list"),P=s("v-menu"),f=s("v-data-table-virtual"),B=s("v-sheet"),A=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=T=>e.filter=T),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=T=>e.filtered.periode[0]=T),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=T=>e.filtered.periode[1]=T),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(A,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(_,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[$("div",Ci,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=T=>e.search=T),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(w).routes(e.authority,"Pengaturan Umum")?(r(),u(Q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):h("",!0),n(ue,{onClick:a[4]||(a[4]=T=>e.filter=!e.filter)}),n(p,{variant:"text",color:"indigo",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=T=>e.fetchData())})])]),_:1})]),_:1}),n(B,{height:t.window>776?"94%":"87%"},{default:l(()=>[n(f,{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=T=>e.sortBy=T),id:"tbl_exporttable_to_xls","items-per-page":"10",headers:g(me).headersLaporan,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 pb-12 border-sm rounded-lg h-100",height:t.window>776?"100%":"92%"},{"item.tgl_pengiriman":l(({item:T})=>[d(y(g(k).formatDate(T.raw.tgl_pengiriman)),1)]),"item.nama":l(({item:T})=>[g(w).routes(e.authority,"Tujuan Bongkar")?(r(),u(i,{key:0},{default:l(()=>[d(y(T.raw.nama),1)]),_:2},1024)):h("",!0)]),"column.nama":l(({column:T})=>[g(w).routes(e.authority,"Tujuan Bongkar")?(r(),u(i,{key:0},{default:l(()=>[d(y(T.title),1)]),_:2},1024)):h("",!0)]),"item.actions":l(({item:T})=>[n(P,{transition:"slide-y-transition"},{activator:l(({props:j})=>[n(Z,M(j,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(b,{density:"compact",class:"px-3"},{default:l(()=>[n(v,{class:"pa-0"},{default:l(()=>[n(qe,{window:t.window,batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(T.raw.no_pengiriman),nokirim:T.raw.no_pengiriman,nopjl:e.Penjualandetl(T.raw.no_pengiriman),pjl_detail:e.pjl_detail(T.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:g(me).headDetails,headers:g(me).headers,items:T.raw,disable:!0},null,8,["window","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","headers","items","search","height"])]),_:1},8,["height"]),n(fe,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=T=>e.confirmdialog=T),object:e.pageTitle},{yesButton:l(()=>[n(J,{class:"ms-2",onClick:a[7]||(a[7]=T=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(E,{onClick:a[8]||(a[8]=T=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(ee,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=T=>e.valert=T),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(X,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Ni={class:"d-flex"},Ai={components:{filterDrawer:ne,BtnFilter:ue,TextField:q,DatePicker:G,CircularLoader:X},props:["tema","cetak","user","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,akses:"",pageTitle:"LAPORAN LOG USER",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",selectuser:[],items:"",users:"",filtered:{selectuser:[],periode:[]}}},created(){this.periode=[k.tglawal(),k.day()],this.filtered.periode=[k.tglawal(),k.day()]},computed:{datauser(){let t=[];for(let e=0;e<this.users.length;e++)t.push(this.users[e].username);return t}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await V.getOtoritas(t),this.authority=w.otoritas(this.akses)),w.routes(this.akses,"Laporan Log User"))this.loading=!0,this.users=await V.getUser(),this.items=await V.getLogUser(this.periode),this.loading=!1;else return await V.logout()},selected(){return this.selectuser.length===0?this.items:this.items.filter(t=>this.selectuser.includes(t.username))},close(t){return this.filter=t},page(){return this.$emit("page",this.pageTitle)},updt(){this.fetchData()},reset(){this.filtered.selectuser=[],this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.selectuser=[],this.getLogUser()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectuser=this.filtered.selectuser,this.selectuser?this.selectuser==[]&&(this.selectuser=[]):this.selectuser=[]}},mounted(){this.page(),this.updt()}},Ki=Object.assign(Ai,{__name:"LaporanLog",setup(t){return(e,a)=>{const i=s("v-span"),o=s("v-divider"),m=s("v-label"),p=s("v-combobox"),_=s("v-responsive"),D=s("v-row"),v=s("v-container");return r(),K(R,null,[n(ne,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=b=>e.filter=b),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("Periode")]),_:1}),n(o),n(m,{class:"text-small mt-4"},{default:l(()=>[d("Tgl Awal")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=b=>e.filtered.periode[0]=b),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(m,{class:"text-small mt-1"},{default:l(()=>[d("Tgl Akhir")]),_:1}),n(G,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=b=>e.filtered.periode[1]=b),class:"mb-4","min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[d("User")]),_:1}),n(o),n(p,{items:e.datauser,modelValue:e.filtered.selectuser,"onUpdate:modelValue":a[2]||(a[2]=b=>e.filtered.selectuser=b),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(v,{class:"pt-9 h-100"},{default:l(()=>[n(D,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(_,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[$("div",Ni,[n(q,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=b=>e.search=b),placeholder:"Search"},null,8,["modelValue"]),n(ue,{class:"ms-2",onClick:a[5]||(a[5]=b=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(re,{window:t.window,id:"tbl_exporttable_to_xls",headers:g(be).headLogUser,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,log:!0},null,8,["window","headers","items","search","category","selectCategory"])]),_:1}),n(X,{loading:e.loading},null,8,["loading"])],64)}}}),Oi="/assets/404-a06a9138.png";const Ri={props:["item"],data(){return{}},methods:{},mounted(){}},Hi=t=>(Ae("data-v-1f99e94e"),t=t(),Ke(),t),Ii=Hi(()=>$("img",{src:Oi,style:{width:"40vw"}},null,-1));function Ei(t,e,a,i,o,m){const p=s("v-span"),_=s("v-div"),D=s("v-container");return r(),u(D,{class:"d-flex justify-center align-center"},{default:l(()=>[n(_,{class:"d-flex flex-column align-center mt-n10"},{default:l(()=>[Ii,n(p,{class:"font-bold text-montserrat mt-n16"},{default:l(()=>[d("PAGE NOT FOUND")]),_:1})]),_:1})]),_:1})}const Ji=Y(Ri,[["render",Ei],["__scopeId","data-v-1f99e94e"]]),Le=rt({history:ut("/#"),routes:[{path:"/",meta:{middleware:[ie]},redirect:{name:"DataBarang"}},{path:"/login",name:"login",component:Mn},{path:"/test-page",name:"testPage",component:$n},{path:"/data-barang",name:"DataBarang",meta:{middleware:[ie]},component:_n},{path:"/barang-konversi",name:"KonversiBarang",meta:{middleware:[ie]},component:jn},{path:"/data-pelanggan",name:"DataPelanggan",meta:{middleware:[ie]},component:el},{path:"/data-supplier",name:"DataSupplier",meta:{middleware:[ie]},component:il},{path:"/data-user",name:"DataUser",meta:{middleware:[ie]},component:ol},{path:"/pemasukan",name:"PemasukanBarang",meta:{middleware:[ie]},component:ml},{path:"/produksi",name:"ProduksiBarang",meta:{middleware:[ie]},component:cl},{path:"/pengeluaran",name:"PengeluaranBarang",meta:{middleware:[ie]},component:Sl},{path:"/pengiriman",name:"PengirimanBarang",meta:{middleware:[ie]},component:yi},{path:"/laporan-stok",name:"LaporanStok",meta:{middleware:[ie]},component:Vi},{path:"/laporan-pemasukan",name:"LaporanPemasukan",meta:{middleware:[ie]},component:Pi},{path:"/laporan-pengeluaran",name:"LaporanPengeluaran",meta:{middleware:[ie]},component:Ui},{path:"/laporan-pengiriman",name:"LaporanPengiriman",meta:{middleware:[ie]},component:Li},{path:"/laporan-log",name:"log",meta:{middleware:[ie]},component:Ki},{path:"/:catchAll(.*)",name:"notPage",component:Ji}]});Le.beforeEach((t,e,a)=>{if(!t.meta.middleware)return a();const i=t.meta.middleware,o={from:e,next:a,router:Le,to:t};return i[0]({...o,next:et(o,i,1)})});function et(t,e,a){const i=e[a];return i?()=>{const o=et(t,e,a+1);i({...t,next:o})}:t.next}const O=dt.create({baseURL:"https://auristeel.com/api-test",headers:{csrf:localStorage.getItem("token"),"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),$e=localStorage.getItem("user"),V={postLogin(t){return O.post("/login",t)},getData(t,e){return O.get(t,e)},putData(t,e){return O.patch(t,e)},deleteData(t,e){return O.delete(t,{data:e})},async getUser(t){try{const e={username:t};return(await O.get("/user?",{params:e})).data}catch{return this.logout()}},async getLogUser(t){try{const e="/log_user?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getOtoritas(t){try{return(await O.get("/user_otoritas/"+t)).data}catch{return this.logout()}},postUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Barang Konversi",status:String(t.barang_konversi[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Konversi",status:String(t.barang_konversi[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang Konversi",status:String(t.barang_konversi[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang Konversi",status:String(t.barang_konversi[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Alamat Bongkar",status:String(t.pengiriman[5].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const o=JSON.stringify(i);return O.post("/user",{username:e,password:a,otoritas:o})},editUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Barang Konversi",status:String(t.barang_konversi[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Konversi",status:String(t.barang_konversi[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang Konversi",status:String(t.barang_konversi[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang Konversi",status:String(t.barang_konversi[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Alamat Bongkar",status:String(t.pengiriman[5].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const o=JSON.stringify(i);return O.patch("/user",{username:e,password:a,otoritas:o})},deleteUser(t){const e="/user";let a={username:t};return O.delete(e,{data:a})},async getGroupBarang(){try{return(await O.get("/group_barang")).data}catch{return this.logout()}},async alamatBongkar(){try{return(await O.get("/alamat_bongkar")).data}catch{return this.logout()}},async getBarang(){try{return(await O.get("/barang?status=true")).data}catch{return this.logout()}},postBarang(t){const e=JSON.stringify(t);return O.post("/barang",{barang:e})},putBarang(t){const e=JSON.stringify(t);return O.patch("/barang",{barang:e})},deleteBarang(t){let e={kode_barang:t.kode_barang};return O.delete("/barang",{data:e})},async getKonversi(){try{return(await O.get("/konversi_barang")).data}catch{return this.logout()}},postKonversi(t){const e=JSON.stringify(t);return O.post("/konversi_barang",{barang:e})},putKonversi(t){const e=JSON.stringify(t);return O.patch("/konversi_barang",{barang:e})},deleteKonversi(t){let e={kode_konversi:t.kode_konversi};return O.delete("/konversi_barang",{data:e})},async getPelanggan(){try{return(await O.get("/pelanggan")).data}catch{return this.logout()}},postPelanggan(t){const e=JSON.stringify(t);return O.post("/pelanggan",{pelanggan:e})},putPelanggan(t){const e=JSON.stringify(t);return O.patch("/pelanggan",{pelanggan:e})},deletePelanggan(t){let e={kode_pelanggan:t.kode_pelanggan};return O.delete("/pelanggan",{data:e})},async getSupplier(){try{return(await O.get("/supplier?status=true")).data}catch{return this.logout()}},async getPemasukanHead(t){try{const e="/pembelian_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getPemasukanDetail(t){try{const e="/pembelian_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},postPemasukan(t,e){JSON.stringify(t);const a=JSON.stringify(e);return O.post("/pembelian_head?",{tgl_pembelian:t.tgl_pembelian,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_supplier:t.kode_supplier,no_invoice:t.no_invoice,no_bl:t.no_bl,persentase:t.persentase,mata_uang:t.mata_uang,kurs:t.kurs,pembelian_detail:a})},deletePemasukan(t,e){const a={no_pembelian:t.no_pembelian,tgl_batal:"",kode_supplier:t.kode_supplier,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,no_invoice:t.no_invoice,no_bl:t.no_bl,mata_uang:t.mata_uang,kurs:t.kurs,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_pembelian:t.no_pembelian};return O.delete("/pembelian_head",{data:i})},async getProduksiHead(t){try{const e="/produksi_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getProDBahan(t){try{const e="/produksi_detail_bahan?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getProDBarang(t){try{const e="/produksi_detail_barang?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getLogBarang(){try{return(await O.get("/log_barang?")).data}catch{return this.logout()}},postProduksi(t,e,a){const i=JSON.stringify(a);return O.post("/produksi_head",{tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,kode_bahan:e,produksi_detail_barang:i})},deleteProduksi(t,e,a){let i={no_produksi:t.no_produksi,tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:k.day(),user_batal:$e,status:"false"};JSON.stringify(i),JSON.stringify(e),JSON.stringify(a);const o={no_produksi:t.no_produksi};return O.delete("/produksi_head",{data:o})},async getPengirimanHead(t){try{const e="/pengiriman_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getPengirimanDetail(t){try{const e="/pengiriman_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},postPengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,keterangan:"",no_polisi:t.no_polisi,user_input:$e,tgl_input:k.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_batal:"",status:"true"};JSON.stringify(a);const i=JSON.stringify(e);return O.post("/pengiriman_head?",{no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,keterangan:t.keterangan,supir:t.supir,no_polisi:t.no_polisi,pengiriman_detail:i})},deletePengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,no_polisi:t.no_polisi,user_input:t.user_input,tgl_input:t.tgl_input,tgl_batal:k.day(),user_batal:$e,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_pengiriman:t.no_pengiriman};return O.delete("/pengiriman_head",{data:i})},async getPenjualanHead(t){try{const e="/penjualan_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getHeadPenjualan(t){try{const e="/penjualan_head/"+t;return(await O.get(e)).data}catch(e){console.log(e)}},async getPenjualanDetail(t){try{const e="/penjualan_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getBelumTerkirim(){try{return(await O.get("/penjualan_head/belum_terkirim")).data}catch{return this.logout()}},async getBelumTerkirimDetail(){try{return(await O.get("/penjualan_detail/belum_terkirim")).data}catch{return this.logout()}},postPengeluaran(t,e){let a=t.tgl_penjualan,i=t.tipe_dokumen,o=t.no_dokumen,m=t.tgl_dokumen,p=t.kode_pelanggan,_=t.kode_group;const D=JSON.stringify(e);return O.post("/penjualan_head?",{tgl_penjualan:a,tipe_dokumen:i,no_dokumen:o,tgl_dokumen:m,kode_pelanggan:p,kode_group:_,penjualan_detail:D})},deletePengeluaran(t,e){const a={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:t.total_penjualan,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:new Date,user_batal:$e,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_penjualan:t.no_penjualan};return O.delete("/penjualan_head",{data:i})},logout(){return localStorage.removeItem("token"),localStorage.removeItem("user"),Le.push("/login")}};const Fi={props:["pageTitle"],data(){return{user:"",dark:null,menu:[{title:"Ubah Password",value:"changepass"},{title:"Logout",value:"logout"}],title:this.pageTitle}},created(){this.user=localStorage.getItem("user")},methods:{logout(){V.logout()},theme(){this.dark=!this.dark,this.$emit("dark",this.dark)}},mounted(){}},Gi=Object.assign(Fi,{__name:"AppBar",setup(t){return(e,a)=>{const i=s("v-toolbar-title"),o=s("v-spacer"),m=s("v-span"),p=s("v-btn"),_=s("v-divider"),D=s("v-icon"),v=s("v-avatar"),b=s("v-div"),P=s("v-card"),f=s("v-menu"),B=s("v-sheet"),A=s("v-toolbar"),T=s("v-container"),j=s("v-app-bar");return r(),u(j,{class:"elevation-0 py-1 border-b-sm",height:"55"},{default:l(()=>[n(T,{class:"d-flex align-center"},{default:l(()=>[_e(e.$slots,"app-btn",{},void 0,!0),n(A,{class:"bg-transparent pe-3 ms-n3"},{default:l(()=>[n(i,{class:"text-button font-weight-medium text-blue-custom"},{default:l(()=>[d(y(t.pageTitle),1)]),_:1}),n(o),n(b,{class:"d-flex align-center"},{default:l(()=>[n(p,{icon:"",size:"small",color:"blue-custom",onClick:a[0]||(a[0]=U=>e.theme())},{default:l(()=>[e.dark?(r(),u(m,{key:0,class:"material-symbols-outlined"},{default:l(()=>[d("dark_mode")]),_:1})):h("",!0),e.dark?h("",!0):(r(),u(m,{key:1,class:"material-symbols-outlined"},{default:l(()=>[d("light_mode")]),_:1}))]),_:1}),n(_,{vertical:"",class:"mx-2"}),n(B,{id:"akun",class:"d-flex align-center text-blue-custom clickable"},{default:l(()=>[n(v,{class:"bg-blue-custom me-2",size:"small"},{default:l(()=>[n(D,{size:"25",color:"white"},{default:l(()=>[d("mdi-account")]),_:1})]),_:1}),n(m,{class:"text-caption d-flex"},{default:l(()=>[d(y(e.user)+" ",1),n(D,{size:"20"},{default:l(()=>[d("mdi-chevron-down")]),_:1})]),_:1}),n(f,{activator:"#akun"},{default:l(()=>[n(P,{width:"300",class:"rounded-xl pa-2 border"},{default:l(()=>[n(b,{class:"d-flex flex-column align-center rounded-xl border"},{default:l(()=>[n(v,{class:"bg-blue-custom mt-3 mb-2",size:"100"},{default:l(()=>[n(D,{size:"80"},{default:l(()=>[d("mdi-account")]),_:1})]),_:1}),n(m,null,{default:l(()=>[d(y(e.user),1)]),_:1}),n(p,{class:"d-flex justify-start align-left rounded-b-xl elevation-0 mt-5",block:"",size:"60"},{default:l(()=>[n(D,{color:"mt-n1 ms-6",size:"19"},{default:l(()=>[d("mdi-key")]),_:1}),n(m,{class:"ms-2 text-body-2"},{default:l(()=>[d("Ganti Password")]),_:1})]),_:1})]),_:1}),n(p,{onClick:a[1]||(a[1]=U=>e.logout()),variant:"text",class:"d-flex justify-start align-left rounded-xl elevation-0 text-body-2",block:"",size:"60"},{default:l(()=>[n(D,{size:"20",class:"me-2 ms-6"},{default:l(()=>[d("mdi-logout")]),_:1}),n(m,null,{default:l(()=>[d("Log out")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:3})]),_:3})}}}),tt=Y(Gi,[["__scopeId","data-v-7ed05d83"]]);const qi=t=>(Ae("data-v-f525dddb"),t=t(),Ke(),t),zi=["checked"],Mi=qi(()=>$("label",{for:"menu_checkbox"},[$("div"),$("div"),$("div")],-1)),Yi={components:{NavDrawers:We,AppBar:tt},data(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,drawer:!1,aut:"",tema:null,databarang:"",cetak:[{title:"Export xlsx",icon:"mdi-download",key:"xlsx"},{title:"Export pdf",icon:"mdi-file-pdf-box",key:"pdf"}],pageTitle:"",pemasukan:"",produksi:"",pengeluaran:"",kirim:"",user_otoritas:""}},methods:{onResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},page(t){this.pageTitle=t},theme(t){t?this.tema="dark":this.tema="light"},async fetchData(){let t=localStorage.getItem("token"),e=localStorage.getItem("user");if(t!=null&&t!=!1&&e!=null){let a=await V.getOtoritas(e);this.aut=w.otoritas(a)}else return await V.logout()}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)}),this.page(),this.fetchData()}},Wi=Object.assign(Yi,{__name:"App",setup(t){return(e,a)=>{const i=s("v-div"),o=s("v-main"),m=s("v-layout"),p=s("v-theme-provider");return r(),u(p,{theme:e.tema,"with-background":""},{default:l(()=>[n(m,null,{default:l(()=>[e.pageTitle!=null?(r(),u(We,{key:0,modelValue:e.drawer,"onUpdate:modelValue":a[0]||(a[0]=_=>e.drawer=_),pageTitle:e.pageTitle,aut:e.aut,pemasukan:e.pemasukan,produksi:e.produksi,pengeluaran:e.pengeluaran,kirim:e.kirim},null,8,["modelValue","pageTitle","aut","pemasukan","produksi","pengeluaran","kirim"])):h("",!0),e.pageTitle!=null?(r(),u(tt,{key:1,pageTitle:e.pageTitle,onDark:e.theme},{"app-btn":l(()=>[n(i,{class:"me-5"},{default:l(()=>[$("input",{type:"checkbox",id:"menu_checkbox",onClick:a[1]||(a[1]=_=>e.drawer=!e.drawer),checked:e.drawer},null,8,zi),Mi]),_:1})]),_:1},8,["pageTitle","onDark"])):h("",!0),n(o,{class:"vh-100 vw-100"},{default:l(()=>[n(g(mt),{cetak:e.cetak,onPage:e.page,onPages:e.page,window:e.windowWidth,windowH:e.windowHeight,tema:e.tema},null,8,["cetak","onPage","onPages","window","windowH","tema"])]),_:1})]),_:1})]),_:1},8,["theme"])}}}),Qi=Y(Wi,[["__scopeId","data-v-f525dddb"]]);const Xi={dark:!1,colors:{background:"#fafafa",dark:"#212121","blue-custom":"#3B7AA9",white:"#fff",black:"#121212","grey-lighten-4":"#f5f5f5"}},Zi={dark:!0,colors:{background:"#121212",dark:"#e8e8e8","blue-custom":"#6699bf",black:"#fff",white:"#121212","grey-lighten-4":"#2b2b2b"}},xi=gt({theme:{themes:{light:Xi,dark:Zi}},icons:{defaultSet:"mdi"},components:{...pt,...ht,...ct}});async function es(){(await ft(()=>import("./webfontloader-2c91c0c7.js").then(e=>e.w),["assets/webfontloader-2c91c0c7.js","assets/vendor-b91216bb.js","assets/vendor-dc945adf.css"])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}es();const Re=kt(Qi);Re.component("VueDatePicker",bt);Re.use(Le);Re.use(xi);Re.mount("#app");
