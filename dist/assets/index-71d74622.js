import{r,o as d,c as p,w as l,a as n,b as s,d as m,u as g,R as ne,e as c,p as Ve,f as Ce,E as ot,t as k,m as A,V as pe,g as P,F as M,n as me,h as N,i as Se,j as _e,k as ve,l as rt,q as dt,s as ut,v as we,x as Xe,y as mt,Q as ht,z as ge,A as Ne,B as De,C as pt,D as gt,G as ct,H as ft,I as _t,J as bt,K as kt,L as vt,_ as wt,M as yt,N as jt}from"./vendor-de531ced.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();const Vt="/assets/just_logo-b2ce2bdc.png",Ct=["Data Barang","Tambah Barang Baru","Ubah Barang","Hapus Barang"],Dt=["Barang Konversi","Tambah Barang Konversi","Ubah Barang Konversi","Hapus Barang Konversi"],$t=["Data Pelanggan","Tambah Pelanggan Baru","Ubah Pelanggan","Hapus Pelanggan"],Pt=["Data Supplier"],Bt=["Data User"],Tt=["Pembelian","Batal Pembelian","Tambah Pembelian Baru","Persentase"],St=["Produksi","Tambah Produksi Baru","Batal Produksi"],Ut=["Penjualan","Tambah Penjualan Baru","Batal Penjualan"],xt=["Pengiriman","Batal Pengiriman","Tambah Pengiriman Baru","Cetak Surat Jalan","Cetak DO","Alamat Bongkar"],Ht=["Laporan","Laporan Stok Barang","Laporan Pembelian","Laporan Produksi","Laporan Penjualan","Laporan Pengiriman","Laporan Log User"],Lt=["Pengaturan Umum","Export pdf","Export xlsx"],Kt=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].status=="true"&&e.push({username:t[a].username,jenis_otoritas:t[a].jenis_otoritas,status:t[a].status});return e},Mt=(t,e)=>{let a=!1;if(t.length>=1)for(let i=0;i<t.length;i++)t[i].jenis_otoritas==e&&(t[i].status=="true"?a=!0:a=!1);else a=!1;return a},Ot=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].username==e&&a.push({jenis_otoritas:t[i].jenis_otoritas,status:t[i].status});return a},Nt=t=>{let e=[];for(let a=0;a<t.length;a++)t[a].jenis_otoritas=="Data Barang"&&e.push({data_barang:!0}),t[a].jenis_otoritas=="Tambah Barang Baru"&&e.push({tambah_barang:!0}),t[a].jenis_otoritas=="Ubah Barang"&&e.push({edit_barang:!0}),t[a].jenis_otoritas=="Hapus Barang"&&e.push({hapus_barang:!0}),t[a].jenis_otoritas=="Data Pelanggan"&&e.push({data_pelanggan:!0}),t[a].jenis_otoritas=="Tambah Pelanggan Baru"&&e.push({tambah_pelanggan:!0}),t[a].jenis_otoritas=="Ubah Pelanggan"&&e.push({edit_pelanggan:!0}),t[a].jenis_otoritas=="Hapus Pelanggan"&&e.push({hapus_pelanggan:!0}),t[a].jenis_otoritas=="Data Supplier"&&e.push({data_supplier:!0}),t[a].jenis_otoritas=="Pembelian"&&e.push({pembelian:!0}),t[a].jenis_otoritas=="Tambah Pembelian"&&e.push({tambah_pembelian:!0}),t[a].jenis_otoritas=="Batal Pembelian"&&e.push({batal_pembelian:!0}),t[a].jenis_otoritas=="Produksi"&&e.push({produksi:!0}),t[a].jenis_otoritas=="Tambah Produksi"&&e.push({tambah_produksi:!0}),t[a].jenis_otoritas=="Batal Produksi"&&e.push({batal_produksi:!0}),t[a].jenis_otoritas=="Penjualan"&&e.push({penjualan:!0}),t[a].jenis_otoritas=="Tambah Penjualan"&&e.push({tambah_penjualan:!0}),t[a].jenis_otoritas=="Pengiriman"&&e.push({pengiriman:!0}),t[a].jenis_otoritas=="Tambah Pengiriman"&&e.push({tambah_pengiriman:!0}),t[a].jenis_otoritas=="Batal Pengiriman"&&e.push({batal_pengiriman:!0}),t[a].jenis_otoritas=="Laporan"&&e.push({laporan:!0}),t[a].jenis_otoritas=="Laporan Stok Barang"&&e.push({laporan_stok:!0}),t[a].jenis_otoritas=="Laporan Pembelian"&&e.push({laporan_pembelian:!0}),t[a].jenis_otoritas=="Laporan Produksi"&&e.push({laporan_produksi:!0}),t[a].jenis_otoritas=="Laporan Penjualan"&&e.push({laporan_penjualan:!0}),t[a].jenis_otoritas=="Laporan Log User"&&e.push({laporan_log:!0});return e},C={data_barang:Ct,barang_konversi:Dt,data_pelanggan:$t,data_supplier:Pt,data_user:Bt,pembelian:Tt,produksi:St,penjualan:Ut,pengiriman:xt,laporan:Ht,setelan:Lt,otoritas:Kt,routes:Mt,all:Ot,items:Nt};const J=(t,e)=>{const a=t.__vccOpts||t;for(const[i,o]of e)a[i]=o;return a},Jt=t=>(Ve("data-v-e9600afa"),t=t(),Ce(),t),Rt={class:"d-flex flex-column align-center"},It=Jt(()=>s("div",{class:"rounded-circle bg-blue-transparent d-flex align-center",style:{width:"55px",height:"55px"}},[s("img",{src:Vt,style:{width:"60px"}})],-1)),Zt={class:"d-flex flex-column text-center"},Ft={props:["pageTitle","aut"],data(){return{master:["master"],pages:[{key:"master",value:"Master"},{key:"masuk",value:"Pemasukan Barang"},{key:"produksi",value:"Produksi"},{key:"keluar",value:"Pengeluaran Barang"},{key:"kirim",value:"Pengiriman Barang"},{key:"laporan",value:"Laporan"}],navtitle:"",drawer:null,rail:!0,drawerMaster:null,pemasukan:"",pemasukandetail:"",pengeluaran:"",pengeluarandetail:"",produksi:"",produksidetail:"",kirim:"",title:"",empty:null}},methods:{page(){return this.pageTitle=="Data Barang"||this.pageTitle=="barang konversi"||this.pageTitle=="data pelanggan"||this.pageTitle=="data supplier"||this.pageTitle=="data user"},laporan(){return this.pageTitle=="laporan stok barang"||this.pageTitle=="laporan pemasukan barang"||this.pageTitle=="laporan pengeluaran barang"||this.pageTitle=="laporan pengiriman"||this.pageTitle=="laporan log user"}},mounted(){}},Et=Object.assign(Ft,{__name:"NavDrawers",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-sheet"),u=r("v-list-item"),h=r("v-list"),b=r("v-menu"),V=r("v-row"),w=r("v-navigation-drawer");return d(),p(w,{class:"elevation-0 border-0"},{default:l(()=>[n(o,{fluid:"",class:"d-flex align-center justify-center bg-transparent",height:"120"},{default:l(()=>[s("div",Rt,[It,s("div",Zt,[n(i,{class:"font-weight-medium text-uppercase text-caption"},{default:l(()=>[m("Inventori")]),_:1})])])]),_:1}),n(V,{class:"mx-5"},{default:l(()=>[n(h,{class:"w-100","active-color":"blue-custom"},{default:l(()=>[n(g(ne),{to:"/dashboard"},{default:l(()=>[n(u,{"prepend-icon":"mdi-home",class:"text-caption text-dark hover rounded-xl mt-3",active:t.pageTitle=="Dashboard",onClick:a[0]||(a[0]=j=>t.pageTitle="Dashboard")},{default:l(()=>[m(" Dashboard ")]),_:1},8,["active"])]),_:1}),n(u,{id:"master",class:"text-caption text-dark hover rounded-xl",value:"master",onClick:a[1]||(a[1]=j=>t.pageTitle="master"),active:e.page(),"prepend-icon":"mdi-database"},{default:l(()=>[m(" Data Master ")]),_:1},8,["active"]),n(b,{activator:g(C).routes(t.aut,"Data Barang")?"#master":null,location:"end",width:"200"},{default:l(()=>[n(h,{class:"text-caption",density:"compact",elevation:"3",rounded:"lg"},{default:l(()=>[g(C).routes(t.aut,"Data Barang")?(d(),p(g(ne),{key:0,to:"/data-barang"},{default:l(()=>[n(u,{class:"text-dark hover"},{default:l(()=>[m("Data Barang")]),_:1})]),_:1})):c("",!0),g(C).routes(t.aut,"Barang Konversi")?(d(),p(g(ne),{key:1,to:"/barang-konversi"},{default:l(()=>[n(u,{class:"text-dark hover"},{default:l(()=>[m("Barang Konversi")]),_:1})]),_:1})):c("",!0),g(C).routes(t.aut,"Data Pelanggan")?(d(),p(g(ne),{key:2,to:"/data-pelanggan"},{default:l(()=>[n(u,{class:"text-dark hover"},{default:l(()=>[m("Data Pelanggan ")]),_:1})]),_:1})):c("",!0),n(g(ne),{"user-if":"otoritas.routes(aut, 'Data Supplier')",to:"/data-supplier"},{default:l(()=>[n(u,{class:"text-dark hover"},{default:l(()=>[m("Data Supplier")]),_:1})]),_:1}),g(C).routes(t.aut,"Data User")?(d(),p(g(ne),{key:3,to:"/data-user"},{default:l(()=>[n(u,{class:"text-dark hover"},{default:l(()=>[m("Data User")]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1},8,["activator"]),g(C).routes(t.aut,"Pembelian")?(d(),p(g(ne),{key:0,to:"/pemasukan"},{default:l(()=>[n(u,{"prepend-icon":"mdi-inbox-arrow-down",class:"text-caption text-dark hover rounded-xl",active:t.pageTitle=="pemasukan barang",onClick:a[2]||(a[2]=j=>t.pageTitle="pemasukan barang")},{default:l(()=>[m(" Pemasukan Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),g(C).routes(t.aut,"Produksi")?(d(),p(g(ne),{key:1,to:"/produksi"},{default:l(()=>[n(u,{"prepend-icon":"mdi-chart-donut",class:"text-caption text-dark hover rounded-xl",active:t.pageTitle=="produksi barang",onClick:a[3]||(a[3]=j=>t.pageTitle="produksi barang")},{default:l(()=>[m(" Produksi Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),g(C).routes(t.aut,"Penjualan")?(d(),p(g(ne),{key:2,to:"/pengeluaran"},{default:l(()=>[n(u,{"prepend-icon":"mdi-inbox-arrow-up",class:"text-caption text-dark hover rounded-xl",active:t.pageTitle=="pengeluaran barang",onClick:a[4]||(a[4]=j=>t.pageTitle="pengeluaran barang")},{default:l(()=>[m(" Pengeluaran Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),g(C).routes(t.aut,"Pengiriman")?(d(),p(g(ne),{key:3,to:"/pengiriman"},{default:l(()=>[n(u,{"prepend-icon":"mdi-send-variant",class:"text-caption text-dark hover rounded-xl",active:t.pageTitle=="pengiriman barang",onClick:a[5]||(a[5]=j=>t.pageTitle="pengiriman barang")},{default:l(()=>[m(" Pengiriman Barang ")]),_:1},8,["active"])]),_:1})):c("",!0),n(u,{id:"laporan","prepend-icon":"mdi-folder-outline",class:"text-caption text-dark hover rounded-xl",active:e.laporan(),value:"laporan",onClick:a[6]||(a[6]=j=>t.pageTitle="laporan")},{default:l(()=>[m(" Laporan ")]),_:1},8,["active"]),n(b,{activator:g(C).routes(t.aut,"Laporan")?"#laporan":null,location:"end",width:"200"},{default:l(()=>[n(h,{class:"text-caption",density:"compact",elevation:"3",rounded:"0"},{default:l(()=>[g(C).routes(t.aut,"Laporan Stok Barang")?(d(),p(g(ne),{key:0,to:"/laporan-stok"},{default:l(()=>[n(u,{class:"text-dark"},{default:l(()=>[m("Laporan Stok Barang")]),_:1})]),_:1})):c("",!0),g(C).routes(t.aut,"Laporan Pembelian")?(d(),p(g(ne),{key:1,to:"/laporan-pemasukan"},{default:l(()=>[n(u,{class:"text-dark"},{default:l(()=>[m("Laporan Pemasukan")]),_:1})]),_:1})):c("",!0),g(C).routes(t.aut,"Laporan Penjualan")?(d(),p(g(ne),{key:2,to:"/laporan-pengeluaran"},{default:l(()=>[n(u,{class:"text-dark"},{default:l(()=>[m("Laporan Pengeluaran")]),_:1})]),_:1})):c("",!0),g(C).routes(t.aut,"Laporan Pengiriman")?(d(),p(g(ne),{key:3,to:"/laporan-pengiriman"},{default:l(()=>[n(u,{class:"text-dark"},{default:l(()=>[m("Laporan Pengiriman")]),_:1})]),_:1})):c("",!0),g(C).routes(t.aut,"Laporan Log User")?(d(),p(g(ne),{key:4,to:"/laporan-log"},{default:l(()=>[n(u,{class:"text-dark"},{default:l(()=>[m("Laporan Log User")]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1},8,["activator"])]),_:1})]),_:1})]),_:1})}}}),Qe=J(Et,[["__scopeId","data-v-e9600afa"]]);function W({next:t,router:e}){return localStorage.getItem("token")==null||localStorage.getItem("token")==null?(localStorage.removeItem("token"),localStorage.removeItem("user"),e.push({path:"/login"})):t()}const f={day(){return new Date().toJSON().slice(0,10)},formatDate(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleDateString("id",e);return t!=""?a:""},formatDateTime(t){let e={day:"2-digit",year:"numeric",month:"long"},a=new Date(t).toLocaleTimeString("id",{timeStyle:"short"}),i=new Date(t).toLocaleDateString("id",e);return t!=""?i+" "+a:""},tglawal(){let t=new Date;return t.setDate(t.getDate()-7),t.toJSON().slice(0,10)},last_month(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.toJSON().slice(0,10)},getTime(){return new Date().toLocaleTimeString("id",{timeStyle:"short"})},numb(t,e,a){return a?(t/1).toFixed(e).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},numb2(t){return(t/1).toFixed(0).replace(",",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},generatePDF(t,e,a){const i=new ot({orientation:"portrait",unit:"in",format:"letter"});let o=t,u=e;i.setFontSize(16).text(o,.5,1),i.autoTable({columns:u,body:a,margin:{left:.5,top:1.25}}).save(`${t}.pdf`)},ExportToExcel(t,e,a,i){var o=document.getElementById("tbl_exporttable_to_xls"),u=XLSX.utils.table_to_book(o,{sheet:"sheet1"});return i?XLSX.write(u,{bookType:t,bookSST:!0,type:"base64"}):XLSX.writeFile(u,a||e+"."+t)},print(t,e,a,i){if(t=="xlsx")return this.ExportToExcel("xlsx",e);if(t=="pdf")return this.generatePDF(e,a,i)},filterObject(t,e){return t.filter(a=>{let i=a.nama.toLowerCase().includes(e.toLowerCase()),o=a.kode_barang!=null?a.kode_barang.toLowerCase().includes(e.toLowerCase()):"",u=a.kode_konversi!=null?a.kode_konversi.toLowerCase().includes(e.toLowerCase()):"",h=a.satuan_konversi!=null?a.satuan_konversi.toLowerCase().includes(e.toLowerCase()):"";return i||o||u||h})},datafilter(t,e){if(t=e,t){if(t==[])return t=[]}else return t=[]},uppercase(t){return t.toUpperCase()},removeDuplicate(t){let e=[];return t.forEach(a=>{e.includes(a)||e.push(a)}),e},avg(t){let a=t.reduce((i,o)=>i+o,0)/t.length;return this.numb(a)}},At=["Bahan Baku","Bahan Penolong","Barang Setengah Jadi","Barang Jadi","Barang Sisa (Scrap)","Mesin & Peralatan"],qt=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{key:"actions",align:"end",sortable:!1}],Gt=["kategori_barang","kode_barang","nama_barang","hs_code","satuan","status"],zt=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.kategori_barang)),Yt=(t,e,a)=>{for(let i=0;i<e.length;i++)if(t==e[i].kode_barang){if(a=="k")return e[i].kategori_barang;if(a=="nm")return e[i].nama_barang;if(a=="hc")return e[i].hs_code;if(a=="s")return e[i].satuan}},Wt=t=>{let e=[];for(let a=0;a<t.length;a++)e.push({index:a,kategori_barang:t[a].kategori_barang,kode_barang:t[a].kode_barang,nama_barang:t[a].nama_barang,hs_code:t[a].hs_code,satuan:t[a].satuan,status:t[a].status});return e},Xt=t=>{let e=[];for(let a=0;a<t.length;a++)e.push(t[a].kode_barang);return e},Qt=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].kode_barang==t&&a.push(e[i].stok_akhir);return a.reduce((i,o)=>i+o,0)},ea=t=>t.map(a=>({kategori_barang:a.kategori_barang,kode_barang:a.kode_barang,nama_barang:a.nama_barang,hs_code:a.hs_code,satuan:a.satuan})),ta=(t,e)=>{let a=[];if(e.length===0)return t;for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)e[i]==t[o].kode_barang&&a.push(t[o]);return a},ee={category:At,headers:qt,keyform:Gt,selected:zt,slotitem:Yt,sumStok:Qt,barang:ea,item:Wt,kodebarang:Xt,konversi:ta},aa={components:{},props:["icon"],data(){return{}}};function na(t,e,a,i,o,u){const h=r("v-icon"),b=r("v-btn");return d(),p(b,{variant:"text",color:"grey-darken-2",size:"small",icon:""},{default:l(()=>[n(h,null,{default:l(()=>[m(k(a.icon),1)]),_:1})]),_:1})}const Q=J(aa,[["render",na]]),la=[{title:"Tanggal",key:"tanggal"},{title:"Username",key:"username"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"}],ia=[{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],sa=t=>t.filter((a,i)=>i===t.findIndex(o=>a.kode_barang===o.kode_barang)),oa=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_barang==e[o].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[o].kode_group,stok_akhir:ee.sumStok(t[i].kode_barang,e)});return a},ra=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_barang==e[o].kode_barang&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:e[o].kode_group,stok_akhir:e[o].stok_akhir});return a},da=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].kode_barang==e&&a.push({kategori_barang:t[i].kategori_barang,kode_barang:t[i].kode_barang,nama_barang:t[i].nama_barang,hs_code:t[i].hs_code,satuan:t[i].satuan,kode_group:t[i].kode_group,stok_akhir:f.numb(t[i].stok_akhir,1,!0)});return a},ua=(t,e,a)=>{let i=[];for(let o=0;o<a.length;o++)a[o].kode_group==t&&a[o].kode_barang==e&&i.push({tanggal:a[o].tanggal,kode_group:a[o].kode_group,kode_barang:a[o].kode_barang,kategori:a[o].kategori,keterangan:a[o].keterangan,stok_awal:f.numb(a[o].stok_awal,1,!0),stok_masuk:f.numb(a[o].stok_masuk,1,!0),stok_keluar:f.numb(a[o].stok_keluar,1,!0),stok_akhir:f.numb(a[o].stok_akhir,1,!0)});return i},fe={headLogUser:la,headStokBarang:ia,stokBarang:oa,noDuplicate:sa,detail:ra,subDetail:da,log:ua},ma={components:{VDataTable:pe,TextButton:Q},props:["kode_group","barang","kode_barang","detail","groupbarang","logbrg"],data(){return{dialog:!1,dialogbrg:[],log_brg:"",authority:"",headers:[{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Kode",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}],subheaders:[{title:"Tanggal",key:"tanggal"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Kategori",key:"kategori"},{title:"Keterangan",key:"keterangan"},{title:"Stok Awal",key:"stok_awal"},{title:"Stok Masuk",key:"stok_masuk"},{title:"Stok Keluar",key:"stok_keluar"},{title:"Stok Akhir",key:"stok_akhir"},{title:"",key:"actions"}]}},computed:{},methods:{},mounted(){}},et=Object.assign(ma,{__name:"LogBarang",setup(t){return(e,a)=>{const i=r("v-toolbar-title"),o=r("v-spacer"),u=r("v-toolbar"),h=r("v-sheet"),b=r("v-card"),V=r("v-dialog");return d(),p(V,{modelValue:e.dialog,"onUpdate:modelValue":a[1]||(a[1]=w=>e.dialog=w),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:w})=>[n(Q,A(w,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(b,null,{default:l(()=>[n(u,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Q,{onClick:a[0]||(a[0]=w=>e.dialog=!1),icon:"mdi-close",color:"white"}),n(i,{class:"text-button"},{default:l(()=>[m("DETAIL STOK BARANG")]),_:1}),n(o)]),_:1}),n(h,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(g(pe),{"items-per-page":t.detail.length,headers:e.headers,items:t.detail,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.actions":l(({item:w,index:j})=>[n(Q,{onClick:B=>e.dialogbrg[j]=!0,icon:"mdi-dots-vertical"},null,8,["onClick"]),n(V,{modelValue:e.dialogbrg[j],"onUpdate:modelValue":B=>e.dialogbrg[j]=B,scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{default:l(()=>[n(u,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Q,{onClick:B=>e.dialogbrg[j]=!1,icon:"mdi-close",color:"white"},null,8,["onClick"]),n(i,{class:"text-button"},{default:l(()=>[m("DETAIL LOG BARANG")]),_:1}),n(o)]),_:2},1024),n(b,null,{default:l(()=>[n(h,{class:"ma-5",height:e.window>776?"94%":"87%"},{default:l(()=>[n(g(pe),{"items-per-page":g(fe).log(w.raw.kode_group,w.raw.kode_barang,t.logbrg).length,headers:e.subheaders,items:g(fe).log(w.raw.kode_group,w.raw.kode_barang,t.logbrg),search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 rounded-lg border-sm h-100",height:e.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.tanggal":l(({item:B})=>[m(k(g(f).formatDate(B.raw.tanggal)),1)]),_:2},1032,["items-per-page","headers","items","search","height"])]),_:2},1032,["height"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["items-per-page","headers","items","search","height"])]),_:1},8,["height"])]),_:1})]),_:1},8,["modelValue"])}}}),ha={components:{},props:["btn_title"],data(){return{}}};function pa(t,e,a,i,o,u){const h=r("v-btn");return d(),p(h,{class:"elevation-0 text-caption px-5",variant:"tonal",height:"42","min-width":"100"},{default:l(()=>[m(k(a.btn_title),1)]),_:1})}const I=J(ha,[["render",pa]]),ga={components:{},props:["btn_title","icon"],data(){return{}}};function ca(t,e,a,i,o,u){const h=r("v-span"),b=r("v-btn");return d(),p(b,{class:"elevation-0 text-caption rounded-pill",color:"blue-custom",height:"42",width:"137","prepend-icon":a.icon},{default:l(()=>[n(h,{class:"text-wrap"},{default:l(()=>[m(k(a.btn_title),1)]),_:1})]),_:1},8,["prepend-icon"])}const ie=J(ga,[["render",ca]]),fa={components:{},props:["btn_title"],data(){return{}}};function _a(t,e,a,i,o,u){const h=r("v-btn");return d(),p(h,{class:"elevation-0 text-caption px-5",color:"orange-lighten-1",height:"42","min-width":"100"},{default:l(()=>[m(k(a.btn_title),1)]),_:1})}const Z=J(fa,[["render",_a]]);const ba={components:{},props:["label","rules","disabled","hideDetails","type","value"],data(){return{}}};function ka(t,e,a,i,o,u){const h=r("v-text-field");return d(),p(h,{type:a.type,variant:"text",density:"compact",class:"mb-2 border rounded",rules:a.rules,"hide-details":"",disabled:a.disabled,style:{"min-width":"185px",width:"197px","max-width":"197px",height:"38px"}},null,8,["type","rules","disabled"])}const U=J(ba,[["render",ka],["__scopeId","data-v-2ecd4f74"]]),va={components:{},props:["toolbar_title"],data(){return{}}};function wa(t,e,a,i,o,u){const h=r("v-span"),b=r("v-toolbar"),V=r("v-divider");return d(),P(M,null,[n(b,{class:"bg-transparent"},{default:l(()=>[n(h,{class:"w-100 text-center text-button text-grey-darken-3 mt-4"},{default:l(()=>[m(k(a.toolbar_title),1)]),_:1})]),_:1}),n(V)],64)}const ya=J(va,[["render",wa]]),ja={components:{},data(){return{}}};function Va(t,e,a,i,o,u){const h=r("v-icon"),b=r("v-btn");return d(),p(b,{size:"small",variant:"text",icon:""},{default:l(()=>[n(h,{size:"20",color:"blue-custom"},{default:l(()=>[m("mdi-dots-vertical")]),_:1})]),_:1})}const tt=J(ja,[["render",Va]]),Ca={components:{btnOption:tt,textButton:Q},props:["icon","items","variant","submenu","index","otority"],data(){return{}},methods:{clicked(t){this.$emit("result",t,this.index)}}},q=Object.assign(Ca,{__name:"menuList",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-list-item"),u=r("v-list"),h=r("v-menu");return d(),p(h,null,{activator:l(({props:b})=>[t.submenu?c("",!0):(d(),p(tt,me(A({key:0},b)),null,16)),t.submenu?(d(),p(Q,A({key:1},b,{icon:t.icon}),null,16,["icon"])):c("",!0)]),default:l(()=>[n(u,null,{default:l(()=>[(d(!0),P(M,null,N(t.items,(b,V)=>(d(),p(o,{key:V,value:b.key,onClick:w=>e.clicked(b.key),density:"compact",class:"text-caption","prepend-icon":b.icon},{default:l(()=>[!t.submenu&&g(C).routes(t.otority,b.title)?(d(),p(i,{key:0},{default:l(()=>[m(k(b.title),1)]),_:2},1024)):c("",!0),t.submenu?(d(),p(i,{key:1},{default:l(()=>[m(k(b.title),1)]),_:2},1024)):c("",!0)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}}});const Da={components:{btnInfo:ie,toolbarHeader:ya,textFieldForm:U,BtnOrange:Z,BtnCancel:I,MenuList:q,BtnInfo:ie},props:["keyform","tambah","disabled","ishidden","master","hapus","headers","category","toolbar_title","alpha","view","item","form","noselect","intable"],data(){return{dialog:!1,edit:{},data:this.tambah,list:[{title:"Edit Data",icon:"mdi-pencil",key:"edit"},{title:"Hapus Data",icon:"mdi-delete",key:"hapus"}],valid:!0,required:[t=>t?!0:"harus diisi !"]}},computed:{},methods:{menuAksi(t){t=="edit"&&(this.dialog=!0)},submit(t){this.item==null?this.$emit("form",t):this.$emit("edit",t),this.dialog=!1},del(t){this.$emit("del",t)},async validate(){const{valid:t}=await this.$refs.form.validate();let e={};if(t)return this.item==null?e=this.data:e=this.item,this.submit(e)}},mounted(){}},$a={key:0,class:"d-flex align-center"},Pa={class:"text-caption",style:{width:"70px"}},Ba={key:1,class:"d-flex align-center"},Ta={class:"text-caption",style:{width:"70px"}},Sa={key:0,class:"d-flex align-center"},Ua={class:"text-caption",style:{width:"70px"}},xa={class:"d-flex align-center"},Ha={class:"text-caption",style:{width:"70px"}};function La(t,e,a,i,o,u){const h=r("btn-info"),b=r("toolbar-header"),V=r("text-field-form"),w=r("v-list-item-title"),j=r("v-list-item"),B=r("v-list"),y=r("v-menu"),$=r("v-div"),H=r("v-container"),_=r("v-divider"),T=r("btn-cancel"),K=r("btn-orange"),ue=r("v-form"),re=r("v-card"),Y=r("v-dialog");return d(),p(Y,{modelValue:o.dialog,"onUpdate:modelValue":e[6]||(e[6]=v=>o.dialog=v),scrim:!1,transition:"dialog-bottom-transition",width:"370","max-width":"400"},{activator:l(({props:v})=>[a.intable?c("",!0):(d(),p(h,A({key:0},v,{icon:"mdi-plus",btn_title:"Tambah Baru"}),null,16))]),default:l(()=>[n(re,{class:"rounded-xl"},{default:l(()=>[n(ue,{onSubmit:e[5]||(e[5]=Se(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(b,{toolbar_title:a.toolbar_title},null,8,["toolbar_title"]),n(H,{class:"mt-5 d-flex flex-column align-center"},{default:l(()=>[a.noselect?c("",!0):(d(),p($,{key:0},{default:l(()=>[this.item==null?(d(),P("div",$a,[s("span",Pa,k(a.headers[0].title),1),n(V,{id:"tambah",label:a.headers[0].title,modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[0]||(e[0]=v=>o.data[a.keyform[0]]=v),readonly:"",rules:o.required},null,8,["label","modelValue","rules"]),n(y,{activator:"#tambah",class:"elevation-0"},{default:l(()=>[n(B,{class:"h-dropdown"},{default:l(()=>[(d(!0),P(M,null,N(a.category.slice(this.alpha,a.category.length),(v,S)=>(d(),p(j,{key:S,density:"compact"},{default:l(()=>[n(w,{onClick:x=>o.data[a.keyform[0]]=v,class:"text-caption"},{default:l(()=>[m(k(v),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})])):c("",!0),a.item!=null?(d(),P("div",Ba,[s("span",Ta,k(a.headers[0].title),1),n(V,{id:"tipe",label:a.headers[0].title,modelValue:a.item[a.keyform[0]],"onUpdate:modelValue":e[1]||(e[1]=v=>a.item[a.keyform[0]]=v),readonly:"",rules:o.required},null,8,["label","modelValue","rules"]),n(y,{activator:"#tipe",class:"elevation-0"},{default:l(()=>[n(B,null,{default:l(()=>[(d(!0),P(M,null,N(a.category.slice(this.alpha,a.category.length),(v,S)=>(d(),p(j,{key:S,density:"compact"},{default:l(()=>[n(w,{onClick:x=>a.item[a.keyform[0]]=v,class:"text-caption"},{default:l(()=>[m(k(v),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})])):c("",!0)]),_:1})),a.noselect?(d(),p($,{key:1},{default:l(()=>[a.item==null?(d(),P("div",Sa,[s("span",Ua,k(a.headers[0].title),1),this.item==null?(d(),p(V,{key:0,label:a.headers[0].title,modelValue:o.data[a.keyform[0]],"onUpdate:modelValue":e[2]||(e[2]=v=>o.data[a.keyform[0]]=v),rules:o.required},null,8,["label","modelValue","rules"])):c("",!0),this.item!=null?(d(),p(V,{key:1,label:a.headers[0].title,modelValue:a.item[a.keyform[0]],"onUpdate:modelValue":e[3]||(e[3]=v=>a.item[a.keyform[0]]=v),readonly:a.headers[0].dis,rules:o.required},null,8,["label","modelValue","readonly","rules"])):c("",!0)])):c("",!0)]),_:1})):c("",!0),(d(!0),P(M,null,N(a.headers.slice(1,a.headers.length-1),(v,S)=>(d(),P("div",{key:S},[s("div",xa,[s("span",Ha,k(v.title),1),this.item==null?(d(),p(V,{key:0,label:v.title,modelValue:o.data[a.keyform[S+1]],"onUpdate:modelValue":x=>o.data[a.keyform[S+1]]=x,rules:o.required,type:a.keyform[S+1]=="berat"?"number":t.text},null,8,["label","modelValue","onUpdate:modelValue","rules","type"])):c("",!0),this.item!=null?(d(),p(V,{key:1,label:v.title,modelValue:a.item[a.keyform[S+1]],"onUpdate:modelValue":x=>a.item[a.keyform[S+1]]=x,readonly:a.headers[S+1].dis,rules:o.required,type:a.keyform[S+1]=="berat"?"number":t.text},null,8,["label","modelValue","onUpdate:modelValue","readonly","rules","type"])):c("",!0)])]))),128))]),_:1}),n(_),a.view?c("",!0):(d(),p($,{key:0,class:"d-flex align-center float-end ma-5"},{default:l(()=>[o.edit?c("",!0):(d(),p(T,{key:0,onClick:e[4]||(e[4]=v=>(o.data="",o.dialog=!1)),btn_title:"Batal"})),_e(t.$slots,"cancel"),n(K,{type:"submit",onClick:u.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:3}))]),_:3},512)]),_:3})]),_:3},8,["modelValue"])}const $e=J(Da,[["render",La]]),Ka="/assets/confirm-2fdee6a6.png",Ma={props:["object","item","mess"],data(){return{}},computed:{message(){return this.item.hs_code?this.item.kode_barang:this.item.kode_konversi?this.item.kode_konversi:this.item.kode_pelanggan?this.item.kode_pelanggan:this.item.no_penjualan?this.item.no_penjualan:this.item.no_pengiriman?this.item.no_pengiriman:this.item.no_produksi?this.item.no_produksi:this.item.username?this.item.username:this.item}}},Oa=s("img",{src:Ka,style:{width:"100px"},class:"animate_animated animate__bounceIn animate__delay-2s"},null,-1);function Na(t,e,a,i,o,u){const h=r("v-sheet"),b=r("v-card-title"),V=r("v-span"),w=r("v-divider"),j=r("v-div"),B=r("v-card"),y=r("v-dialog");return d(),p(y,{transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(B,{class:"rounded-xl"},{default:l(()=>[n(h,{class:"mx-auto mt-7"},{default:l(()=>[Oa]),_:1}),n(b,{class:"text-center mt-5 text-body-1"},{default:l(()=>[m("Apakah Anda Yakin ?")]),_:1}),n(V,{class:"text-center mb-7 text-caption"},{default:l(()=>[m("Anda Akan "+k(a.mess+" "+u.message),1)]),_:1}),n(w),n(j,{class:"d-flex mt-3 mb-5 me-5 ms-auto"},{default:l(()=>[_e(t.$slots,"cancelButton"),_e(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const be=J(Ma,[["render",Na]]);const Ja={components:{},props:["icon","btn_title","placeholder"],data(){return{variant:"text"}}};function Ra(t,e,a,i,o,u){const h=r("v-text-field");return d(),p(h,{density:"compact",variant:o.variant||"text",class:ve(["text-blue-custom text-caption rounded",{border:!o.variant,"bg-white rounded-xl":o.variant}]),"prepend-inner-icon":a.icon||"mdi-magnify",placeholder:a.placeholder,"single-line":"","hide-details":"",style:{height:"42px","min-width":"200px !important"}},null,8,["variant","class","prepend-inner-icon","placeholder"])}const F=J(Ja,[["render",Ra],["__scopeId","data-v-0bad7b75"]]),Ia={components:{textFieldForm:U},name:"currencyInput",props:{modelValue:Number,options:Object,label:String},setup(t){const{inputRef:e}=rt(t.options);return{inputRef:e}}};function Za(t,e,a,i,o,u){const h=r("text-field-form");return d(),p(h,{label:a.label,ref:"inputRef","model-value":a.modelValue},null,8,["label","model-value"])}const he=J(Ia,[["render",Za]]),Fa="/assets/sukses-70259593.gif",Ea="/assets/gagal-5f734029.jpg",Aa="/assets/warning-21a26b5d.png",qa={props:["sukses","message","status"],data(){return{}},mounted(){}},Ga=s("img",{src:Fa,style:{width:"100px"}},null,-1),za=s("img",{src:Ea,class:"animate__animated animate__bounceIn mt-3",style:{width:"90px"}},null,-1),Ya=s("img",{src:Aa,class:"animate__animated animate__bounceIn mt-3",style:{width:"90px"}},null,-1);function Wa(t,e,a,i,o,u){const h=r("v-if"),b=r("v-sheet"),V=r("v-span"),w=r("v-div"),j=r("v-card"),B=r("v-dialog");return d(),p(B,{"close-delay":1e3,transition:"dialog-bottom-transition","max-width":"400"},{default:l(()=>[n(j,{class:"rounded-xl pb-3",height:"220"},{default:l(()=>[n(b,{class:"mx-auto mt-3"},{default:l(()=>[a.sukses===!0?(d(),p(h,{key:0},{default:l(()=>[Ga]),_:1})):c("",!0),a.sukses===!1&&!a.status?(d(),p(h,{key:1},{default:l(()=>[za]),_:1})):c("",!0),a.status==="warn"?(d(),p(h,{key:2},{default:l(()=>[Ya]),_:1})):c("",!0)]),_:1}),a.sukses===!0?(d(),p(V,{key:0,class:"text-center text-button text-green"},{default:l(()=>[m("Berhasil!")]),_:1})):c("",!0),a.sukses===!1&&!a.status?(d(),p(V,{key:1,class:"text-center text-button text-red"},{default:l(()=>[m("Gagal!")]),_:1})):c("",!0),a.sukses===!0?(d(),p(V,{key:2,class:"text-center text-caption text-green-lighten-1"},{default:l(()=>[m(k(a.message),1)]),_:1})):c("",!0),a.sukses===!1&&!a.status?(d(),p(V,{key:3,class:"text-center text-caption text-red-lighten-1"},{default:l(()=>[m(k(a.message),1)]),_:1})):c("",!0),a.status==="warn"?(d(),p(V,{key:4,class:"text-center text-caption text-orange-darken-2 mt-5"},{default:l(()=>[m(k(a.message),1)]),_:1})):c("",!0),n(w,{class:"d-flex w-50 mx-auto justify-space-between mb-3"},{default:l(()=>[_e(t.$slots,"cancelButton"),_e(t.$slots,"yesButton")]),_:3})]),_:3})]),_:3})}const z=J(qa,[["render",Wa]]),Xa={components:{btnInfo:ie},props:["window","label","objectFilter","button","btn_title","cardTitle","rules","index"],data(){return{dialog:!1,searchModel:"",valert:null,status:"",message:"",search:"",pilih:"",more:0}},methods:{result(t){this.dialog=!1,this.$emit("pilihObjek",t)},lainnya(){let t=this.more+10;this.more=t},check(){this.objectFilter==""&&(this.valert=!0,this.message="Kode Konversi Belum Terdaftar",this.status="warn",this.dialog=!1,this.$emit("pilihObjek",!1,this.index))}},mounted(){}},ze=Object.assign(Xa,{__name:"dialogSearch",setup(t){return(e,a)=>{const i=r("v-btn"),o=r("v-card-title"),u=r("v-list-item"),h=r("v-list"),b=r("v-card"),V=r("v-dialog");return d(),P(M,null,[n(V,{modelValue:e.dialog,"onUpdate:modelValue":a[4]||(a[4]=w=>e.dialog=w),transition:"dialog-bottom-transition",width:"auto"},{activator:l(({props:w})=>[t.button?c("",!0):(d(),p(U,A({key:0},w,{label:t.label,modelValue:e.pilih,"onUpdate:modelValue":a[0]||(a[0]=j=>e.pilih=j),onClick:a[1]||(a[1]=j=>(e.more=15,e.check())),readonly:"",rules:t.rules}),null,16,["label","modelValue","rules"])),t.button?(d(),p(ie,A({key:1},w,{icon:"mdi-plus",btn_title:t.btn_title}),null,16,["btn_title"])):c("",!0)]),default:l(()=>[n(b,{class:"py-5 px-7 rounded-xl vh-100 mx-auto bg-light","min-width":"300",width:"400","max-width":"400"},{default:l(()=>[t.window<500?(d(),p(i,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[2]||(a[2]=w=>e.dialog=!1)})):c("",!0),n(o,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[m(k(t.cardTitle),1)]),_:1}),n(F,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=w=>e.search=w),label:"Search",class:"mb-4"},null,8,["modelValue"]),n(h,{class:"vh-100 bg-light"},{default:l(()=>[s("div",null,[(d(!0),P(M,null,N(g(f).filterObject(t.objectFilter,e.search),(w,j)=>(d(),p(u,{key:j,class:"text-caption",density:"compact",onClick:B=>(e.result(w),e.pilih=w.nama)},{default:l(()=>[m(k(w.nama),1)]),_:2},1032,["onClick"]))),128))])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[5]||(a[5]=w=>e.valert=w),status:e.status,message:e.message},null,8,["modelValue","status","message"])],64)}}}),Qa={components:{btnInfo:ie,BtnCancel:I,BtnOrange:Z,TextField:F,CurrencyInput:he,TextFieldForm:U,AlertVue:z,dialogSearch:ze},props:["hiddenbtn","btn","itemDetail","pemasukan","nokirim","belumkirim","kodegroup","belumkirim_detail","blmkirim","penjualan","pengeluaran","pengiriman","produksi","barang","tambah","inputbahan","pembeliandetl","getbarang","kurs","dialog_title","pjl_blmterkirm","window","group_detail","inptbarang","bahanbaku","getKonversi"],data(){return{search:"",dialog:null,valert:!1,konversi:null,status:"",more:100,split:0,moretext:"lihat lainnya",btnmore:!1,kodebahan:"",message:"",dialogchild:[],newbarang:this.barang,newproduksi:this.getbarang,groupbarang:"",bahan:this.inputbahan,dialItem:"",pjl:"",res:"",total:"",pemasukan_item:[],penjualan_detail:{jumlah:0,nilai:"",harga_jual:"",jumlah_konversi:0}}},setup(){const t={kode_barang:"",kode_konversi:"",nama_barang:"",nama_konversi:"",persentase:0,hs_code:"",jumlah:0,jumlah_konversi:0,jumlah_diterima:0,satuan:"",satuan_konversi:"",nilai:"",no_urut:"",status:"",harga_jual:""},e=dt({...t}),i=ut({kode_barang:{required:we},nama_barang:{required:we},hs_code:{required:we},jumlah:{required:we},jumlah_diterima:{required:we},satuan:{required:we},nilai:{required:we},no_urut:{required:we},harga_jual:{required:we}},e);function o(){i.value.$reset();for(const[u,h]of Object.entries(t))e[u]=h}return{state:e,clear:o,v$:i}},computed:{terjual(){return this.penjualan_detail.jumlah*this.penjualan_detail.harga_jual},filteredItems(){return!this.tambah&&!this.blmkirim?this.search!=""?this.searchBarang(this.barang):this.barang:this.blmkirim&&!this.tambah?this.search!=""?this.searchObj(this.pjl_blmterkirm):this.pjl_blmterkirm:this.produksi&&this.konversi?this.search!=""?this.searchBarang(this.getKonversi):this.getKonversi:this.search!=""?this.searchBarang(this.getbarang):this.getbarang}},methods:{lainnya(){let t=this.more+100;this.more=t},stok_detail(t){for(let e=0;e<this.group_detail.length;e++)if(this.group_detail[e].kode_barang==t)return this.group_detail[e].stok_akhir},searchBarang(t){return this.konversi?t.filter(e=>{let a=e.nama_konversi.toLowerCase().includes(this.search.toLowerCase()),i=e.kode_konversi.toLowerCase().includes(this.search.toLowerCase()),o=e.kode_barang.toLowerCase().includes(this.search.toLowerCase()),u=e.satuan_konversi.toLowerCase().includes(this.search.toLowerCase());return a||i||o||u}):t.filter(e=>{let a=e.kode_barang.toLowerCase().includes(this.search.toLowerCase()),i=e.nama_barang.toLowerCase().includes(this.search.toLowerCase());return a||i})},searchObj(t){return t.filter(e=>{let i=(e.no_dokumen+"").toLowerCase().includes(this.search.toLowerCase()),o=e.nama_barang.toLowerCase().includes(this.search.toLowerCase()),u=e.no_penjualan.toLowerCase().includes(this.search.toLowerCase()),b=(e.kode_group+"").toLowerCase().includes(this.search.toLowerCase()),w=(e.tipe_dokumen+"").toLowerCase().includes(this.search.toLowerCase()),j=e.kode_barang.toLowerCase().includes(this.search.toLowerCase());return i||o||u||b||w||j})},stok(t,e){for(let a=0;a<this.groupbarang.length;a++)if(this.groupbarang[a].kode_group==t&&this.groupbarang[a].kode_barang==e)return f.numb2(this.groupbarang[a].stok_akhir)},min(t,e){let a=t-e;return f.numb2(a)},async api(){return new Promise(t=>{setTimeout(()=>{t(Array.from({length:10},(e,a)=>a+this.filteredItems.value.at(-1)+1))},1e3)})},async load({done:t}){const e=await this.api();this.filteredItems.push(...e),t("ok")},barangKonversi(t,e){t?(this.state.kode_konversi=t.kode_konversi,this.state.nama_konversi=t.nama,this.state.satuan_konversi=t.satuan_konversi):setTimeout(()=>{this.dialogchild[e]=!1},1e3)},async pemasukanItem(t,e){if(this.state.hs_code=t.hs_code,this.state.satuan=t.satuan,this.pemasukan)if(this.check(t),this.res){this.pemasukan_item.push({no_pembelian:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.state.jumlah,jumlah_diterima:this.state.jumlah_diterima,satuan:this.state.satuan,nilai:this.state.nilai,persentase:this.state.persentase,no_urut:""});let a=[];for(let o=0;o<this.pemasukan_item.length;o++)a.push(this.pemasukan_item[o].nilai);let i=a.reduce((o,u)=>o+u);this.total=i*this.kurs,this.dialog=!1,this.dialogchild[e]=!1}else this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0;else if(this.produksi)if(this.check(t),this.inptbarang||this.penjualan_detail.jumlah<=this.stok_detail(t.kode_barang))if(this.res){for(let o=0;o<this.groupbarang.length;o++)this.groupbarang[o].kode_group==this.kodegroup&&this.groupbarang[o].kode_barang==t.kode_barang&&this.groupbarang[o].nilai_akhir/this.groupbarang[o].stok_akhir;this.kodebahan=t.kode_barang;let a="",i=0;if(this.konversi){let o=await this.hitungBerat(t),u=await D.getBarang({kode_barang:t.kode_barang});a=t.kode_konversi,i=o*this.penjualan_detail.jumlah_konversi,this.state.nama_barang=u[0].nama_barang,this.state.satuan=u[0].satuan}else a=this.state.kode_konversi,i=this.penjualan_detail.jumlah;this.pemasukan_item.push({no_produksi:"",kode_group:t.kode_group,kode_barang:t.kode_barang,kode_konversi:a,nama_barang:this.state.nama_barang,nama_konversi:this.state.nama_konversi,hs_code:this.state.hs_code,jumlah:i,jumlah_konversi:this.penjualan_detail.jumlah_konversi,satuan:this.state.satuan,satuan_konversi:t.satuan_konversi,no_urut:"",konversi:a!=""}),this.dialog=!1,this.dialogchild[e]=!1}else this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0;else this.dialogchild[e]=!0,this.status="warn",this.message="Jumlah melebihi stok",this.valert=!0;else if(this.pengeluaran)this.check(t),this.res?(this.pemasukan_item.push({no_penjualan:"",kode_barang:t.kode_barang,nama_barang:this.state.nama_barang,hs_code:this.state.hs_code,jumlah:this.penjualan_detail.jumlah,jumlah_terkirim:0,satuan:this.state.satuan,harga_jual:this.penjualan_detail.harga_jual,total_terjual:this.terjual,no_urut:""}),this.dialog=!1,this.dialogchild[e]=!1):(this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0);else if(this.pengiriman)if(this.check(t),this.penjualan_detail.jumlah<=t.jumlah-t.jumlah_terkirim)if(this.res){let a=0,i="";if(this.konversi){let o=await this.hitungBerat(t),u=await D.getBarang({kode_barang:t.kode_barang});a=o*this.penjualan_detail.jumlah_konversi,i=u[0].nama_barang,this.state.satuan=u[0].satuan}else a=this.penjualan_detail.jumlah,i=t.nama_barang;this.pemasukan_item.push({no_penjualan:t.no_penjualan,no_pengiriman:this.nokirim,kode_barang:t.kode_barang,nama_barang:i,kode_group:t.kode_group,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,hs_code:this.state.hs_code,jumlah:a,kode_konversi:this.state.kode_konversi,nama_konversi:this.state.nama_konversi,jumlah_konversi:this.penjualan_detail.jumlah_konversi,satuan_konversi:this.state.satuan_konversi,jumlah_terkirim:this.penjualan_detail.jumlah_terkirim,jumlah_blmterkirim:t.jumlah-t.jumlah_terkirim,satuan:this.state.satuan,no_urut:"",konversi:this.state.kode_konversi!=""}),this.dialog=!1,this.dialogchild[e]=!1}else this.dialogchild[e]=!1,this.status="warn",this.message="Barang sudah pernah diinput",this.valert=!0;else this.dialogchild[e]=!0,this.status="warn",this.message="Jumlah melebihi sisa penjualan",this.valert=!0;this.check(t),this.$emit("pemasukanitem",this.pemasukan_item,this.total),this.clear(),this.penjualan_detail={jumlah:"",nilai:"",harga_jual:"",jumlah_konversi:0,satuan_konversi:""}},check(t){if(!this.pengiriman&&!this.produksi){if(this.pemasukan_item=="")this.res=!0;else if(this.pemasukan_item!="")for(let e=0;e<this.pemasukan_item.length;e++)if(t.kode_barang==this.pemasukan_item[e].kode_barang){this.res=!1;break}else t.kode_barang!=this.pemasukan_item[e].kode_barang&&(this.res=!0)}else if(this.pengiriman){if(this.pemasukan_item=="")this.res=!0;else if(this.pemasukan_item!="")for(let e=0;e<this.pemasukan_item.length;e++)if(t.no_dokumen==this.pemasukan_item[e].no_dokumen){if(t.kode_group==this.pemasukan_item[e].kode_group){if(!this.konversi)if(t.kode_barang==this.pemasukan_item[e].kode_barang)if(this.pemasukan_item[e].kode_konversi==""){this.res=!1;break}else this.res=!0;else this.res=!0;if(this.konversi)if(this.state.kode_konversi==this.pemasukan_item[e].kode_konversi){this.res=!1;break}else this.res=!0;else this.res=!0}}else t.no_dokumen!=this.pemasukan_item[e].no_dokumen&&(this.res=!0)}else if(this.produksi&&!this.bahanbaku){if(this.pemasukan_item=="")this.res=!0;else if(this.pemasukan_item!="")for(let e=0;e<this.pemasukan_item.length;e++)if(t.kode_group==this.pemasukan_item[e].kode_group){if(!this.konversi)if(t.kode_barang==this.pemasukan_item[e].kode_barang)if(this.pemasukan_item[e].kode_konversi==""){this.res=!1;break}else this.res=!0;else this.res=!0;if(this.konversi)if(t.kode_konversi==this.pemasukan_item[e].kode_konversi){this.res=!1;break}else this.res=!0}else this.res=!0}},async hitungBerat(t){let e="";return this.kodegroup&&!this.bahanbaku?e={kode_konversi:t.kode_konversi,kode_group:this.kodegroup}:!this.kodegroup&&!this.bahanbaku&&(e={kode_konversi:this.state.kode_konversi,kode_group:t.kode_group}),await D.getBerat(e)},pro(t,e){this.bahanbaku?(this.kodebahan=t,this.$emit("pemasukanitem",t),this.dialog=!1):this.dialogchild[e]=!0},filter_konversi(t){let e=[],a=this.getKonversi;for(let i=0;i<a.length;i++)t==a[i].kode_barang&&e.push(a[i]);return e},valid(t){t=="group"?this.kodegroup!=""||this.pengiriman?(this.valert=!1,this.dialog=!0):(this.valert=!0,this.message="Kode Group Masih Kosong !",this.status="warn",this.dialog=!1):this.dialog=!0}},async mounted(){this.groupbarang=await D.getGroupBarang(),this.bahan}},en=s("br",null,null,-1),tn=s("br",null,null,-1),an=s("br",null,null,-1),nn={key:0,class:"d-flex justify-space-between"},ln=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Kode Konversi",-1),sn={key:1,class:"d-flex justify-space-between"},on=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah (KG)",-1),rn={key:2,class:"d-flex justify-space-between"},dn=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah (konversi)",-1),un={key:3,class:"d-flex justify-space-between"},mn=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Satuan konversi",-1),hn={key:4,class:"d-flex justify-space-between"},pn=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah (KG)",-1),gn={key:5,class:"d-flex justify-space-between"},cn=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah Diterima",-1),fn={key:6,class:"d-flex justify-space-between"},_n=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Nilai Total",-1),bn={key:7,class:"d-flex justify-space-between"},kn=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Harga",-1),vn={key:8,class:"d-flex justify-space-between"},wn=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Total Harga",-1);function yn(t,e,a,i,o,u){const h=r("btn-info"),b=r("text-field-form"),V=r("v-btn"),w=r("v-card-title"),j=r("text-field"),B=r("v-div"),y=r("v-span"),$=r("v-list-item"),H=r("v-spacer"),_=r("v-divider"),T=r("dialogSearch"),K=r("currency-input"),ue=r("btn-cancel"),re=r("btn-orange"),Y=r("v-card"),v=r("v-dialog"),S=r("v-list"),x=r("alertVue");return d(),P(M,null,[n(v,{modelValue:o.dialog,"onUpdate:modelValue":e[16]||(e[16]=L=>o.dialog=L),transition:"dialog-bottom-transition",width:"auto"},{activator:l(()=>[a.bahanbaku?c("",!0):(d(),p(h,{key:0,onClick:e[0]||(e[0]=L=>(o.more=100,o.konversi=!1,u.valid("group"))),btn_title:"Tambah Barang",class:"me-3"})),!a.bahanbaku&&a.produksi||a.pengiriman?(d(),p(h,{key:1,onClick:e[1]||(e[1]=L=>(o.more=100,o.konversi=!0,u.valid("group"))),btn_title:"Tambah Konversi"})):c("",!0),a.bahanbaku?(d(),p(b,{key:2,readonly:"",onClick:e[2]||(e[2]=L=>(o.more=15,u.valid("group"))),label:"Bahan Baku",modelValue:o.kodebahan,"onUpdate:modelValue":e[3]||(e[3]=L=>o.kodebahan=L)},null,8,["modelValue"])):c("",!0)]),default:l(()=>[n(Y,{class:"py-5 px-7 rounded-xl vh-100 mx-auto bg-light","min-width":"300",width:"30vw","max-width":"400"},{default:l(()=>[a.window<500?(d(),p(V,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:e[4]||(e[4]=L=>o.dialog=!1)})):c("",!0),n(w,{class:"text-center text-grey-darken-3 text-button font-weight-bold mb-3 px-12"},{default:l(()=>[m(k(a.dialog_title),1)]),_:1}),n(B,null,{default:l(()=>[n(j,{id:"input",modelValue:o.search,"onUpdate:modelValue":e[5]||(e[5]=L=>o.search=L),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(S,{class:"me-2 bg-light"},{default:l(()=>[(d(!0),P(M,null,N(u.filteredItems.slice(0,o.more),(L,ae)=>(d(),P("div",{key:L},[!a.blmkirim&&o.konversi?(d(),p($,{key:0,class:"text-caption",density:"compact",onClick:E=>{u.pro(L.kode_konversi,ae),i.state.nama_konversi=L.nama_konversi}},{default:l(()=>[n(B,{class:"d-flex justify-space-between text-caption"},{default:l(()=>[n(y,null,{default:l(()=>[m(k(L.nama_konversi),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])):c("",!0),!a.blmkirim&&!o.konversi?(d(),p($,{key:1,class:"text-caption",density:"compact",onClick:E=>{u.pro(L.kode_barang,ae),i.state.nama_barang=L.nama_barang}},{default:l(()=>[n(B,{class:"d-flex justify-space-between text-caption"},{default:l(()=>[n(y,null,{default:l(()=>[m(k(L.nama_barang),1)]),_:2},1024),a.inptbarang?c("",!0):(d(),p(y,{key:0},{default:l(()=>[m(k(u.stok_detail(L.kode_barang)),1)]),_:2},1024)),a.inptbarang?(d(),p(y,{key:1},{default:l(()=>[m(k(L.kode_barang),1)]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1032,["onClick"])):c("",!0),a.blmkirim?(d(),p($,{key:2,onClick:E=>o.dialogchild[ae]=!0,class:"text-caption",density:"compact"},{default:l(()=>[n(B,{class:"d-flex"},{default:l(()=>[n(B,null,{default:l(()=>[n(y,{class:"font-weight-medium"},{default:l(()=>[m(k(L.tipe_dokumen)+"-"+k(L.no_dokumen),1)]),_:2},1024),en,n(y,{class:"text-small"},{default:l(()=>[m(k(L.nama_barang)+" ("+k(L.kode_group)+") ",1),tn,m(" Jumlah belum terkirim: "+k(u.min(L.jumlah,L.jumlah_terkirim))+" ",1),an,m(" Stok barang: "+k(u.stok(L.kode_group,L.kode_barang)),1)]),_:2},1024)]),_:2},1024),n(H),n(y,{class:"font-weight-medium"},{default:l(()=>[m(k(L.no_penjualan),1)]),_:2},1024)]),_:2},1024),n(_)]),_:2},1032,["onClick"])):c("",!0),a.bahanbaku?c("",!0):(d(),p(v,{key:3,onUpdate:o.dialogchild,persistent:!0,transition:"dialog-bottom-transition",width:"auto",modelValue:o.dialogchild[ae],"onUpdate:modelValue":E=>o.dialogchild[ae]=E},{default:l(()=>[n(Y,{class:"py-5 mx-auto rounded-xl","min-width":"300","max-width":"375",width:"35vw"},{default:l(()=>[n(y,{class:"text-button text-grey-darken-3 text-center font-weight-bold"},{default:l(()=>[m(k(L.nama_barang||L.nama_konversi),1)]),_:2},1024),o.konversi?o.konversi?(d(),p(y,{key:1,class:"text-caption text-center"},{default:l(()=>[m(k(L.kode_konversi),1)]),_:2},1024)):c("",!0):(d(),p(y,{key:0,class:"text-caption text-center"},{default:l(()=>[m(k(L.kode_barang+"-"+L.hs_code),1)]),_:2},1024)),n(_,{class:"mt-3 mb-5"}),s("form",{onSubmit:e[14]||(e[14]=Se((...E)=>t.submit&&t.submit(...E),["prevent"])),ref_for:!0,ref:"form",class:"mx-auto w-75 pt-2 bg-transparent"},[a.pengiriman&&o.konversi?(d(),P("div",nn,[ln,n(T,{button:!1,label:"Kode Konversi",objectFilter:u.filter_konversi(L.kode_barang),index:ae,"card-title":"Barang Konversi",onPilihObjek:u.barangKonversi},null,8,["objectFilter","index","onPilihObjek"])])):c("",!0),!a.pemasukan&&!o.konversi?(d(),P("div",sn,[on,n(K,{modelValue:o.penjualan_detail.jumlah,"onUpdate:modelValue":e[6]||(e[6]=E=>o.penjualan_detail.jumlah=E),label:"Jumlah (KG)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])])):c("",!0),!a.pemasukan&&o.konversi?(d(),P("div",rn,[dn,n(K,{modelValue:o.penjualan_detail.jumlah_konversi,"onUpdate:modelValue":e[7]||(e[7]=E=>o.penjualan_detail.jumlah_konversi=E),label:"Jumlah (konversi)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])])):c("",!0),a.pengiriman&&o.konversi?(d(),P("div",un,[mn,n(b,{modelValue:i.state.satuan_konversi,"onUpdate:modelValue":e[8]||(e[8]=E=>i.state.satuan_konversi=E),label:"Satuan konversi",readonly:"","hide-details":!0},null,8,["modelValue"])])):c("",!0),a.pemasukan?(d(),P("div",hn,[pn,n(K,{modelValue:i.state.jumlah,"onUpdate:modelValue":e[9]||(e[9]=E=>i.state.jumlah=E),label:"Jumlah (KG)","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])])):c("",!0),a.pemasukan?(d(),P("div",gn,[cn,a.pemasukan?(d(),p(K,{key:0,modelValue:i.state.jumlah_diterima,"onUpdate:modelValue":e[10]||(e[10]=E=>i.state.jumlah_diterima=E),label:"Jumlah Diterima","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])):c("",!0)])):c("",!0),a.pemasukan?(d(),P("div",fn,[_n,n(K,{modelValue:i.state.nilai,"onUpdate:modelValue":e[11]||(e[11]=E=>i.state.nilai=E),label:"Nilai Total","hide-details":!0,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])])):c("",!0),!a.tambah&&a.pengeluaran?(d(),P("div",bn,[kn,n(K,{modelValue:o.penjualan_detail.harga_jual,"onUpdate:modelValue":e[12]||(e[12]=E=>o.penjualan_detail.harga_jual=E),label:"Harga","hide-details":!0,disabled:a.hiddenbtn,options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","disabled"])])):c("",!0),!a.tambah&&a.pengeluaran?(d(),P("div",vn,[wn,n(K,{modelValue:u.terjual,"onUpdate:modelValue":e[13]||(e[13]=E=>u.terjual=E),label:"Total Harga","hide-details":!0,readonly:"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue"])])):c("",!0)],544),n(_,{class:"mt-3"}),n(B,{class:"d-inline me-5 ms-auto mt-5"},{default:l(()=>[n(ue,{onClick:E=>o.dialogchild[ae]=!1,btn_title:"batal"},null,8,["onClick"]),n(re,{type:"submit",onClick:E=>u.pemasukanItem(L,ae),btn_title:"Simpan",class:"ms-2"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onUpdate","modelValue","onUpdate:modelValue"]))]))),128)),u.filteredItems.length>o.more?(d(),p(B,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(_,{length:"50"}),n(V,{onClick:e[15]||(e[15]=L=>u.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[m("lihat lainnya")]),_:1}),n(_,{length:"50"})]),_:1})):c("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(x,{modelValue:o.valert,"onUpdate:modelValue":e[17]||(e[17]=L=>o.valert=L),status:o.status,message:o.message},null,8,["modelValue","status","message"])],64)}const He=J(Qa,[["render",yn]]);const jn={components:{textFieldForm:U},props:["label","validated","rules","filter","tema","variant","month"],data(){return{data:""}},created(){if(this.default)return this.data=this.default},methods:{formatd(t){let a=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.month],i=t.year;return t==""?this.label:a+" "+i||""}},mounted(){this.def}},Vn=()=>({top:0,left:0}),R=Object.assign(jn,{__name:"datePicker",setup(t){return(e,a)=>(d(),p(g(ht),{dark:t.tema=="dark",class:"text-small","alt-position":Vn,clearable:!1,"format-locale":g(mt),"month-picker":t.month,required:"",locale:"id",cancelText:"batal",selectText:"pilih",format:"PP","calendar-cell-class-name":"dp-custom-cell","menu-class-name":"dp-custom-menu","enable-time-picker":!1,modelValue:e.data,"onUpdate:modelValue":a[0]||(a[0]=i=>e.data=i),style:{width:"fit-content"}},Xe({_:2},[t.filter?void 0:{name:"trigger",fn:l(()=>[t.month?c("",!0):(d(),p(U,{key:0,readonly:"",label:t.label,"model-value":g(f).formatDate(e.data),rules:t.rules,hideDetails:""},null,8,["label","model-value","rules"])),t.variant!=""&&t.month?(d(),p(F,{key:1,readonly:"",label:t.label,"model-value":e.formatd(e.data),variant:t.variant,rules:t.rules,hideDetails:""},null,8,["label","model-value","variant","rules"])):c("",!0)]),key:"0"}]),1032,["dark","format-locale","month-picker","modelValue"]))}}),Cn={props:["icon","items"],data(){return{}},methods:{clicked(t){this.$emit("result",t)}}};function Dn(t,e,a,i,o,u){const h=r("v-list-item"),b=r("v-list"),V=r("v-menu");return d(),p(V,{transition:"slide-y-transition"},{default:l(()=>[n(b,null,{default:l(()=>[(d(!0),P(M,null,N(a.items,(w,j)=>(d(),p(h,{key:j,value:w.key,onClick:B=>u.clicked(w.key),density:"compact",class:"text-caption","prepend-icon":w.icon},{default:l(()=>[m(k(w.title),1)]),_:2},1032,["value","onClick","prepend-icon"]))),128))]),_:1})]),_:1})}const $n=J(Cn,[["render",Dn]]);const Pn={components:{TextButton:Q,BtnInfo:ie},props:["label","validated","rules","master","btn_title"],data(){return{data:""}},computed:{},methods:{},mounted(){}},Te=Object.assign(Pn,{__name:"dialogVue",setup(t){return(e,a)=>{const i=r("v-divider"),o=r("v-card"),u=r("v-dialog");return d(),p(u,{transition:"dialog-bottom-transition"},{activator:l(({props:h})=>[t.master?c("",!0):(d(),p(Q,A({key:0},h,{icon:"mdi-dots-vertical"}),null,16)),t.master?(d(),p(ie,A({key:1},h,{icon:t.btn_title!=""?"":"mdi-plus",btn_title:t.btn_title!=""?t.btn_title:"Tambah Data"}),null,16,["icon","btn_title"])):c("",!0)]),default:l(()=>[n(o,{class:"bg-white mx-auto py-5 rounded-xl","min-width":"320","max-width":"375",width:"35vw"},{default:l(()=>[_e(e.$slots,"titlecard"),n(i),_e(e.$slots,"content")]),_:3})]),_:3})}}}),Bn=[{key:"no_pembelian",order:"desc"}],Ie=[{title:"Nomor Pemasukan",key:"no_pembelian"},{title:"Tanggal Masuk",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Mata Uang",key:"mata_uang"},{title:"Total Nilai",key:"_total_nilai"},{title:"Total Nilai(Rp)",key:"total_nilai"},{key:"actions"}],Tn=["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],Sn=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions"}],Un={no_pembelian:"",tgl_pembelian:"",tgl_input:f.day(),tgl_batal:"1999-12-31T17:00:00.000Z",kode_supplier:"",tipe_dokumen:"",no_dokumen:"",persentase:"",tgl_dokumen:"",no_invoice:"",no_bl:"",total_nilai:"",mata_uang:"",kurs:"",user_input:"",user_batal:"",status:"true"},xn=()=>{let t=[];for(let e=0;e<Ie.length;e++)t.push(Ie[e].title);return t},ye=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)e[o].no_pembelian==t&&(a=="nama"?i.push(e[o].nama_barang):i=e[o]);return a=="nama"?i.toString():i},Hn=(t,e)=>{for(let a=0;a<e.length;a++)if(e[a].kode_barang==t)return e[a].kategori_barang},Ze=(t,e,a,i)=>{let o=[];for(let u=0;u<t.length;u++)for(let h=0;h<e.length;h++)t[u].kode_supplier==e[h].kode_supplier&&o.push({no_pembelian:t[u].no_pembelian,tgl_pembelian:t[u].tgl_pembelian,tipe_dokumen:t[u].tipe_dokumen,no_dokumen:t[u].no_dokumen,tgl_dokumen:f.formatDate(t[u].tgl_dokumen),kode_supplier:e[h].nama,mata_uang:t[u].mata_uang,total_nilai:f.numb(t[u].total_nilai,2,!0),_total_nilai:f.numb(t[u].total_nilai/t[u].kurs,2,!0),no_invoice:t[u].no_invoice,no_bl:t[u].no_bl,kurs:t[u].kurs,persentase:t[u].persentase,user_input:t[u].user_input,user_batal:t[u].user_batal,tgl_input:t[u].tgl_input,tgl_batal:t[u].tgl_batal,status:t[u].status,nama_barang:ye(t[u].no_pembelian,a,"nama"),kode_barang:ye(t[u].no_pembelian,a).kode_barang,hs_code:ye(t[u].no_pembelian,a).hs_code,satuan:ye(t[u].no_pembelian,a).satuan,jumlah_diterima:f.numb(ye(t[u].no_pembelian,a).jumlah_diterima),jumlah:ye(t[u].no_pembelian,a).jumlah,nilai:ye(t[u].no_pembelian,a).nilai,kategori_barang:Hn(ye(t[u].no_pembelian,a).kode_barang,i)});return o},Ln=t=>{let e=[];for(let a=0;a<globalThis.pembeliandetl.length;a++)globalThis.pembeliandetl[a].no_pembelian==t&&e.push(globalThis.pembeliandetl[a]);return e},Kn=(t,e,a,i)=>{if(e=="nama"){for(let o=0;o<a.length;o++)if(a[o].kode_supplier==t)return a[o].nama}else if(e=="pembelian"){let o=[];for(let u=0;u<i.length;u++)i[u].no_pembelian==t&&o.push(i[u]);return o}else{if(e=="total")return f.numb(t);if(e=="kurs"){let o=t.kurs,u=t.total_nilai;return f.numb(u/o)}}},Mn=(t,e,a)=>{let i=[];for(let o=0;o<t.length;o++)i.push({no_pembelian:t[o].no_pembelian,tgl_pembelian:t[o].tgl_pembelian,tipe_dokumen:t[o].tipe_dokumen,no_dokumen:t[o].no_dokumen,kode_supplier:globalThis.dataTable(t[o].kode_supplier,"nama",e,a),kode_group:t[o].kode_group,kurs:t[o].kurs,mata_uang:t[o].mata_uang,total_nilai:globalThis.dataTable(t[o],"kurs"),rp:globalThis.dataTable(t[o].total_nilai,"total",e,a)});return i},On=(t,e,a,i,o)=>t.length===0?Ze(e,a,i,o):Ze(e,a,i,o).filter(u=>t.includes(u.tipe_dokumen)),Nn=t=>{let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},X={sortBy:Bn,headers:Ie,tipedokumen:Tn,headDetails:Sn,datainput:Un,datatable:Ze,headTitle:xn,pembelian:Ln,dataTable:Kn,printdata:Mn,pilihtipe:On,sum:Nn,detailpbl:ye};const Jn={key:0,class:"d-flex justify-space-between w-100 flex-wrap"},Rn={style:{width:"300px"}},In={class:"d-flex justify-space-between"},Zn=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Pemasukan",-1),Fn={class:"d-flex justify-space-between"},En=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Pemasukan",-1),An={class:"d-flex justify-space-between"},qn=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Nama Supplier",-1),Gn={style:{width:"300px"}},zn={class:"d-flex justify-space-between"},Yn=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tipe Dokumen",-1),Wn={class:"d-flex justify-space-between"},Xn=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Dokumen",-1),Qn={class:"d-flex justify-space-between"},el=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Dokumen",-1),tl={key:0,class:"d-flex justify-space-between"},al=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Persentase",-1),nl={style:{width:"300px"}},ll={class:"d-flex justify-space-between"},il=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Invoice",-1),sl={class:"d-flex justify-space-between"},ol=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Bl",-1),rl={class:"d-flex justify-space-between"},dl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Mata Uang",-1),ul={class:"d-flex justify-space-between"},ml=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Kurs",-1),hl={class:"d-flex justify-space-between w-100 flex-wrap"},pl={style:{width:"300px"}},gl={class:"d-flex justify-space-between"},cl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Pemasukan",-1),fl={class:"d-flex justify-space-between"},_l=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Pemasukan",-1),bl={class:"d-flex justify-space-between"},kl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Supplier",-1),vl={style:{width:"300px"}},wl={class:"d-flex justify-space-between"},yl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tipe Dokumen",-1),jl={class:"d-flex justify-space-between"},Vl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Dokumen",-1),Cl={class:"d-flex justify-space-between"},Dl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Dokumen",-1),$l={class:"d-flex justify-space-between"},Pl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Persentase",-1),Bl={style:{width:"300px"}},Tl={class:"d-flex justify-space-between"},Sl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Invoice",-1),Ul={class:"d-flex justify-space-between"},xl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Bl",-1),Hl={class:"d-flex justify-space-between"},Ll=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Mata Uang",-1),Kl={class:"d-flex justify-space-between"},Ml=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Kurs",-1),Ol=["pembelianbaru","pembeliandetl"],Nl={class:"d-flex"},Jl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Jumlah",-1),Rl={class:"d-flex"},Il=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Jumlah Diterima",-1),Zl={class:"d-flex"},Fl=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Total Nilai",-1),El={key:0,class:"d-flex me-5 ms-auto"},Al={class:"d-flex mb-0 mt-auto me-5 ms-auto"},ql={props:["tema","window","windowH","hapus","total_nilai","barang","pembelianbaru","laporan","namaPelanggan","total","groupbarang","batalbtn","penjualan","pemasukan","alamatBongkar","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category","view_persentase"],data(){return{dialog:!1,valid:!1,dial_alert:!1,detaildial:[],tipe_dokumen:[{title:"BC23",key:"BC23"},{title:"BC40",key:"BC40"},{title:"PPKEK dari LDP",key:"PPKEK-LDP"},{title:"PPKEK dari TDDP",key:"PPKEK-TLDDP"}],list:[{title:"Lihat Data",key:"lihat"},{title:"Batal Pemasukan",key:"batal"}],viewOnly:[{title:"Lihat Data",key:"lihat"}],item:"",searched:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",message:"",pembelian_input:[],inputdata:this.datainput,kurs:"",pemasukan_detail:"",pembelian_detail:[this.pembelian],validated:Boolean,required:[t=>t?!0:this.message="kolom tidak boleh kosong !"],max_10:[t=>{if(t>100||t<0)return this.message="nilai persentase harus 0 - 100"}]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="55vh":t="40vh":this.window<1500&&(this.windowH>800?t="55vh":t="50vh"):this.edit||(this.window>1500?this.windowH>800?t="40vh":t="23vh":this.window<1500&&(this.windowH>800?t="40vh":t="23vh")),t}},methods:{itemmasuk(t,e){this.inputdata.total_nilai=e,this.pembelian_input=t},menuAksi(t){t=="lihat"?this.dialog=!0:this.confirm()},confirm(){this.$emit("confirm",this.items,this.pembelian)},pilihObjek(t){this.inputdata.kode_supplier=t.kode_supplier,this.namasupplier=t.nama},pilihtipedokumen(t){return this.inputdata.tipe_dokumen=t},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].nilai);return a.reduce((i,o)=>i+o,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_pembelian:this.pembelian_input[a].no_pembelian,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_diterima:this.pembelian_input[a].jumlah_diterima,satuan:this.pembelian_input[a].satuan,nilai:this.pembelian_input[a].nilai,no_urut:a+1});this.$emit("inputhead",this.inputdata,e),this.dialog=!1}else this.dial_alert=!0}}},Ke=Object.assign(ql,{__name:"PemasukanDetail",setup(t){return(e,a)=>{const i=r("v-toolbar-title"),o=r("v-spacer"),u=r("v-toolbar"),h=r("v-form"),b=r("v-span"),V=r("v-card-title"),w=r("v-card-subtitle"),j=r("v-sheet"),B=r("v-divider"),y=r("v-container"),$=r("v-card"),H=r("v-dialog");return d(),p(H,{modelValue:e.dialog,"onUpdate:modelValue":a[14]||(a[14]=_=>e.dialog=_),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:_})=>[t.edit?c("",!0):(d(),p(ie,A({key:0},_,{icon:"mdi-plus",btn_title:"Tambah Baru"}),null,16)),t.edit?(d(),p(q,{key:1,submenu:!0,icon:"mdi-dots-vertical",items:t.hapus?e.list:e.viewOnly,onResult:e.menuAksi},null,8,["items","onResult"])):c("",!0)]),default:l(()=>[n($,null,{default:l(()=>[n(u,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Q,{icon:"mdi-close",onClick:a[0]||(a[0]=_=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1}),color:e.white},null,8,["color"]),n(i,{class:"text-button mt-1"},{default:l(()=>[m(k("DETAIL "+t.pageTitle),1)]),_:1}),n(o)]),_:1}),n(y,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(d(),P("div",Jn,[s("div",Rn,[s("div",In,[Zn,n(U,{label:"No Pemasukan","model-value":t.items.no_pembelian,readonly:""},null,8,["model-value"])]),s("div",Fn,[En,n(U,{label:"Tgl Pemasukan","model-value":g(f).formatDate(t.items.tgl_pembelian),readonly:""},null,8,["model-value"])]),s("div",An,[qn,n(U,{label:"Nama Supplier","model-value":t.items.kode_supplier,readonly:""},null,8,["model-value"])])]),s("div",Gn,[s("div",zn,[Yn,n(U,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"])]),s("div",Wn,[Xn,n(U,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"])]),s("div",Qn,[el,n(U,{label:"Tgl Dokumen","model-value":t.items.tgl_dokumen,readonly:""},null,8,["model-value"])]),t.view_persentase?(d(),P("div",tl,[al,n(U,{label:"Persentase",type:"number","model-value":t.items.persentase,readonly:""},null,8,["model-value"])])):c("",!0)]),s("div",nl,[s("div",ll,[il,n(U,{label:"No Invoice","model-value":t.items.no_invoice,readonly:""},null,8,["model-value"])]),s("div",sl,[ol,n(U,{label:"No BL","model-value":t.items.no_bl,readonly:""},null,8,["model-value"])]),s("div",rl,[dl,n(U,{label:"Mata Uang","model-value":t.items.mata_uang,readonly:""},null,8,["model-value"])]),s("div",ul,[ml,n(U,{type:"number",label:"Kurs","model-value":t.items.kurs,readonly:""},null,8,["model-value"])])])])):c("",!0),!t.edit&&g(X)?(d(),p(h,{key:1,onSubmit:a[11]||(a[11]=Se(()=>{},["prevent"])),ref:"form"},{default:l(()=>[s("div",hl,[s("div",pl,[s("div",gl,[cl,n(U,{label:"No Pemasukan",modelValue:e.inputdata.no_pembelian,"onUpdate:modelValue":a[1]||(a[1]=_=>e.inputdata.no_pembelian=_),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"])]),s("div",fl,[_l,n(R,{class:"",label:"Tgl Pemasukan",modelValue:e.inputdata.tgl_pembelian,"onUpdate:modelValue":a[2]||(a[2]=_=>e.inputdata.tgl_pembelian=_),"min-date":g(f).last_month(),"max-date":new Date,tema:t.tema,rules:e.required},null,8,["modelValue","min-date","max-date","tema","rules"])]),s("div",bl,[kl,t.edit?c("",!0):(d(),p(ze,{key:0,window:t.window,label:"Supplier",objectFilter:t.supplier,onPilihObjek:e.pilihObjek,cardTitle:"SUPPLIER","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"]))])]),s("div",vl,[s("div",wl,[yl,n(U,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[3]||(a[3]=_=>e.inputdata.tipe_dokumen=_),readonly:"",rules:e.required},null,8,["modelValue","rules"]),n($n,{activator:"#tipe",icon:"mdi-dots-vertical",items:e.tipe_dokumen,onResult:e.pilihtipedokumen},null,8,["items","onResult"])]),s("div",jl,[Vl,n(U,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[4]||(a[4]=_=>e.inputdata.no_dokumen=_),required:"",rules:e.required},null,8,["modelValue","rules"])]),s("div",Cl,[Dl,n(R,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[5]||(a[5]=_=>e.inputdata.tgl_dokumen=_),"min-date":g(f).last_month(),"max-date":new Date,rules:e.required,tema:t.tema},null,8,["modelValue","min-date","max-date","rules","tema"])]),s("div",$l,[Pl,n(U,{type:"number",label:"Persentase",modelValue:e.inputdata.persentase,"onUpdate:modelValue":a[6]||(a[6]=_=>e.inputdata.persentase=_),rules:e.max_10},null,8,["modelValue","rules"])])]),s("div",Bl,[s("div",Tl,[Sl,n(U,{label:"No Invoice",modelValue:e.inputdata.no_invoice,"onUpdate:modelValue":a[7]||(a[7]=_=>e.inputdata.no_invoice=_),rules:e.required},null,8,["modelValue","rules"])]),s("div",Ul,[xl,n(U,{label:"No BL",modelValue:e.inputdata.no_bl,"onUpdate:modelValue":a[8]||(a[8]=_=>e.inputdata.no_bl=_),rules:e.required},null,8,["modelValue","rules"])]),s("div",Hl,[Ll,n(U,{label:"Mata Uang",modelValue:e.inputdata.mata_uang,"onUpdate:modelValue":a[9]||(a[9]=_=>e.inputdata.mata_uang=_),rules:e.required},null,8,["modelValue","rules"])]),s("div",Kl,[Ml,n(U,{type:"number",label:"Kurs",modelValue:e.inputdata.kurs,"onUpdate:modelValue":a[10]||(a[10]=_=>e.inputdata.kurs=_),rules:e.required},null,8,["modelValue","rules"])])])])]),_:1},512)):c("",!0),t.edit?c("",!0):(d(),P("div",{key:2,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center my-2"},[n(He,{window:t.window,onReset:e.reset,inptbarang:!0,kurs:e.inputdata.kurs,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pemasukan:!0,dialog_title:"Data Barang",btn:t.btn,"max-width":"400"},null,8,["window","onReset","kurs","barang","itemDetail","onPemasukanitem","btn"])],8,Ol)),s("div",null,[n(g(pe),{headers:t.headDetails,items:t.edit?t.pembelian:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pt-1 border-sm rounded-lg my-3 h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(d(),p(b,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+k(g(f).numb(e.jumlahtotal(t.pembelian,"jumlah")))+" / Total nilai: "+k(g(f).numb(e.jumlahtotal(t.pembelian,"nilai"),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(d(),p(b,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+k(g(f).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total nilai: "+k(g(f).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.nilai":l(({item:_})=>[m(k(g(f).numb(_.raw.nilai,2,!0)),1)]),"item.jumlah":l(({item:_})=>[m(k(g(f).numb(_.raw.jumlah)),1)]),"item.jumlah_diterima":l(({item:_})=>[m(k(g(f).numb(_.raw.jumlah_diterima)),1)]),"item.actions":l(({item:_,index:T})=>[n(Te,{modelValue:e.detaildial[T],"onUpdate:modelValue":K=>e.detaildial[T]=K},{titlecard:l(()=>[n(V,{class:"text-center text-button font-weight-bold text-grey-darken-3"},{default:l(()=>[m(k(_.raw.nama_barang),1)]),_:2},1024),n(w,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(k(_.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n(j,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[s("div",Nl,[Jl,t.edit?(d(),p(U,{key:0,label:"Jumlah","model-value":g(f).numb(_.raw.jumlah),active:"true",readonly:"","hide-details":!0,class:"mb-3"},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(d(),p(he,{key:1,label:"Jumlah",modelValue:e.pembelian_input[T].jumlah,"onUpdate:modelValue":K=>e.pembelian_input[T].jumlah=K,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"]))]),s("div",Rl,[Il,t.edit?c("",!0):(d(),p(he,{key:0,label:"Jumlah diterima",modelValue:e.pembelian_input[T].jumlah_diterima,"onUpdate:modelValue":K=>e.pembelian_input[T].jumlah_diterima=K,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(d(),p(U,{key:1,label:"Jumlah diterima","model-value":g(f).numb(_.raw.jumlah_diterima),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])):c("",!0)]),s("div",Zl,[Fl,t.edit?c("",!0):(d(),p(he,{key:0,label:"Total nilai",modelValue:e.pembelian_input[T].nilai,"onUpdate:modelValue":K=>e.pembelian_input[T].nilai=K,"hide-details":"",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])),t.edit?(d(),p(U,{key:1,label:"Total nilai","model-value":t.items.total_nilai,readonly:!0,"hide-details":""},null,8,["model-value"])):c("",!0)])]),_:2},1024),n(B,{class:"mt-3 mb-5"}),t.edit?c("",!0):(d(),P("div",El,[n(I,{btn_title:"Hapus",onClick:K=>(e.deleteditem(_.raw),e.detaildial[T]=!1),class:"me-2"},{default:l(()=>[m("Hapus")]),_:2},1032,["onClick"]),n(Z,{btn_title:"Simpan",onClick:K=>e.detaildial[T]=!1},{default:l(()=>[m("Simpan")]),_:2},1032,["onClick"])]))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),s("div",Al,[t.edit?c("",!0):(d(),p(I,{key:0,class:"mb-3 me-2",btn_title:"Batal",onClick:a[12]||(a[12]=_=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1})})),t.edit?c("",!0):(d(),p(Z,{key:1,class:"mb-3",type:"submit",btn_title:"Simpan",onClick:e.validate},null,8,["onClick"]))])]),_:1})]),_:1}),n(z,{modelValue:e.dial_alert,"onUpdate:modelValue":a[13]||(a[13]=_=>e.dial_alert=_),message:e.message,status:"warn"},null,8,["modelValue","message"])]),_:1},8,["modelValue"])}}});const Gl={class:"w-100"},zl={class:"overflow-auto vh-30 w-100"},Yl={class:"d-flex ms-auto pb-3"},Wl={components:{textFieldForm:U,BtnOrange:Z},props:["editdata","tambahUser","userselect"],data(){return{confirmdialog:!1,edit:this.editdata,tambah:this.tambahUser,ds:{},open:[],databarang:[{title:"Data Barang",key:"data_barang"},{title:"Tambah Barang Baru",key:"tambah_barang"},{title:"Ubah Barang",key:"ubah_barang"},{title:"Hapus Barang",key:"hapus_barang"}]}},computed:{edituser(){let t=this.userselect,e="",a=[],i=[],o=[],u=[],h=[],b=[],V=[],w=[],j=[],B=[],y=[];for(let $=0;$<C.data_barang.length;$++)a.push({jenis_otoritas:C.data_barang[$],status:this.edit?C.routes(this.otority,C.data_barang[$]):!1});for(let $=0;$<C.barang_konversi.length;$++)i.push({jenis_otoritas:C.barang_konversi[$],status:this.edit?C.routes(this.otority,C.barang_konversi[$]):!1});for(let $=0;$<C.data_pelanggan.length;$++)o.push({jenis_otoritas:C.data_pelanggan[$],status:this.edit?C.routes(this.otority,C.data_pelanggan[$]):!1});for(let $=0;$<C.data_supplier.length;$++)u.push({jenis_otoritas:C.data_supplier[$],status:this.edit?C.routes(this.otority,C.data_supplier[$]):!1});for(let $=0;$<C.data_user.length;$++)h.push({jenis_otoritas:C.data_user[$],status:this.edit?C.routes(this.otority,C.data_user[$]):!1});for(let $=0;$<C.pembelian.length;$++)b.push({jenis_otoritas:C.pembelian[$],status:this.edit?C.routes(this.otority,C.pembelian[$]):!1});for(let $=0;$<C.produksi.length;$++)V.push({jenis_otoritas:C.produksi[$],status:this.edit?C.routes(this.otority,C.produksi[$]):!1});for(let $=0;$<C.penjualan.length;$++)w.push({jenis_otoritas:C.penjualan[$],status:this.edit?C.routes(this.otority,C.penjualan[$]):!1});for(let $=0;$<C.pengiriman.length;$++)j.push({jenis_otoritas:C.pengiriman[$],status:this.edit?C.routes(this.otority,C.pengiriman[$]):!1});for(let $=0;$<C.laporan.length;$++)B.push({jenis_otoritas:C.laporan[$],status:this.edit?C.routes(this.otority,C.laporan[$]):!1});for(let $=0;$<C.setelan.length;$++)y.push({jenis_otoritas:C.setelan[$],status:this.edit?C.routes(this.otority,C.setelan[$]):!1});return this.ds={username:t,password:e,data_barang:a,barang_konversi:i,data_pelanggan:o,data_supplier:u,data_user:h,pembelian:b,produksi:V,penjualan:w,pengiriman:j,laporan:B,setelan:y}}},methods:{async fetch(){this.otority=await D.getOtoritas(this.userselect)},submit(){return this.$emit("submitUser",this.ds)}},mounted(){this.fetch()}},Xl=Object.assign(Wl,{__name:"userDetail",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-icon"),h=r("v-avatar"),b=r("v-checkbox"),V=r("v-list-item"),w=r("v-list-group"),j=r("v-list"),B=r("v-spacer"),y=r("v-sheet"),$=r("v-card"),H=r("v-dialog");return d(),p(H,{modelValue:e.detail,"onUpdate:modelValue":a[25]||(a[25]=_=>e.detail=_),width:"400",transition:"dialog-bottom-transition"},{default:l(()=>[n($,{class:"rounded-xl pa-3"},{default:l(()=>[n(i,{class:"mx-auto text-button font-weight-bold text-orange"},{default:l(()=>[m("DETAIL USER")]),_:1}),n(o),n(y,{class:"d-flex flex-column align-center w-100 px-3 mt-2",height:"80vh"},{default:l(()=>[n(h,{class:"bg-blue-custom",size:"70"},{default:l(()=>[n(u,{size:"50"},{default:l(()=>[m("mdi-account")]),_:1})]),_:1}),s("div",Gl,[n(U,{label:"Username","model-value":t.userselect,modelValue:e.ds.username,"onUpdate:modelValue":a[0]||(a[0]=_=>e.ds.username=_),readonly:!!e.edit,disabled:!!e.edit,class:"w-75 my-3 mx-auto"},null,8,["model-value","modelValue","readonly","disabled"]),n(U,{label:"Password",modelValue:e.ds.password,"onUpdate:modelValue":a[1]||(a[1]=_=>e.ds.password=_),class:"w-75 mx-auto"},null,8,["modelValue"])]),n(i,{class:"text-grey mx-auto text-button"},{default:l(()=>[m("OTORITAS")]),_:1}),s("div",zl,[n(j,{opened:e.open[0],"onUpdate:opened":a[3]||(a[3]=_=>e.open[0]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Data Barang",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:e.edituser.data_barang[0].jenis_otoritas,"model-value":e.edituser.data_barang[0].status,modelValue:e.ds.data_barang[0].status,"onUpdate:modelValue":a[2]||(a[2]=T=>e.ds.data_barang[0].status=T),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.data_barang.slice(1,e.edituser.data_barang.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.data_barang[T+1].status,"onUpdate:modelValue":K=>e.ds.data_barang[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[0],"onUpdate:opened":a[5]||(a[5]=_=>e.open[0]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Barang Konversi",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:e.edituser.barang_konversi[0].jenis_otoritas,"model-value":e.edituser.barang_konversi[0].status,modelValue:e.ds.barang_konversi[0].status,"onUpdate:modelValue":a[4]||(a[4]=T=>e.ds.barang_konversi[0].status=T),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.barang_konversi.slice(1,e.edituser.barang_konversi.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.barang_konversi[T+1].status,"onUpdate:modelValue":K=>e.ds.barang_konversi[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[1],"onUpdate:opened":a[7]||(a[7]=_=>e.open[1]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Data Pelanggan",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:e.edituser.data_pelanggan[0].jenis_otoritas,"model-value":e.edituser.data_pelanggan[0].status,modelValue:e.ds.data_pelanggan[0].status,"onUpdate:modelValue":a[6]||(a[6]=T=>e.ds.data_pelanggan[0].status=T),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.data_pelanggan.slice(1,e.edituser.data_pelanggan.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.data_pelanggan[T+1].status,"onUpdate:modelValue":K=>e.ds.data_pelanggan[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[2],"onUpdate:opened":a[9]||(a[9]=_=>e.open[2]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Data Supplier",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:e.edituser.data_supplier[0].jenis_otoritas,"model-value":e.edituser.data_supplier[0].status,modelValue:e.ds.data_supplier[0].status,"onUpdate:modelValue":a[8]||(a[8]=T=>e.ds.data_supplier[0].status=T),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.data_supplier.slice(1,e.edituser.data_supplier.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.data_supplier[T+1].status,"onUpdate:modelValue":K=>e.ds.data_supplier[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[3],"onUpdate:opened":a[11]||(a[11]=_=>e.open[3]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Data User",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:e.edituser.data_user[0].jenis_otoritas,"model-value":e.edituser.data_user[0].status,modelValue:e.ds.data_user[0].status,"onUpdate:modelValue":a[10]||(a[10]=T=>e.ds.data_user[0].status=T),"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.data_user.slice(1,e.edituser.data_user.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.data_user[T+1].status,"onUpdate:modelValue":K=>e.ds.data_user[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[4],"onUpdate:opened":a[13]||(a[13]=_=>e.open[4]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Pembelian",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:"Pemasukan","model-value":e.edituser.pembelian[0].status,modelValue:e.ds.pembelian[0].status,"onUpdate:modelValue":a[12]||(a[12]=T=>e.ds.pembelian[0].status=T),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.pembelian.slice(1,e.edituser.pembelian.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.pembelian[T+1].status,"onUpdate:modelValue":K=>e.ds.pembelian[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[5],"onUpdate:opened":a[15]||(a[15]=_=>e.open[5]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Produksi",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:"Produksi","model-value":e.edituser.produksi[0].status,modelValue:e.ds.produksi[0].status,"onUpdate:modelValue":a[14]||(a[14]=T=>e.ds.produksi[0].status=T),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.produksi.slice(1,e.edituser.produksi.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.produksi[T+1].status,"onUpdate:modelValue":K=>e.ds.produksi[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[6],"onUpdate:opened":a[17]||(a[17]=_=>e.open[6]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Pengeluaran",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:"Pengeluaran","model-value":e.edituser.penjualan[0].status,modelValue:e.ds.penjualan[0].status,"onUpdate:modelValue":a[16]||(a[16]=T=>e.ds.penjualan[0].status=T),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.penjualan.slice(1,e.edituser.penjualan.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.penjualan[T+1].status,"onUpdate:modelValue":K=>e.ds.penjualan[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[7],"onUpdate:opened":a[19]||(a[19]=_=>e.open[7]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Pengiriman",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:"Pengiriman","model-value":e.edituser.pengiriman[0].status,modelValue:e.ds.pengiriman[0].status,"onUpdate:modelValue":a[18]||(a[18]=T=>e.ds.pengiriman[0].status=T),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.pengiriman.slice(1,e.edituser.pengiriman.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.pengiriman[T+1].status,"onUpdate:modelValue":K=>e.ds.pengiriman[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[8],"onUpdate:opened":a[21]||(a[21]=_=>e.open[8]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Laporan",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:"Laporan","model-value":e.edituser.laporan[0].status,modelValue:e.ds.laporan[0].status,"onUpdate:modelValue":a[20]||(a[20]=T=>e.ds.laporan[0].status=T),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.laporan.slice(1,e.edituser.laporan.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.laporan[T+1].status,"onUpdate:modelValue":K=>e.ds.laporan[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"]),n(j,{opened:e.open[9],"onUpdate:opened":a[23]||(a[23]=_=>e.open[9]=_),density:"compact",class:"w-100 pa-0"},{default:l(()=>[n(w,{value:"Setelan",class:"text-caption"},{activator:l(({props:_})=>[n(V,me(ge(_)),{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:"Pengaturan Umum","model-value":e.edituser.setelan[0].status,modelValue:e.ds.setelan[0].status,"onUpdate:modelValue":a[22]||(a[22]=T=>e.ds.setelan[0].status=T),"hide-details":"",density:"compact"},null,8,["model-value","modelValue"])]),_:2},1040)]),default:l(()=>[(d(!0),P(M,null,N(e.edituser.setelan.slice(1,e.edituser.setelan.length),(_,T)=>(d(),p(V,{key:T},{default:l(()=>[n(b,{color:"orange",class:"radio-small customdense",label:_.jenis_otoritas,"model-value":_.status,modelValue:e.ds.setelan[T+1].status,"onUpdate:modelValue":K=>e.ds.setelan[T+1].status=K,"hide-details":"",density:"compact"},null,8,["label","model-value","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})]),_:1},8,["opened"])]),n(B),s("div",Yl,[_e(e.$slots,"cancel",{},void 0,!0),n(Z,{onClick:a[24]||(a[24]=_=>e.submit()),btn_title:"Simpan"})])]),_:3})]),_:3})]),_:3},8,["modelValue"])}}}),Je=J(Xl,[["__scopeId","data-v-474e2cbe"]]);const Ql={components:{PemasukanDetail:Ke,dialogMaster:$e,LogBarang:et,dialogConfirm:be,btnCancel:I,menuList:q,BtnOrange:Z,UserDetail:Je},props:["userdetail","windowH","editdata","sortby","stok","otority","logbrg","user_otoritas","j_otoritas","stokbarang","update","hapus","groupbarang","laporanstok","masuk","supplier","pembeliandetl","view","disabled","keyform","headers","items","search","category","toolbar_title","form","noselect","ishidden","pageTitle","log","window"],data(){return{dialog:[],detail:[],paginate:"",sorting:this.sortby,totaldata:this.items.length,confirmdialog:[],list:[{title:"Edit Data",key:"edit",icon:"mdi-pencil"},{title:"Hapus Data",key:"hapus",icon:"mdi-delete"}],list2:[{title:"Lihat Data",key:"lihat"}]}},methods:{result(t,e){return t!="hapus"?this.dialog[e]=!0:this.confirmdialog[e]=!0},result2(t,e){return t!="hapus"?this.detail[e]=!0:this.confirmdialog[e]=!0},edit(t){return this.$emit("edit",t)},del(t,e){return this.confirmdialog[e]=!1,this.$emit("del",t)},confirm(t,e){this.$emit("confirm",t,e)},test(t){return alert(t)}},mounted(){}},ei=Object.assign(Ql,{__name:"TableVue",setup(t){return(e,a)=>{const i=r("v-data-table"),o=r("v-sheet");return d(),p(o,{height:t.window>776?"93%":"87%",class:"bg-white rounded-xl"},{default:l(()=>[n(i,{"sort-by":e.sorting,"onUpdate:sortBy":a[0]||(a[0]=u=>e.sorting=u),density:"compact","fixed-header":"",items:t.items,search:t.search,loading:e.loading,headers:t.headers,"items-per-page":e.totaldata,height:"100%",class:"text-caption h-100 rounded-xl bg-white pa-2"},Xe({bottom:l(()=>[]),_:2},[t.userdetail?{name:"item.actions",fn:l(({item:u,index:h})=>[n(q,{items:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result2,index:h},null,8,["items","onResult","index"]),n(Je,{modelValue:e.detail[h],"onUpdate:modelValue":b=>e.detail[h]=b,editdata:t.editdata,user_otoritas:t.user_otoritas,j_otoritas:t.j_otoritas,userselect:u.raw.username,otority:g(C).all(t.otority,u.raw.username),onSubmitUser:e.edit},{cancel:l(()=>[n(I,{onClick:b=>e.detail[h]=!1,btn_title:"Batal",class:"mx-2"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","editdata","user_otoritas","j_otoritas","userselect","otority","onSubmitUser"]),n(be,{modelValue:e.confirmdialog[h],"onUpdate:modelValue":b=>e.confirmdialog[h]=b,object:t.pageTitle,item:u.raw,mess:"Menghapus"},{yesButton:l(()=>[n(Z,{class:"ms-2",type:"submit",onClick:b=>e.del(u.raw.username,h),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(I,{onClick:b=>e.confirmdialog[h]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object","item"])]),key:"0"}:void 0,t.laporanstok?{name:"item.actions",fn:l(({item:u})=>[n(et,{headers:t.headers,logbrg:t.logbrg,barang:t.groupbarang,groupbarang:t.groupbarang,detail:g(fe).subDetail(t.stok,u.raw.kode_barang),kode_group:u.raw.kode_group,kode_barang:u.raw.kode_barang},null,8,["headers","logbrg","barang","groupbarang","detail","kode_group","kode_barang"])]),key:"1"}:void 0,t.laporanstok?{name:"item.stok_akhir",fn:l(({item:u})=>[m(k(g(f).numb(u.raw.stok_akhir,1,!0)),1)]),key:"2"}:void 0,t.log?{name:"item.tanggal",fn:l(({item:u})=>[m(k(g(f).formatDateTime(u.raw.tanggal)),1)]),key:"3"}:void 0,!t.laporanstok&&!t.masuk&&t.update||t.view?{name:"item.actions",fn:l(({item:u,index:h})=>[n(q,{items:t.view?e.list2:e.list,icon:"mdi-dots-vertical",submenu:!0,onResult:e.result,index:h},null,8,["items","onResult","index"]),n($e,{modelValue:e.dialog[h],"onUpdate:modelValue":b=>e.dialog[h]=b,view:t.view,editbtn:"true",ishidden:!0,keyform:t.keyform,intable:!0,edit:!0,disabled:t.disabled,noselect:t.noselect,form:u.raw,onEdit:e.edit,item:u.raw,screen:e.screen,headers:t.headers,items:u.raw,category:t.category,toolbar_title:t.toolbar_title,alpha:e.alpha},{cancel:l(()=>[n(I,{onClick:b=>e.dialog[h]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","view","keyform","disabled","noselect","form","onEdit","item","screen","headers","items","category","toolbar_title","alpha"]),n(be,{modelValue:e.confirmdialog[h],"onUpdate:modelValue":b=>e.confirmdialog[h]=b,object:t.pageTitle,item:u.raw,mess:"Menghapus"},{yesButton:l(()=>[n(Z,{class:"ms-2",type:"submit",onClick:b=>e.del(u.raw,h),btn_title:"Ya"},null,8,["onClick"])]),cancelButton:l(()=>[n(I,{onClick:b=>e.confirmdialog[h]=!1,btn_title:"Batal"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","object","item"])]),key:"4"}:void 0,t.masuk?{name:"item.tgl_pembelian",fn:l(({item:u})=>[m(k(g(f).formatDate(u.raw.tgl_pembelian)),1)]),key:"5"}:void 0,t.masuk?{name:"item.actions",fn:l(({item:u})=>[n(Ke,{hapus:t.hapus,window:t.window,windowH:t.windowH,batalbtn:"Pemasukan",onConfirm:e.confirm,supplier:t.supplier,namaSupplier:g(X).dataTable(u.raw.kode_supplier,"nama",t.supplier,t.pembeliandetl),pembelian:g(X).dataTable(u.raw.no_pembelian,"pembelian",t.supplier,t.pembeliandetl),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:g(X).headDetails,headers:g(X).headers,items:u.raw,search:t.search,category:g(X).tipedokumen,selectCategory:e.selectCategory,pageTitle:t.pageTitle},null,8,["hapus","window","windowH","onConfirm","supplier","namaSupplier","pembelian","itemDetail","datatext","btn","headDetails","headers","items","search","category","selectCategory","pageTitle"])]),key:"6"}:void 0]),1032,["sort-by","items","search","loading","headers","items-per-page"])]),_:1},8,["height"])}}}),se=J(ei,[["__scopeId","data-v-39c307b3"]]),ti={components:{},props:["btn_title","color"],data(){return{}}};function ai(t,e,a,i,o,u){const h=r("v-icon"),b=r("v-btn");return d(),p(b,{class:"",size:"small",variant:"text",icon:""},{default:l(()=>[n(h,{size:"20",color:"blue-custom"},{default:l(()=>[m("mdi-filter")]),_:1})]),_:1})}const oe=J(ti,[["render",ai]]),ni={components:{},props:["label"],data(){return{}},computed:{},methods:{},mounted(){}};function li(t,e,a,i,o,u){const h=r("v-checkbox");return d(),p(h,{label:a.label,color:"orange-lighten-1",class:"mt-n6","hide-details":""},null,8,["label"])}const ke=J(ni,[["render",li]]),ii={components:{BtnOrange:Z,BtnCancel:I},props:["icon"],data(){return{filter:!1}},methods:{filtered(){this.$emit("close",!1)},reset(){this.$emit("reset")},filterdata(){return this.$emit("filterdata"),this.filtered()}}},si={class:"d-flex align-center"};function oi(t,e,a,i,o,u){const h=r("v-span"),b=r("v-container"),V=r("v-sheet"),w=r("btn-cancel"),j=r("btn-orange"),B=r("v-div"),y=r("v-navigation-drawer");return d(),p(y,{class:"border-0 elevation-0 mt-5 rounded-left",width:"320",location:"right",temporary:""},{default:l(()=>[n(V,{class:"py-5 h-85 rounded-left"},{default:l(()=>[s("div",si,[n(h,{class:"text-button ms-4"},{default:l(()=>[m("Filter")]),_:1})]),n(b,{class:"py-3 px-4 h-100"},{default:l(()=>[_e(t.$slots,"default")]),_:3})]),_:3}),n(B,{class:"d-flex ms-5"},{default:l(()=>[n(w,{btn_title:"Reset",onClick:e[0]||(e[0]=$=>u.reset()),class:"mt-5 me-2"}),n(j,{btn_title:"Filter",onClick:e[1]||(e[1]=$=>u.filterdata()),class:"mt-5 me-2"})]),_:1})]),_:3})}const te=J(ii,[["render",oi]]),ri={props:["loading"],data(){}};function di(t,e,a,i,o,u){const h=r("v-progress-circular"),b=r("v-overlay");return d(),p(b,{"model-value":a.loading,class:"align-center justify-center",persistent:""},{default:l(()=>[n(h,{color:"white",indeterminate:"",size:"64"})]),_:1},8,["model-value"])}const G=J(ri,[["render",di]]),ui={class:"d-flex align-center w-100"},mi={class:"d-flex align-center justify-sm-end justify-start"},hi=Ne({components:{dialogMaster:$e,TableVue:se,btnFilter:oe,menuList:q,textField:F,checkBox:ke,filterDrawer:te,alertVue:z,circularLoader:G},name:"DataBarang",props:["cetak","tema","window"],data(){return{dialog:!1,valert:!1,status:null,loading:!0,authority:"",akses:"",message:"",search:"",filter:!1,pageTitle:"Data Barang",selectCategory:[],statusselect:!1,items:"",fresh:!1,tambah:{kategori_barang:"",kode_barang:"",nama_barang:"",hs_code:"",satuan:"",status:"true"},filtered:{kategori_barang:[]}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await D.getOtoritas(t),this.authority=C.otoritas(this.akses)),C.routes(this.akses,"Data Barang")){this.loading=!0;let e=await D.getBarang();this.items=ee.item(e),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=ee.headers,i=this.items;f.print(t,e,a,i)},submit(t){D.postBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editForm(t){D.putBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},del(t){D.deleteBarang(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.selectCategory=this.filtered.kategori_barang,this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[]},reset(){this.filtered.kategori_barang=[],this.selectCategory=[]}},mounted(){this.page(),this.fetchData(),this.cetak}}),pi=Object.assign(hi,{setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-responsive"),h=r("v-btn"),b=r("v-row"),V=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=w=>e.filter=w),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Kategori Barang")]),_:1}),n(o,{class:"mb-6"}),(d(!0),P(M,null,N(g(ee).category,(w,j)=>(d(),p(ke,{key:j,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[0]||(a[0]=B=>e.filtered.kategori_barang=B),label:w,value:w},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(V,{class:"pt-9 h-100"},{default:l(()=>[n(b,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(u,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[s("div",ui,[g(C).routes(e.authority,"Tambah Barang Baru")?(d(),p($e,{key:0,toolbar_title:"Tambah Data",keyform:g(ee).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submit,screen:400,headers:g(ee).headers,items:e.items,category:g(ee).category},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):c("",!0)])]),_:1}),n(u,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[s("div",mi,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=w=>e.search=w),placeholder:"Search",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{onClick:a[3]||(a[3]=w=>e.filter=!e.filter)}),n(h,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[4]||(a[4]=w=>e.fetchData())})])]),_:1})]),_:1}),n(se,{create:g(C).routes(e.authority,"Tambah Barang Baru"),update:g(C).routes(e.authority,"Ubah Barang"),hapus:g(C).routes(e.authority,"Hapus Barang"),window:e.window,keyform:g(ee).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",headers:g(ee).headers,items:g(ee).selected(e.selectCategory,e.items),search:e.search,category:g(ee).category,selectCategory:e.selectCategory,toolbar_title:"Edit Data",pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","pageTitle"])]),_:1}),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[5]||(a[5]=w=>e.valert=w),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),gi={class:"d-flex align-center w-100"},ci={class:"d-flex align-center justify-sm-end justify-start"},fi=Ne({components:{dialogMaster:$e,TableVue:se,btnFilter:oe,menuList:q,textField:F,filterDrawer:te,alertVue:z,circularLoader:G},name:"BarangKonversi",props:["cetak","tema","window"],data(){return{dialog:!1,valert:!1,status:null,loading:!0,authority:"",akses:"",message:"",search:"",filter:!1,pageTitle:"barang konversi",pilihKodeBarang:[],statusselect:!1,items:"",fresh:!1,kodebarang:"",headers:[{title:"Kode Barang",key:"kode_barang"},{title:"Kode Konversi",key:"kode_konversi"},{title:"Nama Konversi",key:"nama_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"Berat",key:"berat"},{key:"actions",sortable:!1}],keyform:["kode_barang","kode_konversi","nama_konversi","satuan_konversi","berat"],tambah:{kode_barang:"",kode_konversi:"",nama_konversi:"",satuan_konversi:"",berat:""},filtered:{kode_barang:[]}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await D.getOtoritas(t),this.authority=C.otoritas(this.akses)),C.routes(this.akses,"Barang Konversi")){this.loading=!0,this.items=await D.getKonversi();let e=await D.getBarang();this.kodebarang=ee.kodebarang(e),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.items;f.print(t,e,a,i)},submit(t){D.postKonversi(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editForm(t){D.putKonversi(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},del(t){D.deleteKonversi(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},page(){return this.$emit("page",this.pageTitle)},filterdata(){this.pilihKodeBarang=this.filtered.kode_barang,this.pilihKodeBarang?this.pilihKodeBarang==[]&&(this.pilihKodeBarang=[]):this.pilihKodeBarang=[]},reset(){this.filtered.kode_barang=[],this.pilihKodeBarang=[]}},mounted(){this.page(),this.fetchData(),this.cetak}}),_i=Object.assign(fi,{setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-combobox"),h=r("v-responsive"),b=r("v-btn"),V=r("v-row"),w=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=j=>e.filter=j),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Kode Barang")]),_:1}),n(o,{class:""}),n(u,{items:e.kodebarang,modelValue:e.filtered.kode_barang,"onUpdate:modelValue":a[0]||(a[0]=j=>e.filtered.kode_barang=j),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(w,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(h,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[s("div",gi,[g(C).routes(e.authority,"Tambah Barang Konversi")?(d(),p($e,{key:0,toolbar_title:"Tambah Barang Konversi",keyform:e.keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submit,screen:400,headers:e.headers,items:e.items,category:e.kodebarang},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):c("",!0)])]),_:1}),n(h,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[s("div",ci,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[2]||(a[2]=j=>e.search=j),placeholder:"Search",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{onClick:a[3]||(a[3]=j=>e.filter=!e.filter)}),n(b,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[4]||(a[4]=j=>e.fetchData())})])]),_:1})]),_:1}),n(se,{create:g(C).routes(e.authority,"Tambah Barang Konversi"),update:g(C).routes(e.authority,"Ubah Barang Konversi"),hapus:g(C).routes(e.authority,"Hapus Barang Konversi"),window:e.window,keyform:e.keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,id:"tbl_exporttable_to_xls",headers:e.headers,items:g(ee).konversi(e.items,e.pilihKodeBarang),search:e.search,category:e.kodebarang,selectCategory:e.pilihKodeBarang,toolbar_title:"Edit Data",pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","selectCategory","pageTitle"])]),_:1}),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[5]||(a[5]=j=>e.valert=j),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),bi=[{title:"Nomor Produksi",key:"no_produksi"},{title:"Tgl Produksi",key:"tgl_produksi"},{title:"Kode Group",key:"kode_group"},{title:"Bahan Baku",key:"bahan_baku"},{title:"Jumlah Bahan Baku",key:"jumlah"},{title:"Barang Jadi",key:"barang_jadi"},{title:"Jumlah Barang Jadi",key:"jml_barang_jadi"},{title:"",key:"actions",sortable:!1}],ki=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"Nama Konversi",key:"nama_konversi"},{title:"Kode Konversi",key:"kode_konversi"},{title:"Jumlah Konversi",key:"jumlah_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"",key:"actions",sortable:!1}],vi={no_produksi:"",kode_group:"",tgl_produksi:"",tgl_input:f.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_input:"admin",user_batal:"",status:"true"},Fe=(t,e)=>{let a=[];for(let o=0;o<e.length;o++)t==e[o].no_produksi&&a.push(e[o].nama_barang);return[...new Set(a.map(JSON.stringify))].map(JSON.parse).toString()},Ee=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)t==e[i].no_produksi&&a.push(e[i].jumlah);return a.reduce((i,o)=>i+o,0)},wi=(t,e,a)=>{let i=[];for(let o=0;o<t.length;o++)for(let u=0;u<e.length;u++)for(let h=0;h<a.length;h++)e[u].no_produksi==t[o].no_produksi&&a[h].no_produksi==t[o].no_produksi&&i.push({no_produksi:t[o].no_produksi,tgl_produksi:t[o].tgl_produksi,tgl_input:t[o].tgl_input,kode_group:t[o].kode_group,bahan_baku:Fe(t[o].no_produksi,e),jumlah:Ee(t[o].no_produksi,e),barang_jadi:Fe(t[o].no_produksi,a),jml_barang_jadi:Ee(t[o].no_produksi,a)});return i},yi=t=>t.filter((a,i)=>i===t.findIndex(o=>a.no_produksi===o.no_produksi)),ji=(t,e)=>{for(let a=0;a<e.length;a++)if(e[a].no_produksi==t)return{no_produksi:e[a].no_produksi,no_urut:1,kode_barang:e[a].kode_barang,nama_barang:e[a].nama_barang,hs_code:e[a].hs_code,jumlah:e[a].jumlah,satuan:e[a].satuan,nilai:e[a].nilai}},Vi=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)e[i].no_produksi==t&&a.push({no_produksi:e[i].no_produksi,no_urut:1,kode_barang:e[i].kode_barang,kode_konversi:e[i].kode_konversi,nama_konversi:e[i].nama_konversi,satuan_konversi:e[i].satuan_konversi,jumlah_konversi:e[i].jumlah_konversi,nama_barang:e[i].nama_barang,jumlah:e[i].jumlah,hs_code:e[i].hs_code,satuan:e[i].satuan,nilai:e[i].nilai});return a},ce={headers:bi,headItem:ki,input:vi,items:wi,bahan:ji,barang:Vi,noDuplicate:yi,detail_items:Fe,sum:Ee},Ci={components:{VDataTable:pe,DatePicker:R,TextFieldForm:U,CurrencyInput:he,BtnInfo:ie,BtnCancel:I,BtnOrange:Z,TextButton:Q,DialogVue:Te},props:["window","windowH","tema","headers","headItem","edit","hapus","getbarang","getKonversi","detailbahan","groupbarang","detailbarang","select_kode","item"],data(){return{dialog:!1,dialog2:!1,dialogBahan:!1,dialogbhn:[],dialogbrg:[],dialog5:!1,valert:!1,dialInput:!1,more:0,status:null,message:"",searched:"",inputbahan:"",inputbarang:"",masuk:"",inputproduksi:ce.input,btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="55vh":this.window<1500&&(this.windowH>800?t="60vh":t="55vh"):this.edit||(this.window>1500?this.windowH>800?t="55vh":t="50vh":this.window<1500&&(this.windowH>800?t="50vh":this.windowH<700?t="40vh":t="50vh")),t},filterkodegroup(){let t=[];if(this.edit)return null;for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return f.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))},group_detail(){if(this.edit)return null;{let t=[];for(let e=0;e<this.filterkodegroup.length;e++)for(let a=0;a<this.groupbarang.length;a++)this.filterkodegroup[e]==this.groupbarang[a].kode_group&&t.push(this.groupbarang[a]);return t}}},methods:{lainnya(){let t=this.more+10;this.more=t},bahanmasuk(t){this.inputbahan=t,this.dialogBahan=!1},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){if(this.inputproduksi.kode_group==""&&(this.inputproduksi.kode_group=t),this.inputproduksi.kode_group!=""){this.inputbahan="";for(let e=0;e<this.inputbarang.length;e++)this.inputbarang.splice(0,this.inputbarang.length)}this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},deleteditem(t,e){let a=[];e=="bahan"&&(a=this.inputbahan),e=="barang"&&(a=this.inputbarang);for(let i=0;i<a.length;i++)t==a[i]&&a.splice(i,1)},jumlahtotal(t,e){let a=[];if(e=="konversi"){for(let i=0;i<t.length;i++)a.push(t[i].jumlah_konversi);return a.reduce((i,o)=>i+o,0)}else{for(let i=0;i<t.length;i++)a.push(t[i].jumlah);return a.reduce((i,o)=>i+o,0)}},confirm(){this.$emit("confirm",this.item,this.detailbahan,this.detailbarang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=this.inputbahan,a=[];for(let i=0;i<this.inputbarang.length;i++)a.push({kode_barang:this.inputbarang[i].kode_barang,kode_konversi:this.inputbarang[i].kode_konversi,jumlah:this.inputbarang[i].jumlah,jumlah_konversi:this.inputbarang[i].jumlah_konversi});return this.$emit("inputhead",this.inputproduksi,e,a)}}},mounted(){}},Di=Object.assign(Ci,{__name:"testPage",setup(t){return(e,a)=>{const i=r("v-list-item"),o=r("v-list"),u=r("v-menu"),h=r("v-toolbar-title"),b=r("v-spacer"),V=r("v-toolbar"),w=r("v-row"),j=r("v-div"),B=r("v-divider"),y=r("v-form"),$=r("v-span"),H=r("v-card-title"),_=r("v-card-subtitle"),T=r("v-sheet"),K=r("v-container"),ue=r("v-responsive"),re=r("v-card"),Y=r("v-btn"),v=r("text-field"),S=r("v-dialog");return d(),p(S,{modelValue:e.dialog,"onUpdate:modelValue":a[15]||(a[15]=x=>e.dialog=x),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:x})=>[t.edit?c("",!0):(d(),p(ie,A({key:0,btn_title:"Tambah Baru"},x,{icon:"mdi-plus"}),null,16)),n(u,null,{activator:l(({props:L})=>[t.edit?(d(),p(Q,A({key:0,id:"menu-actions"},L,{icon:"mdi-dots-vertical"}),null,16)):c("",!0)]),default:l(()=>[n(o,null,{default:l(()=>[n(i,A({class:"text-caption",density:"compact"},x),{default:l(()=>[m("Lihat Data")]),_:2},1040),t.hapus?(d(),p(i,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=L=>e.confirm())},{default:l(()=>[m("Batal Produksi")]),_:1})):c("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(re,null,{default:l(()=>[n(V,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Q,{icon:"mdi-close",color:"white",onClick:a[1]||(a[1]=x=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]})}),n(h,{class:"text-button"},{default:l(()=>[m("DETAIL PRODUKSI")]),_:1}),n(b)]),_:1}),n(K,{class:"mt-5"},{default:l(()=>[n(y,{onSubmit:a[8]||(a[8]=Se(()=>{},["prevent"])),ref:"form"},{default:l(()=>[n(j,{class:"w-100"},{default:l(()=>[n(j,{class:"d-flex justify-space-between"},{default:l(()=>[n(w,{"no-gutters":""},{default:l(()=>[t.edit?(d(),p(U,{key:0,"model-value":t.item.no_produksi,label:"No Produksi",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(d(),p(U,{key:1,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":a[2]||(a[2]=x=>e.inputproduksi.no_produksi=x)},null,8,["modelValue"]))]),_:1}),n(w,{"no-gutters":"",class:"mx-3"},{default:l(()=>[t.edit?c("",!0):(d(),p(R,{key:0,"max-date":new Date,label:"Tgl Produksi",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":a[3]||(a[3]=x=>e.inputproduksi.tgl_produksi=x),tema:t.tema,rules:e.required},null,8,["max-date","modelValue","tema","rules"])),t.edit?(d(),p(U,{key:1,label:"Tgl Produksi",readonly:!0,rules:e.required,"model-value":g(f).formatDate(t.item.tgl_produksi)},null,8,["rules","model-value"])):c("",!0)]),_:1}),n(w,{"no-gutters":""},{default:l(()=>[t.edit?(d(),p(U,{key:0,label:"Kode Group","model-value":t.item.kode_group,readonly:"",rules:e.required},null,8,["model-value","rules"])):c("",!0),t.edit?c("",!0):(d(),p(U,{key:1,label:"Kode Group",readonly:"",onClick:a[4]||(a[4]=x=>(e.dialog5=!0,e.more=15)),modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":a[5]||(a[5]=x=>e.inputproduksi.kode_group=x),rules:e.required},null,8,["modelValue","rules"]))]),_:1})]),_:1}),n(B,{class:"mb-3"}),n(j,{class:"d-flex justify-space-between"},{default:l(()=>[n(w,{"no-gutters":""},{default:l(()=>[t.edit?c("",!0):(d(),p(U,{key:0,readonly:"",onClick:a[6]||(a[6]=x=>e.dialogBahan=!0),label:"Bahan Baku","model-value":e.inputbahan},null,8,["model-value"])),n(He,{modelValue:e.dialogBahan,"onUpdate:modelValue":a[7]||(a[7]=x=>e.dialogBahan=x),window:t.window,dialog_title:"stok barang",group_detail:e.group_detail,produksi:!0,btn:e.btn[0],width:"400",barang:t.detailbahan,tambah:!0,bahanbaku:!0,getbarang:t.select_kode,kodegroup:e.inputproduksi.kode_group,onPemasukanitem:e.bahanmasuk},null,8,["modelValue","window","group_detail","btn","barang","getbarang","kodegroup","onPemasukanitem"]),t.edit?(d(),p(U,{key:1,label:"Bahan Baku",readonly:"","model-value":t.detailbahan.kode_barang+"-"+t.detailbahan.nama_barang},null,8,["model-value"])):c("",!0)]),_:1}),t.edit?(d(),p(w,{key:0,"no-gutters":"",class:"mx-3"},{default:l(()=>[n(U,{label:"Jumlah",readonly:"","model-value":t.detailbahan.jumlah},null,8,["model-value"])]),_:1})):c("",!0),t.edit?(d(),p(w,{key:1,"no-gutters":""},{default:l(()=>[n(U,{label:"Satuan",readonly:"","model-value":t.detailbahan.satuan},null,8,["model-value"])]),_:1})):c("",!0)]),_:1})]),_:1})]),_:1},512),n(w,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"mx-sm-0 mx-3","min-width":"400"},{default:l(()=>[n(ue,{class:"mt-md-0 mt-1 text-sm-left text-center",width:"400"},{default:l(()=>[n(Te,{master:!0,btn_title:"Tambah Barang"},{titlecard:l(()=>[n($,{class:"text-center text-button text-orange"},{default:l(()=>[m("Pilih Mode")]),_:1})]),content:l(()=>[n(o,{class:"text-caption mx-auto"},{default:l(()=>[n(i,null,{default:l(()=>[m("Tambah Barang (Tonase)")]),_:1}),n(i,null,{default:l(()=>[m("Tambah Barang (Konversi)")]),_:1})]),_:1})]),_:1}),t.edit?(d(),p(w,{key:0,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[m("detail barang")]),_:1})):c("",!0),n(K,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(g(pe),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption he",height:e.heightSizing},{bottom:l(()=>[t.edit?(d(),p($,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah : "+k(g(f).numb(e.jumlahtotal(t.detailbarang))),1)]),_:1})):c("",!0),t.edit?c("",!0):(d(),p($,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah Konversi : "+k(g(f).numb(e.jumlahtotal(e.inputbarang,"konversi"))),1)]),_:1})),t.edit?c("",!0):(d(),p($,{key:2,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah : "+k(g(f).numb(e.jumlahtotal(e.inputbarang))),1)]),_:1}))]),"item.jumlah":l(({item:x})=>[m(k(g(f).numb(x.raw.jumlah)),1)]),"item.actions":l(({item:x,index:L})=>[n(Te,{onUpdate:e.dialogbrg,persistent:!t.edit,modelValue:e.dialogbrg[L],"onUpdate:modelValue":ae=>e.dialogbrg[L]=ae},{titlecard:l(()=>[n(H,{class:"text-center text-orange text-button font-weight-bold"},{default:l(()=>[m(k(x.raw.nama_barang),1)]),_:2},1024),n(_,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(k(x.raw.kode_barang),1)]),_:2},1024)]),content:l(()=>[n(T,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(d(),p(U,{key:0,"model-value":g(f).numb(x.raw.jumlah),label:"Jumlah",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(d(),p(he,{key:1,modelValue:x.raw.jumlah,"onUpdate:modelValue":ae=>x.raw.jumlah=ae,label:"Jumlah",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"]))]),_:2},1024),n(B,{class:"mt-3 mb-5"}),t.edit?c("",!0):(d(),p(j,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(I,{btn_title:"Hapus",onClick:ae=>(e.deleteditem(x.raw,"barang"),e.dialogbrg[L]=!1),class:"me-2"},null,8,["onClick"]),n(Z,{btn_title:"Simpan",type:"submit",onClick:ae=>e.dialogbrg[L]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","persistent","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1})]),_:1}),n(w,{"no-gutters":"",class:"float-end mt-3"},{default:l(()=>[t.edit?c("",!0):(d(),p(I,{key:0,onClick:a[9]||(a[9]=x=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]}),btn_title:"Batal"})),t.edit?c("",!0):(d(),p(Z,{key:1,onClick:e.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"]))]),_:1})]),_:1})]),_:1}),n(S,{modelValue:e.dialog5,"onUpdate:modelValue":a[13]||(a[13]=x=>e.dialog5=x),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(re,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(d(),p(Y,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[10]||(a[10]=x=>e.dialog5=!1)})):c("",!0),n(H,{class:"text-center text-orange mb-3 text-button font-weight-bold"},{default:l(()=>[m("KODE GROUP")]),_:1}),n(j,null,{default:l(()=>[n(v,{modelValue:e.searched,"onUpdate:modelValue":a[11]||(a[11]=x=>e.searched=x),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(o,null,{default:l(()=>[(d(!0),P(M,null,N(e.filterkodegroup.slice(0,e.more),(x,L)=>(d(),p(j,{key:L},{default:l(()=>[n(i,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:ae=>(e.input_kodegroup(x),e.dialog5=!1)},{default:l(()=>[n($,{class:"text-caption"},{default:l(()=>[m(k(x),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),e.filterkodegroup.length>e.more?(d(),p(j,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(B,{length:"50"}),n(Y,{onClick:a[12]||(a[12]=x=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[m("lihat lainnya")]),_:1}),n(B,{length:"50"})]),_:1})):c("",!0)]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[14]||(a[14]=x=>e.valert=x),sukses:e.status,message:e.message,status:e.status},null,8,["modelValue","sukses","message","status"])]),_:1},8,["modelValue"])}}}),$i="/assets/logo_text-5a0d98cf.png";const Pi="inventori",Bi="0.0.0",Ti={dev:"vite",build:"vite build",preview:"vite preview --port 8080",lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs --fix --ignore-path .gitignore",format:"prettier --write src/",start:"json-server --watch fake-server/inventori.json","start-auth":"node src/modules/server.js",deploy:"vite build && gh-pages -d dist"},Si={"@capacitor/android":"^5.5.0","@capacitor/cli":"^5.5.0","@capacitor/core":"^5.5.0","@quasar/extras":"^1.16.3","@vitejs/plugin-vue":"^4.2.1","@vuelidate/core":"^2.0.2","@vuelidate/validators":"^2.0.2","@vuepic/vue-datepicker":"^5.0.1","animate.css":"^4.1.1",apexcharts:"^3.43.0",axios:"^1.3.6","body-parser":"^1.20.2",cors:"^2.8.5",dotenv:"^16.0.3","export-xlsx":"^0.1.4",express:"^4.18.2","file-saver":"^2.0.5",install:"^0.13.0","json-server":"^0.17.3",jsonwebtoken:"^9.0.0",jspdf:"^2.5.1","jspdf-autotable":"^3.5.29","jwt-decode":"^3.1.2",qs:"^6.11.2",quasar:"^2.11.10",sass:"^1.62.1",scss:"^0.2.4","v-data-table":"^2.1.0","vee-validate":"^4.8.6","vite-plugin-vuetify":"^1.0.2",vue:"^3.2.47","vue-currency-input":"^3.0.5","vue-router":"^4.1.6","vue-sweetalert":"^0.1.18","vue3-apexcharts":"^1.4.4",vuetify:"^3.1.13",vuex:"^4.1.0","vuex-persistedstate":"^4.1.0",webfontloader:"^1.6.28",yup:"^1.1.1"},Ui={"@mdi/font":"^7.2.96","@rushstack/eslint-patch":"^1.2.0","@vitejs/plugin-vue-jsx":"^3.0.0","@vue/eslint-config-prettier":"^7.1.0",eslint:"^8.34.0","eslint-plugin-vue":"^9.9.0",prettier:"^2.8.4",vite:"^4.3.3"},xi={name:Pi,version:Bi,private:!0,scripts:Ti,dependencies:Si,devDependencies:Ui};const Pe=t=>(Ve("data-v-27c4850e"),t=t(),Ce(),t),Hi={class:"w-100 h-100 overflow-hidden"},Li=Pe(()=>s("div",{class:"relative"},[s("div",{class:"rounded-circle absolute mt-n16",style:{width:"25vw",height:"25vw",background:"rgba(5, 84, 136, 0.048)"}})],-1)),Ki={key:0,class:"relative",style:{top:"10%",left:"5%","z-index":"2",width:"30vw"}},Mi=Pe(()=>s("div",{class:"absolute"},[s("img",{src:$i,alt:"",style:{width:"100%"}})],-1)),Oi=[Mi],Ni=Pe(()=>s("div",{class:"relative"},[s("div",{class:"rounded-circle absolute",style:{width:"30vw",height:"30vw",top:"5%",right:"-10%",background:"rgba(4, 98, 160, 0.075)"}})],-1)),Ji={class:"d-flex justify-space-between h-100 align-center w-100"},Ri=Pe(()=>s("div",{class:"h-100 d-flex flex-column justify-end align-center w-100",style:{"z-index":"1"}},[s("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 888 460.52563","xmlns:xlink":"http://www.w3.org/1999/xlink"},[s("title",null,"factory"),s("path",{d:"M369.70122,672.44322l-21.87443-34.71387,21.88457,38.49557.01173,3.95547q2.34084-.02736,4.63442-.17946l-1.78417-50.81218.02346-.39275-.0402-.075-.16988-4.80142,22.87164-38.04637-22.89523,34.4507-.06851,1.017-1.34778-38.39059,19.66232-39.36387-19.816,32.61808-.92176-79.573-.00422-.26483-.00317.2606-.44881,62.73791-18.78843-25.10244,18.80506,30.50606.08719,34.362-17.4329-33.18692,17.44253,38.23878.04824,19.107L344.254,577.08157l25.34285,52.87363Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M557.41283,672.44322,535.5384,637.72935,557.423,676.22492l.01173,3.95547q2.34084-.02736,4.63442-.17946L560.285,629.18875l.02346-.39275-.0402-.075-.16988-4.80142L582.97,585.87323l-22.89524,34.4507-.0685,1.017-1.34778-38.39059,19.66232-39.36387-19.816,32.61808-.92176-79.573-.00423-.26483-.00317.2606-.4488,62.73791-18.78843-25.10244,18.80506,30.50606.08719,34.362-17.43291-33.18692,17.44254,38.23878.04823,19.107-25.32288-46.20808,25.34285,52.87363Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M181.81131,674.67584l-15.79541-25.0667,15.80273,27.79745.00847,2.85622q1.6903-.01975,3.34649-.12959l-1.28834-36.6912.01694-.2836-.029-.05415-.12267-3.46707L200.266,612.16411l-16.53253,24.87667-.04946.73435-.97323-27.72164,14.19806-28.42444-14.309,23.55334-.6656-57.45927-.00305-.19123-.00229.18817-.32408,45.30272-13.567-18.12634,13.579,22.02826.063,24.81262-12.58821-23.9641,12.59516,27.612.03484,13.79707L163.436,605.8157l18.29994,38.17977Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M1013.94505,672.44322l-21.87443-34.71387,21.88456,38.49557.01173,3.95547q2.34084-.02736,4.63443-.17946l-1.78418-50.81218.02346-.39275-.04019-.075-.16989-4.80142,22.87164-38.04637-22.89523,34.4507-.0685,1.017-1.34778-38.39059,19.66231-39.36387-19.816,32.61808-.92176-79.573-.00422-.26483-.00317.2606-.44881,62.73791-18.78843-25.10244,18.80506,30.50606.0872,34.362-17.43291-33.18692,17.44253,38.23878.04824,19.107-25.32289-46.20808,25.34285,52.87363Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("rect",{x:"420.71394",y:"615.03256",width:"118",height:"5",transform:"translate(803.42788 1015.32794) rotate(-180)",fill:"#5fa0cb"}),s("rect",{x:"414.71394",y:"610.03256",width:"118",height:"5",transform:"translate(791.42788 1005.32794) rotate(-180)",fill:"#5fa0cb"}),s("rect",{x:"421.71394",y:"605.03256",width:"118",height:"5",transform:"translate(805.42788 995.32794) rotate(-180)",fill:"#5fa0cb"}),s("rect",{x:"433.71394",y:"600.03256",width:"118",height:"5",transform:"translate(829.42788 985.32794) rotate(-180)",fill:"#5fa0cb"}),s("rect",{x:"333.31299",y:"577.93732",width:"4.09697",height:"29.08849",transform:"translate(514.72295 965.22594) rotate(-180)",fill:"#3f3d56"}),s("rect",{x:"407.83085",y:"466.88793",width:"4.09697",height:"163.62126",transform:"translate(-100.38591 915.10754) rotate(-112.09151)",fill:"#3f3d56"}),s("rect",{x:"257.51902",y:"636.524",width:"35.64365",height:"13.9297",transform:"translate(394.6817 1067.24052) rotate(-180)",fill:"#3f3d56"}),s("rect",{x:"260.7966",y:"648.81492",width:"175.76006",height:"15.56849",transform:"translate(541.35326 1093.46114) rotate(-180)",fill:"#3f3d56"}),s("polygon",{points:"133.68 436.862 175.879 436.862 175.879 383.806 144.332 383.806 133.68 410.565 133.68 436.862",fill:"#e2e2e2"}),s("rect",{x:"307.29722",y:"606.82096",width:"18.02667",height:"18.02667",transform:"translate(476.62112 1011.93141) rotate(-180)",fill:"#fff"}),s("polygon",{points:"137.777 405.315 149.249 405.315 149.249 387.289 144.332 387.289 137.777 405.315",fill:"#fff"}),s("rect",{x:"320.40753",y:"635.09006",width:"4.09697",height:"7.78425",transform:"translate(488.91203 1058.22719) rotate(-180)",fill:"#3f3d56"}),s("path",{d:"M297.66934,618.49733h.20485a3.89212,3.89212,0,0,1,3.89212,3.89212v0a3.89212,3.89212,0,0,1-3.89212,3.89212h-.20485a0,0,0,0,1,0,0v-7.78425A0,0,0,0,1,297.66934,618.49733Z",transform:"translate(443.43566 1025.04172) rotate(180)",fill:"#3f3d56"}),s("path",{d:"M450.07667,648.81492h.20485a3.89212,3.89212,0,0,1,3.89212,3.89212v0a3.89212,3.89212,0,0,1-3.89212,3.89212h-.20485a0,0,0,0,1,0,0v-7.78425A0,0,0,0,1,450.07667,648.81492Z",transform:"matrix(-1, 0, 0, -1, 748.25029, 1085.6769)",fill:"#3f3d56"}),s("path",{d:"M273.29236,648.75613a20.2704,20.2704,0,0,0-15.75558,7.843h-8.00685l7.78425-21.68366,36.25819-7.151-1.02424,28.83466H289.048A20.27042,20.27042,0,0,0,273.29236,648.75613Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("circle",{cx:"116.88267",cy:"441.98319",r:"17.82182",fill:"#3f3d56"}),s("circle",{cx:"116.88267",cy:"441.98319",r:"9.37991",fill:"#e2e2e2"}),s("circle",{cx:"277.89363",cy:"444.03168",r:"15.56849",fill:"#3f3d56"}),s("circle",{cx:"277.89363",cy:"444.03168",r:"8.19394",fill:"#e2e2e2"}),s("rect",{x:"330.64996",y:"596.16884",width:"8.60364",height:"62.06911",transform:"translate(513.90356 1034.6696) rotate(-180)",fill:"#3f3d56"}),s("rect",{x:"330.64996",y:"646.97128",width:"123.72853",height:"3.68727",transform:"translate(629.02844 1077.89265) rotate(-180)",fill:"#3f3d56"}),s("rect",{x:"299.30813",y:"625.87188",width:"4.09697",height:"1.63879",transform:"translate(446.71323 1033.64536) rotate(-180)",fill:"#3f3d56"}),s("path",{d:"M480.39425,620.00189a.40971.40971,0,0,1-.10422-.31848l5.65034-53.43206a.40987.40987,0,0,1,.40569-.36669h.0018a.40985.40985,0,0,1,.4071.36309L492.866,619.569a.40975.40975,0,0,1-.4033.4563l-11.76139.11083h-.0038A.40928.40928,0,0,1,480.39425,620.00189Zm5.97-49.96645-5.211,49.27688L492,619.2103Z",transform:"translate(-156 -219.73719)",fill:"#3f3d56"}),s("path",{d:"M255.88024,635.70461h.20485a3.89212,3.89212,0,0,1,3.89212,3.89212v0a3.89212,3.89212,0,0,1-3.89212,3.89212h-.20485a0,0,0,0,1,0,0v-7.78425A0,0,0,0,1,255.88024,635.70461Z",transform:"translate(86.94131 -269.62329) rotate(20.71738)",fill:"#3f3d56"}),s("rect",{x:"484.49122",y:"516.07305",width:"4.09697",height:"59.81578",transform:"translate(817.07942 872.2247) rotate(-180)",fill:"#3f3d56"}),s("circle",{cx:"179.36148",cy:"359.01953",r:"5.73576",fill:"#3f3d56"}),s("rect",{x:"343.71394",y:"642.03256",width:"118",height:"5",transform:"translate(649.42788 1069.32794) rotate(-180)",fill:"#5fa0cb"}),s("rect",{x:"350.71394",y:"637.03256",width:"118",height:"5",transform:"translate(663.42788 1059.32794) rotate(-180)",fill:"#5fa0cb"}),s("rect",{x:"345.71394",y:"633.03256",width:"118",height:"5",transform:"translate(653.42788 1051.32794) rotate(-180)",fill:"#5fa0cb"}),s("rect",{x:"352.71394",y:"628.03256",width:"118",height:"5",transform:"translate(667.42788 1041.32794) rotate(-180)",fill:"#5fa0cb"}),s("path",{d:"M538.33725,341.97939a15.59567,15.59567,0,0,1,10.23657,3.81414,15.60631,15.60631,0,0,1,6.88715-.30262,15.65993,15.65993,0,0,1,28.55484,8.887H523.01887A15.66484,15.66484,0,0,1,538.33725,341.97939Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M446.57156,391.32748a14.74417,14.74417,0,0,1,9.67768,3.6059,14.75453,14.75453,0,0,1,6.51113-.2861,14.80494,14.80494,0,0,1,26.99582,8.40174H432.08953A14.80958,14.80958,0,0,1,446.57156,391.32748Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M354.82419,309.93539a15.34075,15.34075,0,0,1,10.06927,3.75181,15.35133,15.35133,0,0,1,6.77459-.29768,15.404,15.404,0,0,1,28.08814,8.7417h-60A15.40882,15.40882,0,0,1,354.82419,309.93539Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M750.99875,464.92273V589.82849H799.573V463.18787l-11.27588.40271V438.03321h-8.17871l-1.34766-56.60376c3.30029-2.15052,5.62305-7.25818,5.62305-13.222a21.66875,21.66875,0,0,0-.59375-5.084,10.4004,10.4004,0,0,0,1.12012-12.66773,10.40734,10.40734,0,1,0,13.4873-15.85144,10.40972,10.40972,0,1,0-14.01367-9.767c0,.15247.00488.30371.01123.45435a10.41549,10.41549,0,0,0-13.33789,8.38257,10.409,10.409,0,1,0-7.48535,19.1272c-.002.07556-.00586.15051-.00586.22656a50.59934,50.59934,0,0,0,3.67627,8.43457,21.02593,21.02593,0,0,0-1.07373,6.74487c0,5.96387,2.32226,11.07153,5.62255,13.222l-1.34765,56.60376h-8.17822V464.5199Zm30.332-119.26843.02686.00061c.15039,0,.29931-.00488.44775-.01123q.14063.46143.32178.90356A10.45284,10.45284,0,0,0,781.33078,345.6543Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("rect",{x:"724.25381",y:"508.14821",width:"147.45827",height:"170.58898",transform:"translate(1439.96588 967.14821) rotate(-180)",fill:"#3f3d56"}),s("rect",{x:"778.10499",y:"644.04112",width:"39.75591",height:"34.69606",transform:"translate(1439.96588 1103.04112) rotate(-180)",fill:"#e2e2e2"}),s("path",{d:"M675.11058,283.692c-.00282.126-.00953.2509-.00953.37748a17.2926,17.2926,0,0,0,5.26,12.43748,17.32924,17.32924,0,0,0,.86719,1.62029,35.02934,35.02934,0,0,0-1.79014,11.24144c0,13.17395,6.796,23.85355,15.17953,23.85355s15.17952-10.6796,15.17952-23.85355a36.10523,36.10523,0,0,0-.98931-8.47345,17.33406,17.33406,0,0,0,1.86674-21.11261,17.34558,17.34558,0,1,0,22.47882-26.41915,17.34962,17.34962,0,1,0-23.35625-16.27825c0,.254.00847.506.01906.75729a17.3592,17.3592,0,0,0-22.23,13.97086,17.34835,17.34835,0,1,0-12.4756,31.87862Zm29.62669-11.91071c.25024,0,.49871-.00838.74648-.01888q.23348.76911.53578,1.506a17.38709,17.38709,0,0,0-1.32708-1.48825Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M685.94113,451.76722h17.3501l-.61963-26.02v-.01l-2.27051-95.41a11.09469,11.09469,0,0,1-11.56982,0l-2.27,95.41v.01Z",transform:"translate(-156 -219.73719)",fill:"#5fa0cb"}),s("polygon",{points:"498.141 250.82 498.141 459 579.092 459 579.092 247.93 560.301 248.6 560.301 206.01 516.931 206.01 516.931 250.15 498.141 250.82",fill:"#5fa0cb"}),s("path",{d:"M881.84129,283.692c-.00282.126-.00953.2509-.00953.37748a17.2926,17.2926,0,0,0,5.26,12.43748,17.32924,17.32924,0,0,0,.86719,1.62029,35.02934,35.02934,0,0,0-1.79014,11.24144c0,13.17395,6.796,23.85355,15.17952,23.85355s15.17953-10.6796,15.17953-23.85355a36.10576,36.10576,0,0,0-.98931-8.47345,17.33406,17.33406,0,0,0,1.86674-21.11261,17.34558,17.34558,0,1,0,22.47881-26.41915,17.34962,17.34962,0,1,0-23.35624-16.27825c0,.254.00847.506.01906.75729a17.3592,17.3592,0,0,0-22.23,13.97086,17.34835,17.34835,0,1,0-12.4756,31.87862ZM911.468,271.78128c.25024,0,.49871-.00838.74648-.01888q.23347.76911.53577,1.506a17.38528,17.38528,0,0,0-1.32707-1.48825Z",transform:"translate(-156 -219.73719)",fill:"#e2e2e2"}),s("path",{d:"M892.67428,451.76711h17.348L907.131,330.33089a17.10079,17.10079,0,0,1-11.56535,0Z",transform:"translate(-156 -219.73719)",fill:"#5fa0cb"}),s("polygon",{points:"704.871 250.82 704.871 459 785.831 459 785.831 247.93 779.181 248.17 767.031 248.6 767.031 206.01 723.661 206.01 723.661 250.15 704.871 250.82",fill:"#5fa0cb"}),s("rect",{x:"819.98294",y:"528.73719",width:"20",height:"20",transform:"translate(1503.96588 857.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"787.98294",y:"528.73719",width:"20",height:"20",transform:"translate(1439.96588 857.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"755.98294",y:"528.73719",width:"20",height:"20",transform:"translate(1375.96588 857.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"819.98294",y:"560.73719",width:"20",height:"20",transform:"translate(1503.96588 921.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"787.98294",y:"560.73719",width:"20",height:"20",transform:"translate(1439.96588 921.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"755.98294",y:"560.73719",width:"20",height:"20",transform:"translate(1375.96588 921.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"819.98294",y:"592.73719",width:"20",height:"20",transform:"translate(1503.96588 985.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"787.98294",y:"592.73719",width:"20",height:"20",transform:"translate(1439.96588 985.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"755.98294",y:"592.73719",width:"20",height:"20",transform:"translate(1375.96588 985.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"684.61759",y:"520.73719",width:"20",height:"20",transform:"translate(1233.23517 841.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"684.61759",y:"552.73719",width:"20",height:"20",transform:"translate(1233.23517 905.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"684.61759",y:"584.73719",width:"20",height:"20",transform:"translate(1233.23517 969.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"684.61759",y:"616.73719",width:"20",height:"20",transform:"translate(1233.23517 1033.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"891.18137",y:"520.73719",width:"20",height:"20",transform:"translate(1646.36273 841.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"891.18137",y:"552.73719",width:"20",height:"20",transform:"translate(1646.36273 905.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"891.18137",y:"584.73719",width:"20",height:"20",transform:"translate(1646.36273 969.73719) rotate(-180)",fill:"#fff"}),s("rect",{x:"891.18137",y:"616.73719",width:"20",height:"20",transform:"translate(1646.36273 1033.73719) rotate(-180)",fill:"#fff"}),s("rect",{y:"458.29537",width:"888",height:"2",fill:"#3f3d56"})])],-1)),Ii={class:"h-100 w-100 d-flex flex-column justify-center align-center"},Zi=Pe(()=>s("h2",{class:"text-center text-grey-darken-2"},"Sign In",-1)),Fi={class:"mt-10 d-flex flex-column align-center mx-auto",style:{width:"80%"}},Ei=Pe(()=>s("span",{class:"ms-3 me-auto text-body-2"},"Username",-1)),Ai={class:"d-flex justify-space-between align-center w-100 border rounded-full px-3 mb-3",style:{height:"7vh"}},qi=De('<svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27c4850e><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-27c4850e></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-27c4850e></g><g id="SVGRepo_iconCarrier" data-v-27c4850e><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 9C8.25 6.92893 9.92893 5.25 12 5.25C14.0711 5.25 15.75 6.92893 15.75 9C15.75 11.0711 14.0711 12.75 12 12.75C9.92893 12.75 8.25 11.0711 8.25 9ZM12 6.75C10.7574 6.75 9.75 7.75736 9.75 9C9.75 10.2426 10.7574 11.25 12 11.25C13.2426 11.25 14.25 10.2426 14.25 9C14.25 7.75736 13.2426 6.75 12 6.75Z" fill="#549EBF" data-v-27c4850e></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 14.5456 3.77827 16.851 5.4421 18.5235C5.6225 17.5504 5.97694 16.6329 6.68837 15.8951C7.75252 14.7915 9.45416 14.25 12 14.25C14.5457 14.25 16.2474 14.7915 17.3115 15.8951C18.023 16.6329 18.3774 17.5505 18.5578 18.5236C20.2217 16.8511 21.25 14.5456 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM17.1937 19.6554C17.0918 18.4435 16.8286 17.5553 16.2318 16.9363C15.5823 16.2628 14.3789 15.75 12 15.75C9.62099 15.75 8.41761 16.2628 7.76815 16.9363C7.17127 17.5553 6.90811 18.4434 6.80622 19.6553C8.28684 20.6618 10.0747 21.25 12 21.25C13.9252 21.25 15.7131 20.6618 17.1937 19.6554Z" fill="#549EBF" data-v-27c4850e></path></g></svg>',1),Gi=Pe(()=>s("span",{class:"ms-3 me-auto text-body-2"},"Password",-1)),zi={class:"d-flex justify-space-between align-center w-100 border rounded-full px-3",style:{height:"7vh"}},Yi=De('<svg width="25px" height="25px" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="##5fa0cb" data-v-27c4850e><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-27c4850e></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-27c4850e></g><g id="SVGRepo_iconCarrier" data-v-27c4850e><path d="M5.5 7H9.5V6H5.5V7ZM10 7.5V10.5H11V7.5H10ZM9.5 11H5.5V12H9.5V11ZM5 10.5V7.5H4V10.5H5ZM5.5 11C5.22386 11 5 10.7761 5 10.5H4C4 11.3284 4.67157 12 5.5 12V11ZM10 10.5C10 10.7761 9.77614 11 9.5 11V12C10.3284 12 11 11.3284 11 10.5H10ZM9.5 7C9.77614 7 10 7.22386 10 7.5H11C11 6.67157 10.3284 6 9.5 6V7ZM5.5 6C4.67157 6 4 6.67157 4 7.5H5C5 7.22386 5.22386 7 5.5 7V6ZM6 6.5V5.5H5V6.5H6ZM9 5.5V6.5H10V5.5H9ZM7.5 4C8.32843 4 9 4.67157 9 5.5H10C10 4.11929 8.88071 3 7.5 3V4ZM6 5.5C6 4.67157 6.67157 4 7.5 4V3C6.11929 3 5 4.11929 5 5.5H6ZM1 7.5C1 3.91015 3.91015 0.999999 7.5 1V0C3.35787 -8.9407e-07 8.9407e-07 3.35786 0 7.5H1ZM7.5 14C3.91015 14 0.999999 11.0898 1 7.5H0C-8.9407e-07 11.6421 3.35786 15 7.5 15V14ZM14 7.5C14 11.0899 11.0898 14 7.5 14V15C11.6421 15 15 11.6421 15 7.5H14ZM15 7.5C15 3.35787 11.6421 8.9407e-07 7.5 0V1C11.0899 1 14 3.91015 14 7.5H15Z" fill="#5fa0cb" data-v-27c4850e></path></g></svg>',1),Wi=De('<svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27c4850e><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-27c4850e></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-27c4850e></g><g id="SVGRepo_iconCarrier" data-v-27c4850e><path d="M15.0007 12C15.0007 13.6569 13.6576 15 12.0007 15C10.3439 15 9.00073 13.6569 9.00073 12C9.00073 10.3431 10.3439 9 12.0007 9C13.6576 9 15.0007 10.3431 15.0007 12Z" stroke="#549EBF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-27c4850e></path> <path d="M12.0012 5C7.52354 5 3.73326 7.94288 2.45898 12C3.73324 16.0571 7.52354 19 12.0012 19C16.4788 19 20.2691 16.0571 21.5434 12C20.2691 7.94291 16.4788 5 12.0012 5Z" stroke="#549EBF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-27c4850e></path></g></svg>',1),Xi=[Wi],Qi=De('<svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27c4850e><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-27c4850e></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-27c4850e></g><g id="SVGRepo_iconCarrier" data-v-27c4850e><path d="M2.99902 3L20.999 21M9.8433 9.91364C9.32066 10.4536 8.99902 11.1892 8.99902 12C8.99902 13.6569 10.3422 15 11.999 15C12.8215 15 13.5667 14.669 14.1086 14.133M6.49902 6.64715C4.59972 7.90034 3.15305 9.78394 2.45703 12C3.73128 16.0571 7.52159 19 11.9992 19C13.9881 19 15.8414 18.4194 17.3988 17.4184M10.999 5.04939C11.328 5.01673 11.6617 5 11.9992 5C16.4769 5 20.2672 7.94291 21.5414 12C21.2607 12.894 20.8577 13.7338 20.3522 14.5" stroke="#549EBF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-27c4850e></path></g></svg>',1),es=[Qi],ts={class:"text-caption text-center text-grey-darken-2 absolute bottom-5 w-100"},as=Pe(()=>s("br",null,null,-1)),ns={class:"absolute w-100 text-caption top-0 h-fit"},ls={components:{},props:["window"],data(){return{pageTitle:null,message:"",username:"",password:"",valert:!1,status:null,user:!1,pass:!1,ispassword:!1}},computed:{mobile(){return this.window<1e3}},methods:{page(){return this.$emit("page",this.pageTitle)},handleLogin(){D.postLogin({username:this.username,password:this.password}).then(t=>{localStorage.setItem("token",t.data),localStorage.setItem("user",this.username),window.location.href="/"}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data,setTimeout(()=>{this.valert=!1},2e3)})}},mounted(){this.page(),this.mobile}},is=Object.assign(ls,{__name:"LoginView",setup(t){return(e,a)=>{const i=r("v-text-field"),o=r("v-btn"),u=r("v-alert");return d(),P(M,null,[s("div",Hi,[Li,e.mobile?c("",!0):(d(),P("div",Ki,Oi)),Ni,s("div",Ji,[Ri,s("div",{class:ve(["w-100 py-3",{absolute:e.mobile}]),style:{"z-index":"3"}},[s("div",Ii,[s("div",{class:ve({"bg-trans-blue rounded-xl py-10 px-5 w-85":e.mobile,"w-50":!e.mobile})},[Zi,s("div",Fi,[Ei,s("div",Ai,[qi,n(i,{variant:"text",density:"compact",modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=h=>e.username=h),name:"username","hide-details":""},null,8,["modelValue"])]),Gi,s("div",zi,[Yi,n(i,{type:e.ispassword==!0?"text":"password",variant:"text",density:"compact",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=h=>e.password=h),name:"password","hide-details":""},null,8,["type","modelValue"]),e.ispassword?(d(),P("div",{key:0,onClick:a[2]||(a[2]=h=>e.ispassword=!1),class:"mt-1"},Xi)):c("",!0),e.ispassword?c("",!0):(d(),P("div",{key:1,onClick:a[3]||(a[3]=h=>e.ispassword=!0),class:"mt-1"},es))]),n(o,{onClick:a[4]||(a[4]=h=>e.handleLogin()),class:"rounded-full elevation-0 bg-blue-custom mt-3 w-100",style:{height:"7vh"}},{default:l(()=>[m("Login")]),_:1})])],2)])],2)]),s("span",ts,[m("AURI STEEL METALINDO "),as,m("version."+k(g(xi).version),1)])]),s("div",ns,[n(u,{modelValue:e.valert,"onUpdate:modelValue":a[5]||(a[5]=h=>e.valert=h),transition:"scroll-y-transition",color:"red-darken-1",density:"compact",type:"error",title:"Gagal !",class:"rounded-0",text:e.message},null,8,["modelValue","text"])])],64)}}}),ss=J(is,[["__scopeId","data-v-27c4850e"]]),os=[{title:"Kode Pelanggan",key:"kode_pelanggan",dis:!0},{title:"Nama",key:"nama"},{title:"Alamat",key:"alamat"},{title:"NPWP",key:"npwp"},{title:"",key:"actions",align:"end",sortable:!1}],rs=["kode_pelanggan","nama","alamat","npwp","status"],ds=(t,e)=>{for(let a=0;a<t.length;a++)if(t[a].kode_pelanggan==e)return t[a].nama},Be={headers:os,keyform:rs,namaPelanggan:ds};const us={class:"d-flex align-center w-100"},ms={class:"d-flex align-center justify-sm-end justify-start"},hs=Ne({name:"CustomerView",props:["cetak","user","window"],components:{TableVue:se,dialogMaster:$e,menuList:q,textField:F,AlertVue:z,CircularLoader:G},data(){return{pageTitle:"data pelanggan",statusselect:!0,loading:!0,status:"",message:"",valert:!1,search:"",items:"",dialog:!1,akses:"",authority:"",tambah:{kode_pelanggan:"",nama:"",alamat:"",npwp:"",status:"true"}}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""&&(this.akses=await D.getOtoritas(t),this.authority=C.otoritas(this.akses)),C.routes(this.akses,"Data Pelanggan"))this.loading=!0,this.items=await D.getPelanggan(),this.loading=!1;else return await D.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=Be.headers,i=this.items;f.print(t,e,a,i)},submitForm(t){D.postPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(e=>{this.status=!1,this.message=e.response.data,this.valert=!0})},editForm(){let t={kode_pelanggan:"ASMT",nama:"Auristeel Metalindo Terboyo",alamat:"Semarang",npwp:"0.0.0.0",status:"true"};D.putPelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})},del(t){D.deletePelanggan(t).then(()=>{this.status=!0,this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(function(e){this.status=!1,this.message=e.response.data,this.valert=!0})}},mounted(){this.fetchData(),this.page()}}),ps=Object.assign(hs,{setup(t){return(e,a)=>{const i=r("v-responsive"),o=r("v-row"),u=r("v-container");return d(),P(M,null,[n(u,{class:"pt-9 h-100"},{default:l(()=>[n(o,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[s("div",us,[g(C).routes(e.authority,"Tambah Pelanggan Baru")?(d(),p($e,{key:0,keyform:g(Be).keyform,tambah:e.tambah,ishidden:!0,noselect:e.statusselect,onForm:e.submitForm,headers:g(Be).headers,items:e.items,category:e.category,toolbar_title:"Tambah Data"},null,8,["keyform","tambah","noselect","onForm","headers","items","category"])):c("",!0)])]),_:1}),n(i,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[s("div",ms,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:e.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0)])]),_:1})]),_:1}),n(se,{id:"tbl_exporttable_to_xls",create:g(C).routes(e.authority,"Tambah Pelanggan Baru"),update:g(C).routes(e.authority,"Ubah Pelanggan"),hapus:g(C).routes(e.authority,"Hapus Pelanggan"),window:e.window,keyform:g(Be).keyform,noselect:e.statusselect,onEdit:e.editForm,onDel:e.del,headers:g(Be).headers,items:e.items,search:e.search,category:e.category,toolbar_title:"Edit Data",form:e.form,pageTitle:e.pageTitle},null,8,["create","update","hapus","window","keyform","noselect","onEdit","onDel","headers","items","search","category","form","pageTitle"])]),_:1}),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[1]||(a[1]=h=>e.valert=h),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),gs=[{title:"Kode Supplier",align:"start",key:"kode_supplier",dis:!0},{title:"Nama",align:"start",key:"nama",dis:!0},{title:"Alamat",align:"start",key:"alamat",dis:!0},{title:"Kota",align:"start",key:"kota",dis:!0},{title:"Negara",align:"start",key:"negara",dis:!0},{title:"",align:"end",key:"actions",sortable:!1}],cs=["kode_supplier","nama","alamat","kota","negara","status"],Ae={headers:gs,keyform:cs};const fs={class:"d-flex"},_s={props:["cetak","window"],components:{TableVue:se,menuList:q,textField:F,CircularLoader:G},data(){return{drawer:!1,loading:!0,authority:"",akses:"",pageTitle:"data supplier",search:"",alpha:0,items:""}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await D.getOtoritas(t),this.authority=C.otoritas(this.akses)),C.routes(this.akses,"Data Supplier"))this.loading=!0,this.items=await D.getSupplier(),this.loading=!1;else return await D.logout()},page(){return this.$emit("page",this.pageTitle)},print(t){let e=this.pageTitle,a=Ae.headers,i=this.items;f.print(t,e,a,i)}},mounted(){this.page(),this.fetchData()}},bs=Object.assign(_s,{__name:"DataSupplier",setup(t){return(e,a)=>{const i=r("v-responsive"),o=r("v-row"),u=r("v-container");return d(),P(M,null,[n(u,{class:"h-100 pt-9"},{default:l(()=>[n(o,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(i,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[s("div",fs,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=h=>e.search=h),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0)])]),_:1})]),_:1}),n(se,{window:t.window,keyform:g(Ae).keyform,ishidden:!0,disabled:!0,noselect:!0,id:"tbl_exporttable_to_xls",screen:400,headers:g(Ae).headers,items:e.items,view:!0,search:e.search,toolbar_title:"Detail Data",pageTitle:e.pageTitle},null,8,["window","keyform","headers","items","search","pageTitle"])]),_:1}),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),ks=Ne({props:["user","cetak","window"],name:"UserView",components:{BtnInfo:ie,BtnCancel:I,BtnOrange:Z,AlertVue:z,DialogConfirm:be,TableVue:se,UserDetail:Je,CircularLoader:G},data(){return{drawer:!1,detail:!1,confirmdialog:!1,pageTitle:"data user",loading:!0,tab:null,valert:!1,message:"",status:null,username:"",password:"",otority:"",akses:"",authority:"",dialogotoritas:[],userselect:"",open:["barang","Laporan"],scrollInvoked:0,items:"",head:[{title:"Username",key:"username"},{key:"actions",align:"end"}],jns_otoritas:["Data Barang","Data Pelanggan","Data Supplier","Data User","Pembelian","Produksi","Penjualan","Pengiriman","Laporan"],user_otoritas:"",headers:[{title:"Jenis Otoritas",key:"jenis_otoritas"},{title:"Tambah Data",key:"tambah"},{title:"Edit Data",key:"edit"},{title:"Batal/Hapus Data",key:"hapus"}]}},methods:{async fetchData(){let t=localStorage.getItem("user");t!=null&&(this.akses=await D.getOtoritas(t),this.authority=C.otoritas(this.akses)),C.routes(this.akses,"Data User")?(this.loading=!0,this.items=await D.getUser(),this.loading=!1):await D.logout()},async pilihUser(t){this.userselect=t;let e=await D.getOtoritas(t);this.user_otoritas=C.otoritas(e)},page(){return this.$emit("page",this.pageTitle)},dataUser(t,e){this.username=t,this.password=e},onScroll(){this.scrollInvoked++},dialog(t){this.tambah=!1,this.ds={},this.detail=!0,this.pilihUser(t)},updt(){this.fetchData()},postUser(t){D.postUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Ditambahkan",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},editUser(t){D.editUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Diubah",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})},deleteUser(t){D.deleteUser(t).then(()=>{this.status=this.valert=!0,this.message="Data Berhasil Dihapus",setTimeout(()=>{this.valert=!1,this.fetchData()},2500)}).catch(e=>{this.status=!1,this.valert=!0,this.message=e.response.data})}},mounted(){this.page(),this.fetchData()}}),vs=Object.assign(ks,{setup(t){return(e,a)=>{const i=r("v-responsive"),o=r("v-row"),u=r("v-container");return d(),p(u,{class:"pt-9 h-100"},{default:l(()=>[n(o,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(i,{class:"mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[n(ie,{onClick:a[0]||(a[0]=h=>(e.tambah=!0,e.edit=!1,e.detail=!0,e.ds=e.j_otoritas)),btn_title:"Tambah User",icon:"mdi-plus"})]),_:1})]),_:1}),n(se,{window:e.window,userdetail:!0,items:e.items,headers:e.head,editdata:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect,otority:e.otority,onEdit:e.editUser,onDel:e.deleteUser},null,8,["window","items","headers","user_otoritas","j_otoritas","userselect","otority","onEdit","onDel"]),n(Je,{modelValue:e.detail,"onUpdate:modelValue":a[2]||(a[2]=h=>e.detail=h),onSubmitUser:e.postUser,tambahUser:!0,user_otoritas:e.user_otoritas,j_otoritas:e.j_otoritas,userselect:e.userselect},{cancel:l(()=>[n(I,{onClick:a[1]||(a[1]=h=>e.detail=!1),btn_title:"Batal",class:"mx-2"})]),_:1},8,["modelValue","onSubmitUser","user_otoritas","j_otoritas","userselect"]),n(be,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[5]||(a[5]=h=>e.confirmdialog=h),object:e.pageTitle},{yesButton:l(()=>[n(Z,{onClick:a[3]||(a[3]=h=>(e.deleteUser(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{class:"me-2",onClick:a[4]||(a[4]=h=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[6]||(a[6]=h=>e.valert=h),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])]),_:1})}}}),ws={class:"d-flex align-center w-100"},ys={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},js={components:{PemasukanDetail:Ke,dialogConfirm:be,TableVue:se,filterDrawer:te,textField:F,menuList:q,checkBox:ke,DatePicker:R,BtnOrange:Z,BtnCancel:I,AlertVue:z,CircularLoader:G},props:["cetak","tema","window","windowH"],data(){return{search:"",periode:[],filter:!1,confirmdialog:!1,loading:!0,status:null,valert:!1,authority:"",message:"",pageTitle:"pemasukan barang",btn:"Tambah Barang",sortBy:[{key:"no_pembelian",order:"desc"}],selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",barang:"",pemasukan_item:"",pembelian_head:"",pdetail:"",items:"",dataitems:"",supplier:"",pembeliandetl:"",filtered:{selectdokumen:[],periode:[]},details:[]}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.fetchData()},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}this.authority!=""?(this.loading=!0,this.items=await D.getPemasukanHead(this.periode),this.supplier=await D.getSupplier(),this.pembeliandetl=await D.getPemasukanDetail(this.periode),this.barang=await D.getBarang(),this.dataitems=X.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1):await D.logout()},inputhead(t,e){localStorage.getItem("token")?D.postPemasukan(t,e).then(()=>{this.message="Data Berhasil Ditambahkan",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(i=>{this.status=!1,this.valert=!0,this.message=i.response.data}):(this.status=!1,this.valert=!0,this.message="Sesi anda telah berakhir, silahkan login kembali",setTimeout(()=>{D.logout()},2500))},del(){D.deletePemasukan(this.pembelian_head,this.pdetail).then(()=>{this.message="Data Berhasil Dibatalkan",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.message=t.response.data,this.valert=!0})},confirm(t,e){this.confirmdialog=!0,this.pembelian_head=t,this.pdetail=e},selected(){this.fetchData()},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=X.headers,i=this.dataitems;f.print(t,e,a,i)},reset(){this.def=!0,this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.filtered.selectdokumen=[],this.selectdokumen=[],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.selected(),this.page()}},Vs=Object.assign(js,{__name:"PemasukanBarang",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-responsive"),b=r("v-btn"),V=r("v-row"),w=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=j=>e.filter=j),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=j=>e.filtered.periode[0]=j),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",class:"mb-4",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=j=>e.filtered.periode[1]=j),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(d(!0),P(M,null,N(g(X).tipedokumen,(j,B)=>(d(),p(ke,{key:B,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=y=>e.filtered.selectdokumen=y),label:j,value:j},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(w,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"mt-n4"},{default:l(()=>[n(h,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[s("div",ws,[g(C).routes(e.authority,"Tambah Pembelian Baru")?(d(),p(Ke,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,barang:e.barang,batalbtn:"Pemasukan",datainput:g(X).datainput,onInputhead:e.inputhead,pemasukan:!0,supplier:e.supplier,edit:!1,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:g(X).headDetails,details:e.details,headers:g(X).headers,items:e.dataitems,pembeliandetl:e.pembeliandetl,search:e.search,category:g(X).tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","windowH","tema","barang","datainput","onInputhead","supplier","itemDetail","datatext","btn","headDetails","details","headers","items","pembeliandetl","search","category","selectCategory","pageTitle"])):c("",!0)])]),_:1}),n(h,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[s("div",ys,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=j=>e.search=j),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{onClick:a[5]||(a[5]=j=>e.filter=!e.filter)}),n(b,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=j=>e.fetchData())})])]),_:1})]),_:1}),n(se,{window:t.window,windowH:t.windowH,sortby:g(X).sortBy,hapus:g(C).routes(e.authority,"Batal Pembelian"),view_persentase:g(C).routes(e.authority,"Persentase"),id:"tbl_exporttable_to_xls",items:e.dataitems,search:e.search,headers:g(X).headers,masuk:!0,supplier:e.supplier,pembeliandetl:e.pembeliandetl,onConfirm:e.confirm,pageTitle:e.pageTitle,class:"mt-2"},null,8,["window","windowH","sortby","hapus","view_persentase","items","search","headers","supplier","pembeliandetl","onConfirm","pageTitle"]),n(be,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=j=>e.confirmdialog=j),object:e.pageTitle,item:e.pembelian_head.no_pembelian,mess:"Membatalkan"},{yesButton:l(()=>[n(Z,{onClick:a[7]||(a[7]=j=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{class:"me-2",onClick:a[8]||(a[8]=j=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=j=>e.valert=j),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Cs={class:"d-flex justify-space-between w-100 flex-wrap"},Ds={class:"d-flex justify-space-between"},$s=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Produksi",-1),Ps={class:"d-flex justify-space-between"},Bs=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Produksi",-1),Ts={class:"d-flex justify-space-between"},Ss=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Kode Group",-1),Us={class:"d-flex justify-space-between w-100 flex-wrap"},xs={class:"d-flex justify-space-between"},Hs=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Bahan Baku",-1),Ls={key:0,class:"d-flex justify-space-between"},Ks={key:0,class:"text-caption",style:{width:"90px","max-width":"90px"}},Ms={key:1,class:"d-flex justify-space-between"},Os=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Satuan",-1),Ns={key:0,class:"d-flex justify-space-between"},Js={class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},Rs={key:1,class:"d-flex justify-space-between"},Is={class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},Zs={key:2,class:"d-flex justify-space-between"},Fs={class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},Es={key:3,class:"d-flex justify-space-between"},As={class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},qs={props:["window","windowH","tema","headers","headItem","edit","hapus","getbarang","getKonversi","detailbahan","groupbarang","detailbarang","select_kode","item"],data(){return{dialog:!1,dialog2:!1,dialogBahan:!1,dialogbhn:[],dialogbrg:[],dialog5:!1,valert:!1,more:0,status:null,message:"",searched:"",inputbahan:"",inputbarang:"",masuk:"",konversi:"",inputproduksi:ce.input,btn:["Tambah Bahan","Tambah Barang"],required:[t=>t?!0:"harus diisi !"]}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="55vh":this.window<1500&&(this.windowH>800?t="60vh":t="50vh"):this.edit||(this.window>1500?this.windowH>800?t="55vh":t="50vh":this.window<1500&&(this.windowH>800?t="50vh":this.windowH<700?t="45vh":t="50vh")),t},filterkodegroup(){let t=[];if(this.edit)return null;for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return f.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))},group_detail(){if(this.edit)return null;{let t=[];for(let e=0;e<this.filterkodegroup.length;e++)for(let a=0;a<this.groupbarang.length;a++)this.filterkodegroup[e]==this.groupbarang[a].kode_group&&t.push(this.groupbarang[a]);return t}}},methods:{lainnya(){let t=this.more+10;this.more=t},bahanmasuk(t){this.inputbahan=t},barangmasuk(t){this.inputbarang=t},input_kodegroup(t){if(this.inputproduksi.kode_group==""&&(this.inputproduksi.kode_group=t),this.inputproduksi.kode_group!=""){this.inputbahan="";for(let e=0;e<this.inputbarang.length;e++)this.inputbarang.splice(0,this.inputbarang.length)}this.inputproduksi.kode_group=t,this.$emit("input_kodegroup",this.inputproduksi.kode_group)},deleteditem(t,e){let a=[];e=="bahan"&&(a=this.inputbahan),e=="barang"&&(a=this.inputbarang);for(let i=0;i<a.length;i++)t==a[i]&&a.splice(i,1)},jumlahtotal(t,e){let a=[];if(e=="konversi"){for(let i=0;i<t.length;i++)a.push(t[i].jumlah_konversi);return a.reduce((i,o)=>i+o,0)}else{for(let i=0;i<t.length;i++)a.push(t[i].jumlah);return a.reduce((i,o)=>i+o,0)}},confirm(){this.$emit("confirm",this.item,this.detailbahan,this.detailbarang)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=this.inputbahan,a=[];for(let i=0;i<this.inputbarang.length;i++)a.push({kode_barang:this.inputbarang[i].kode_barang,kode_konversi:this.inputbarang[i].kode_konversi,jumlah:this.inputbarang[i].jumlah,jumlah_konversi:this.inputbarang[i].jumlah_konversi});return this.$emit("inputhead",this.inputproduksi,e,a)}},check(){this.inputproduksi.kode_group==""?(this.valert=!0,this.status="warn",this.message="Kode group masih kosong!"):this.dialogBahan=!0}},mounted(){}},Ye=Object.assign(qs,{__name:"ScreenDialog2",setup(t){return(e,a)=>{const i=r("v-list-item"),o=r("v-list"),u=r("v-menu"),h=r("v-toolbar-title"),b=r("v-spacer"),V=r("v-toolbar"),w=r("v-divider"),j=r("v-form"),B=r("v-row"),y=r("v-span"),$=r("v-card-title"),H=r("v-card-subtitle"),_=r("v-sheet"),T=r("v-div"),K=r("v-container"),ue=r("v-responsive"),re=r("v-card"),Y=r("v-btn"),v=r("v-dialog");return d(),p(v,{modelValue:e.dialog,"onUpdate:modelValue":a[14]||(a[14]=S=>e.dialog=S),scrim:!1,transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:S})=>[t.edit?c("",!0):(d(),p(ie,A({key:0,btn_title:"Tambah Baru"},S,{icon:"mdi-plus"}),null,16)),n(u,null,{activator:l(({props:x})=>[t.edit?(d(),p(Q,A({key:0,id:"menu-actions"},x,{icon:"mdi-dots-vertical"}),null,16)):c("",!0)]),default:l(()=>[n(o,null,{default:l(()=>[n(i,A({class:"text-caption",density:"compact"},S),{default:l(()=>[m("Lihat Data")]),_:2},1040),t.hapus?(d(),p(i,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=x=>e.confirm())},{default:l(()=>[m("Batal Produksi")]),_:1})):c("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(re,null,{default:l(()=>[n(V,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(Q,{icon:"mdi-close",color:"white",onClick:a[1]||(a[1]=S=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]})}),n(h,{class:"text-button"},{default:l(()=>[m("DETAIL PRODUKSI")]),_:1}),n(b)]),_:1}),n(K,{class:"mt-5"},{default:l(()=>[n(j,{onSubmit:a[7]||(a[7]=Se(()=>{},["prevent"])),ref:"form",class:"mb-2"},{default:l(()=>[s("div",Cs,[s("div",Ds,[$s,t.edit?(d(),p(U,{key:0,"model-value":t.item.no_produksi,label:"No Produksi",readonly:""},null,8,["model-value"])):c("",!0),t.edit?c("",!0):(d(),p(U,{key:1,label:"No Produksi",readonly:"",class:"bg-grey-lighten-4",modelValue:e.inputproduksi.no_produksi,"onUpdate:modelValue":a[2]||(a[2]=S=>e.inputproduksi.no_produksi=S)},null,8,["modelValue"]))]),s("div",Ps,[Bs,t.edit?c("",!0):(d(),p(R,{key:0,"max-date":new Date,"min-date":g(f).last_month(),label:"Tgl Produksi",modelValue:e.inputproduksi.tgl_produksi,"onUpdate:modelValue":a[3]||(a[3]=S=>e.inputproduksi.tgl_produksi=S),tema:t.tema,rules:e.required},null,8,["max-date","min-date","modelValue","tema","rules"])),t.edit?(d(),p(U,{key:1,label:"Tgl Produksi",readonly:!0,rules:e.required,"model-value":g(f).formatDate(t.item.tgl_produksi)},null,8,["rules","model-value"])):c("",!0)]),s("div",Ts,[Ss,t.edit?(d(),p(U,{key:0,label:"Kode Group","model-value":t.item.kode_group,readonly:"",rules:e.required},null,8,["model-value","rules"])):c("",!0),t.edit?c("",!0):(d(),p(U,{key:1,label:"Kode Group",readonly:"",onClick:a[4]||(a[4]=S=>(e.dialog5=!0,e.more=15)),modelValue:e.inputproduksi.kode_group,"onUpdate:modelValue":a[5]||(a[5]=S=>e.inputproduksi.kode_group=S),rules:e.required},null,8,["modelValue","rules"]))])]),t.edit?(d(),p(w,{key:0,class:"mb-2"})):c("",!0),s("div",Us,[s("div",xs,[Hs,t.edit?c("",!0):(d(),p(He,{key:0,modelValue:e.dialogBahan,"onUpdate:modelValue":a[6]||(a[6]=S=>e.dialogBahan=S),window:t.window,dialog_title:"stok barang",group_detail:e.group_detail,produksi:!0,btn:e.btn[0],width:"400",barang:t.detailbahan,tambah:!0,bahanbaku:!0,getbarang:t.select_kode,kodegroup:e.inputproduksi.kode_group,onPemasukanitem:e.bahanmasuk},null,8,["modelValue","window","group_detail","btn","barang","getbarang","kodegroup","onPemasukanitem"])),t.edit?(d(),p(U,{key:1,label:"Bahan Baku",readonly:"","model-value":t.detailbahan.kode_barang+"-"+t.detailbahan.nama_barang},null,8,["model-value"])):c("",!0)]),t.edit?(d(),P("div",Ls,[t.edit?(d(),P("span",Ks,"Jumlah")):c("",!0),n(U,{label:"Jumlah",readonly:"","model-value":g(f).numb(t.detailbahan.jumlah,2,!0)},null,8,["model-value"])])):c("",!0),t.edit?(d(),P("div",Ms,[Os,n(U,{label:"Satuan",readonly:"","model-value":t.detailbahan.satuan},null,8,["model-value"])])):c("",!0)])]),_:1},512),n(B,{"no-gutters":"",justify:"center","justify-md":"space-between",align:"start",class:"mx-sm-0 mx-3","min-width":"400"},{default:l(()=>[n(ue,{class:"mt-md-0 mt-1 text-sm-left text-center",width:"400"},{default:l(()=>[t.edit?c("",!0):(d(),p(He,{key:0,dialog_title:"data barang",produksi:!0,inptbarang:!0,kodegroup:e.inputproduksi.kode_group,btn:e.btn[1],width:"400",barang:t.detailbarang,getbarang:t.getbarang,getKonversi:t.getKonversi,inputbahan:e.inputbahan,tambah:!0,onPemasukanitem:e.barangmasuk},null,8,["kodegroup","btn","barang","getbarang","getKonversi","inputbahan","onPemasukanitem"])),t.edit?(d(),p(B,{key:1,"no-gutters":"",class:"justify-center py-1 text-button rounded border"},{default:l(()=>[m("detail barang")]),_:1})):c("",!0),n(K,{class:"border-sm rounded-lg mt-2"},{default:l(()=>[n(g(pe),{headers:t.edit?t.headItem:t.headers,items:t.edit?t.detailbarang:e.inputbarang,hover:!0,"fixed-header":!0,density:"compact",class:"text-body-2 pb-3 px-5 text-caption he",height:e.heightSizing},{bottom:l(()=>[t.edit?(d(),p(y,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah : "+k(g(f).numb(e.jumlahtotal(t.detailbarang),2,!0)),1)]),_:1})):c("",!0),t.edit?(d(),p(y,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah Konversi : "+k(g(f).numb(e.jumlahtotal(t.detailbarang,"konversi"))),1)]),_:1})):c("",!0),t.edit?c("",!0):(d(),p(y,{key:2,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah : "+k(g(f).numb(e.jumlahtotal(e.inputbarang),2,!0)),1)]),_:1})),t.edit?c("",!0):(d(),p(y,{key:3,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Jumlah Konversi : "+k(g(f).numb(e.jumlahtotal(e.inputbarang,"konversi"))),1)]),_:1}))]),"item.jumlah":l(({item:S})=>[m(k(g(f).numb(S.raw.jumlah,2,!0)),1)]),"item.actions":l(({item:S,index:x})=>[n(Te,{onUpdate:e.dialogbrg,persistent:!t.edit,modelValue:e.dialogbrg[x],"onUpdate:modelValue":L=>e.dialogbrg[x]=L},{titlecard:l(()=>[n($,{class:"text-center text-grey-darken-3 text-button font-weight-bold"},{default:l(()=>[m(k(S.raw.kode_konversi==""?S.raw.nama_barang:S.raw.nama_konversi),1)]),_:2},1024),n(H,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(k(S.raw.kode_konversi==""?S.raw.kode_barang:S.raw.kode_konversi),1)]),_:2},1024)]),content:l(()=>[n(_,{class:"mx-auto mt-5 w-75 bg-transparent"},{default:l(()=>[t.edit?(d(),P("div",Ns,[s("span",Js,k("Jumlah ("+S.raw.satuan+")"),1),n(U,{"model-value":g(f).numb(S.raw.jumlah,2,!0),label:"Jumlah ("+S.raw.satuan+")",readonly:""},null,8,["model-value","label"])])):c("",!0),!t.edit&&!S.raw.konversi?(d(),P("div",Rs,[s("span",Is,k("Jumlah ("+S.raw.satuan+")"),1),n(he,{modelValue:S.raw.jumlah,"onUpdate:modelValue":L=>S.raw.jumlah=L,label:"Jumlah ("+S.raw.satuan+")",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue","label"])])):c("",!0),t.edit&&S.raw.jumlah_konversi?(d(),P("div",Zs,[s("span",Fs,k("Jumlah ("+S.raw.satuan_konversi+")"),1),n(U,{"model-value":g(f).numb(S.raw.jumlah_konversi),label:"Jumlah ("+S.raw.satuan_konversi+")",readonly:""},null,8,["model-value","label"])])):c("",!0),!t.edit&&S.raw.konversi?(d(),P("div",Es,[s("span",As,k("Jumlah ("+S.raw.satuan_konversi+")"),1),n(he,{modelValue:S.raw.jumlah_konversi,"onUpdate:modelValue":L=>S.raw.jumlah_konversi=L,label:"Jumlah ("+S.raw.satuan_konversi+")",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue","label"])])):c("",!0)]),_:2},1024),n(w,{class:"mt-3 mb-5"}),t.edit?c("",!0):(d(),p(T,{key:0,class:"d-flex me-5 ms-auto"},{default:l(()=>[n(I,{btn_title:"Hapus",onClick:L=>(e.deleteditem(S.raw,"barang"),e.dialogbrg[x]=!1),class:"me-2"},null,8,["onClick"]),n(Z,{btn_title:"Simpan",type:"submit",onClick:L=>e.dialogbrg[x]=!1},null,8,["onClick"])]),_:2},1024))]),_:2},1032,["onUpdate","persistent","modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),_:1})]),_:1})]),_:1}),n(B,{"no-gutters":"",class:"float-end mt-3"},{default:l(()=>[t.edit?c("",!0):(d(),p(I,{key:0,onClick:a[8]||(a[8]=S=>{e.dialog=!1,e.inputproduksi=e.inputbahan=e.inputbarang=[]}),btn_title:"Batal"})),t.edit?c("",!0):(d(),p(Z,{key:1,onClick:e.validate,btn_title:"Simpan",class:"ms-2"},null,8,["onClick"]))]),_:1})]),_:1})]),_:1}),n(v,{modelValue:e.dialog5,"onUpdate:modelValue":a[12]||(a[12]=S=>e.dialog5=S),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(re,{class:"py-5 px-7 rounded-xl mx-auto","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(d(),p(Y,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[9]||(a[9]=S=>e.dialog5=!1)})):c("",!0),n($,{class:"text-center text-grey-darken-3 mb-3 text-button font-weight-bold"},{default:l(()=>[m("KODE GROUP")]),_:1}),n(T,null,{default:l(()=>[n(F,{modelValue:e.searched,"onUpdate:modelValue":a[10]||(a[10]=S=>e.searched=S),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(o,null,{default:l(()=>[(d(!0),P(M,null,N(e.filterkodegroup.slice(0,e.more),(S,x)=>(d(),p(T,{key:x},{default:l(()=>[n(i,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:L=>(e.input_kodegroup(S),e.dialog5=!1)},{default:l(()=>[n(y,{class:"text-caption"},{default:l(()=>[m(k(S),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),e.filterkodegroup.length>e.more?(d(),p(T,{key:0,class:"d-flex justify-center align-center"},{default:l(()=>[n(w,{length:"50"}),n(Y,{onClick:a[11]||(a[11]=S=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[m("lihat lainnya")]),_:1}),n(w,{length:"50"})]),_:1})):c("",!0)]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[13]||(a[13]=S=>e.valert=S),sukses:e.status,message:e.message,status:e.status},null,8,["modelValue","sukses","message","status"])]),_:1},8,["modelValue"])}}}),Gs={class:"d-flex align-center w-100"},zs={class:"d-flex justify-sm-end justify-start"},Ys={props:["cetak","tema","user","window","windowH"],data(){return{filter:!1,drawer:null,search:"",periode:[],dialog2:!1,confirmdialog:!1,loading:!0,valert:!1,authority:"",status:null,message:"",pageTitle:"produksi barang",selectCategory:"semua",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_produksi",order:"desc"}],filtered:{periode:[]},items:"",detailbahan:"",head:"",detailbhn:"",detailbrg:"",detailbarang:"",groupbarang:"",getbarang:"",getKonversi:"",getbahan:"",temp:"",select_kode:[]}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getProduksiHead(this.periode);this.detailbahan=await D.getProDBahan(this.periode),this.detailbarang=await D.getProDBarang(this.periode);let a=ce.items(e,this.detailbahan,this.detailbarang);this.items=ce.noDuplicate(a),this.groupbarang=await D.getGroupBarang(),this.getbarang=await D.getBarang(),this.getKonversi=await D.getKonversi(),this.loading=!1}else return await D.logout()},inputhead(t,e,a){D.postProduksi(t,e,a).then(()=>{this.message="Data Berhasil Ditambahkan",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(i=>{this.status=!1,this.message=i.response.data,this.valert=!0})},del(){D.deleteProduksi(this.head,this.detailbhn,this.detailbrg).then(()=>{this.message="Data Berhasil Dibatalkan",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.message=t.response.data,this.valert=!0})},confirm(t,e,a){this.confirmdialog=!0,this.head=t,this.detailbrg=e,this.detailbhn=a},selected(){return this.fetchData()},input_kodegroup(t){let e=[],a=[];for(let i=0;i<this.groupbarang.length;i++)this.groupbarang[i].kode_group==t&&e.push(this.groupbarang[i].kode_barang);for(let i=0;i<this.getbarang.length;i++)for(let o=0;o<e.length;o++)this.getbarang[i].kode_barang==e[o]&&a.push({kode_group:t,no_produksi:this.getbarang[i].no_produksi,kode_barang:this.getbarang[i].kode_barang,nama_barang:this.getbarang[i].nama_barang,hs_code:this.getbarang[i].hs_code,jumlah:this.getbarang[i].jumlah,satuan:this.getbarang[i].satuan,no_urut:this.getbarang[i].no_urut,nilai:this.getbarang[i].nilai});return this.temp=a,this.select_kode=e},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=ce.headers,i=this.items;f.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()}},mounted(){this.fetchData(),this.page()}},Ws=Object.assign(Ys,{__name:"ProduksiBarang",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-responsive"),b=r("v-btn"),V=r("v-row"),w=r("v-sheet"),j=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=B=>e.filter=B),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"","max-date":new Date,modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=B=>e.filtered.periode[0]=B),filter:!0,tema:t.tema},null,8,["max-date","modelValue","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"","min-date":e.filtered.periode[0],modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=B=>e.filtered.periode[1]=B),filter:!0,tema:t.tema},null,8,["min-date","modelValue","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(j,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"mt-n4 mb-2"},{default:l(()=>[n(h,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[s("div",Gs,[g(C).routes(e.authority,"Tambah Produksi Baru")?(d(),p(Ye,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,headers:g(ce).headItem,items:e.items,groupbarang:e.groupbarang,getbarang:e.getbarang,getKonversi:e.getKonversi,onInput_kodegroup:e.input_kodegroup,onInputhead:e.inputhead,select_kode:e.temp},null,8,["window","windowH","tema","headers","items","groupbarang","getbarang","getKonversi","onInput_kodegroup","onInputhead","select_kode"])):c("",!0)])]),_:1}),n(h,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[s("div",zs,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=B=>e.search=B),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{onClick:a[4]||(a[4]=B=>e.filter=!e.filter)}),n(b,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=B=>e.fetchData())})])]),_:1})]),_:1}),n(w,{height:t.window>776?"94%":"87%",class:"bg-white rounded-xl"},{default:l(()=>[n(g(pe),{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=B=>e.sortBy=B),id:"tbl_exporttable_to_xls","items-per-page":e.items.length,headers:g(ce).headers,items:e.items,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption h-100 pa-2 rounded-xl bg-white",height:t.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.tgl_produksi":l(({item:B})=>[m(k(g(f).formatDate(B.raw.tgl_produksi)),1)]),"item.jml_barang_jadi":l(({item:B})=>[m(k(g(f).numb(B.raw.jml_barang_jadi,2,!0)),1)]),"item.jumlah":l(({item:B})=>[m(k(g(f).numb(B.raw.jumlah,2,!0)),1)]),"item.actions":l(({item:B})=>[n(Ye,{window:t.window,windowH:t.windowH,hapus:g(C).routes(e.authority,"Batal Pembelian"),batalbtn:"Produksi",edit:!0,detailbahan:g(ce).bahan(B.raw.no_produksi,e.detailbahan),detailbarang:g(ce).barang(B.raw.no_produksi,e.detailbarang),onConfirm:e.confirm,headItem:g(ce).headItem,item:B.raw,headers:g(ce).headers},null,8,["window","windowH","hapus","detailbahan","detailbarang","onConfirm","headItem","item","headers"])]),_:1},8,["sort-by","items-per-page","headers","items","search","height"])]),_:1},8,["height"]),n(be,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=B=>e.confirmdialog=B),object:e.pageTitle,item:e.head.no_produksi,mess:"Membatalkan"},{yesButton:l(()=>[n(Z,{onClick:a[7]||(a[7]=B=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{class:"me-2",onClick:a[8]||(a[8]=B=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=B=>e.valert=B),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Xs=["BC25","BC41"],Qs=[{title:"menunggu",key:"open"},{title:"selesai",key:"true"}],eo=[{title:"Nomor Pengeluaran",key:"no_penjualan"},{title:"Tanggal Keluar",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Total Penjualan",key:"total_penjualan"},{title:"",key:"actions",sortable:!1}],to=[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],ao={no_penjualan:"",tgl_penjualan:"",tipe_dokumen:"",no_dokumen:"",tgl_dokumen:"",kode_pelanggan:"",kode_group:"",total_penjualan:"",tgl_input:f.day(),user_input:"admin",tgl_batal:"",user_batal:"",status:"status"},no=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)t[i].kode_pelanggan==e[o].kode_pelanggan&&a.push({no_penjualan:t[i].no_penjualan,tgl_penjualan:t[i].tgl_penjualan,tipe_dokumen:t[i].tipe_dokumen,tgl_dokumen:t[i].tgl_dokumen,no_dokumen:t[i].no_dokumen,nama:e[o].nama,kode_pelanggan:e[o].kode_pelanggan,kode_group:t[i].kode_group,user_input:t[i].user_input,user_batal:"",tgl_input:t[i].tgl_input,tgl_batal:t[i].tgl_batal,total_penjualan:t[i].total_penjualan,status:t[i].status});return a},at=(t,e)=>t.length===0?e:e.filter(a=>t.includes(a.tipe_dokumen)),lo=(t,e)=>{let a=[];for(let i=0;i<t.length;i++)t[i].no_penjualan==e&&a.push(t[i]);return a},io=(t,e,a)=>{let i=at(t,e);return a.length===0?i:i.filter(o=>a.includes(o.status))},so=(t,e)=>{let a=[];for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)e[i].no_penjualan==t[o].no_penjualan&&a.push({no_penjualan:e[i].no_penjualan,kode_barang:e[i].kode_barang,nama_barang:e[i].nama_barang,hs_code:e[i].hs_code,jumlah:e[i].jumlah,jumlah_terkirim:e[i].jumlah_terkirim,satuan:e[i].satuan,harga_jual:e[i].harga_jual,tipe_dokumen:t[o].tipe_dokumen,no_dokumen:t[o].no_dokumen,tgl_dokumen:t[o].tgl_dokumen,kode_pelanggan:t[o].kode_pelanggan,kode_group:t[o].kode_group,total_penjualan:t[o].total_penjualan});return a},le={tipedokumen:Xs,status:Qs,headers:eo,headDetails:to,datainput:ao,items:no,pilihtipe:at,penjualan:lo,checkstatus:io,item_blmterikirim:so};const oo={key:0,class:"d-flex justify-space-between w-100 flex-wrap"},ro={style:{width:"300px"}},uo={class:"d-flex justify-space-between"},mo=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Penjualan",-1),ho={class:"d-flex justify-space-between"},po=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Penjualan",-1),go={style:{width:"300px"}},co={class:"d-flex justify-space-between"},fo=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Pelanggan",-1),_o={class:"d-flex justify-space-between"},bo=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Kode Group",-1),ko={style:{width:"300px"}},vo={class:"d-flex justify-space-between"},wo=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tipe Dokumen",-1),yo={class:"d-flex justify-space-between"},jo=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Dokumen",-1),Vo={class:"d-flex justify-space-between"},Co=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Dokumen",-1),Do={key:0,class:"d-flex justify-space-between w-100 flex-wrap"},$o={style:{width:"300px"}},Po={class:"d-flex justify-space-between"},Bo=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Penjualan",-1),To={class:"d-flex justify-space-between"},So=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Keluar",-1),Uo={style:{width:"300px"}},xo={class:"d-flex justify-space-between"},Ho=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Pelanggan",-1),Lo={class:"d-flex justify-space-between"},Ko=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Kode Group",-1),Mo={style:{width:"300px"}},Oo={class:"d-flex justify-space-between"},No=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tipe Dokumen",-1),Jo={class:"d-flex justify-space-between"},Ro=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Dokumen",-1),Io={class:"d-flex justify-space-between"},Zo=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Dokumen",-1),Fo=["pembelianbaru","pembeliandetl"],Eo={class:"mx-auto mt-5 w-75"},Ao={key:0,class:"d-flex justify-space-between"},qo=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah",-1),Go={key:1,class:"d-flex justify-space-between"},zo=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah",-1),Yo={key:2,class:"d-flex justify-space-between"},Wo=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Harga",-1),Xo={key:3,class:"d-flex justify-space-between"},Qo=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Harga",-1),er={class:"d-flex justify-space-between"},tr=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Total Harga",-1),ar={key:0,class:"d-flex me-5 ms-auto"},nr={class:"d-flex mb-0 mt-auto me-5 ms-auto"},lr={key:0,class:"d-flex justify-center align-center"},ir={props:["tema","window","windowH","hapus","pembelianbaru","namaPelanggan","laporan","groupbarang","barang","batalbtn","penjualan","pemasukan","alamatBongkar","namaTujuan","datainput","pageTitle","pengeluaran","dokumenpjl","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category"],data(){return{dialog:!1,dialog2:!1,dialog3:!1,dialog4:!1,dialogb:!1,dialogkodeg:!1,valid:!1,more:0,detaildial:[],arr:[],tipe_dokumen:["BC25","BC41"],searched:"",nama:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",tujuan_bongkar:"",pembelian_input:"",inputdata:this.datainput,kurs:"",pemasukan_detail:"",penjualan_detail:[this.penjualan],required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="60vh":t="50vh":this.window<1500&&(this.windowH>800?t="60vh":t="55vh"):this.edit||(this.window>1500?this.windowH>800?t="40vh":t="32vh":this.window<1500&&(this.windowH>800?t="40vh":t="37vh")),t},filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.alamatBongkar.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filterkodegroup(){let t=[];for(let a=0;a<this.groupbarang.length;a++)t.push(this.groupbarang[a].kode_group);return f.removeDuplicate(t).filter(a=>a.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{lainnya(){let t=this.more+10;this.more=t},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.items,this.penjualan)},tipeDokumen(t){this.inputdata.kode_group=t;let e="";return t.slice(0,4)=="BC23"&&(e="BC25"),t.slice(0,4)=="BC40"&&(e="BC41"),t.slice(0,9)=="PPKEK-LDP"&&(e="BC25"),t.slice(0,11)=="PPKEK-TLDDP"&&(e="BC41"),t.slice(0,10)=="PPKEK-TDDP"&&(e="BC41"),this.inputdata.tipe_dokumen=e},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t,e){let a=[];for(let i=0;i<t.length;i++)e=="jumlah"&&a.push(t[i].jumlah),e=="nilai"&&a.push(t[i].jumlah*t[i].harga_jual);return a.reduce((i,o)=>i+o,0)},pilihObjek(t){this.inputdata.kode_pelanggan=t.kode_pelanggan,this.namasupplier=t.nama,this.dialog4=!1},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++)e.push({no_penjualan:this.pembelian_input[a].no_penjualan,kode_barang:this.pembelian_input[a].kode_barang,nama_barang:this.pembelian_input[a].nama_barang,hs_code:this.pembelian_input[a].hs_code,jumlah:this.pembelian_input[a].jumlah,jumlah_terkirim:this.pembelian_input[a].jumlah_terkirim,satuan:this.pembelian_input[a].satuan,harga_jual:this.pembelian_input[a].harga_jual,total_terjual:this.pembelian_input[a].total_terjual,no_urut:a+1});this.$emit("inputhead",this.inputdata,e)}}},mounted(){}},qe=Object.assign(ir,{__name:"PengeluaranDetail",setup(t){return(e,a)=>{const i=r("v-icon"),o=r("v-btn"),u=r("v-list-item"),h=r("v-list"),b=r("v-menu"),V=r("v-toolbar-title"),w=r("v-spacer"),j=r("v-toolbar"),B=r("v-form"),y=r("v-span"),$=r("v-if"),H=r("v-card-title"),_=r("v-card-subtitle"),T=r("v-divider"),K=r("v-container"),ue=r("v-card"),re=r("v-div"),Y=r("v-dialog");return d(),p(Y,{modelValue:e.dialog,"onUpdate:modelValue":a[15]||(a[15]=v=>e.dialog=v),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:v})=>[t.edit?c("",!0):(d(),p(ie,A({key:0,icon:"mdi-plus",btn_title:"Tambah Baru"},v),null,16)),n(b,null,{activator:l(({props:S})=>[t.edit?(d(),p(o,A({key:0,id:"menu-actions",size:"small",variant:"text",color:"grey-darken-2"},S,{icon:""}),{default:l(()=>[n(i,null,{default:l(()=>[m("mdi-dots-vertical")]),_:1})]),_:2},1040)):c("",!0)]),default:l(()=>[n(h,null,{default:l(()=>[n(u,A({class:"text-caption",density:"compact"},v),{default:l(()=>[m("Lihat Data")]),_:2},1040),!t.laporan&&t.hapus?(d(),p(u,{key:0,class:"text-caption",density:"compact",onClick:a[0]||(a[0]=S=>e.confirm())},{default:l(()=>[m("Batal Pengeluaran")]),_:1})):c("",!0)]),_:2},1024)]),_:2},1024)]),default:l(()=>[n(ue,null,{default:l(()=>[n(j,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(o,{icon:"",dark:"",onClick:a[1]||(a[1]=v=>(e.inputdata={},e.pembelian_input=[],e.dialog=!1)),size:"small"},{default:l(()=>[n(i,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(V,{class:"text-button mt-1"},{default:l(()=>[m(k("DETAIL "+t.pageTitle),1)]),_:1}),n(w)]),_:1}),n(K,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(d(),P("div",oo,[s("div",ro,[s("div",uo,[mo,n(U,{label:"No Penjualan","model-value":t.items.no_penjualan,readonly:""},null,8,["model-value"])]),s("div",ho,[po,n(U,{label:"Tgl Penjualan","model-value":g(f).formatDate(t.items.tgl_penjualan),readonly:""},null,8,["model-value"])])]),s("div",go,[s("div",co,[fo,n(U,{label:"Pelanggan","model-value":t.items.nama||t.namaPelanggan,readonly:""},null,8,["model-value"])]),s("div",_o,[bo,n(U,{label:"Kode Group","model-value":t.items.kode_group,readonly:""},null,8,["model-value"])])]),s("div",ko,[s("div",vo,[wo,n(U,{label:"Tipe Dokumen","model-value":t.items.tipe_dokumen,readonly:""},null,8,["model-value"])]),s("div",yo,[jo,n(U,{label:"No Dokumen","model-value":t.items.no_dokumen,readonly:""},null,8,["model-value"])]),s("div",Vo,[Co,n(U,{label:"Tgl Dokumen","model-value":g(f).formatDate(t.items.tgl_dokumen),readonly:""},null,8,["model-value"])])])])):c("",!0),n(B,{onSubmit:a[9]||(a[9]=Se(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[!t.edit&&t.pengeluaran?(d(),P("div",Do,[s("div",$o,[s("div",Po,[Bo,n(U,{label:"No Pengeluaran",modelValue:e.inputdata.no_penjualan,"onUpdate:modelValue":a[2]||(a[2]=v=>e.inputdata.no_penjualan=v),readonly:"",class:"bg-grey-lighten-4"},null,8,["modelValue"])]),s("div",To,[So,n(R,{label:"Tgl Keluar","min-date":g(f).last_month(),"max-date":new Date,modelValue:e.inputdata.tgl_penjualan,"onUpdate:modelValue":a[3]||(a[3]=v=>e.inputdata.tgl_penjualan=v),rules:e.required,tema:t.tema},null,8,["min-date","max-date","modelValue","rules","tema"])])]),s("div",Uo,[s("div",xo,[Ho,t.edit?c("",!0):(d(),p(ze,{key:0,window:t.window,label:"Pelanggan",objectFilter:t.pelanggan,onPilihObjek:e.pilihObjek,cardTitle:"PELANGGAN","max-width":"400",rules:e.required},null,8,["window","objectFilter","onPilihObjek","rules"]))]),s("div",Lo,[Ko,n(U,{label:"Kode Group",onClick:a[4]||(a[4]=v=>(e.dialogkodeg=!0,e.more=15)),modelValue:e.inputdata.kode_group,"onUpdate:modelValue":a[5]||(a[5]=v=>e.inputdata.kode_group=v),readonly:"",rules:e.required},null,8,["modelValue","rules"])])]),s("div",Mo,[s("div",Oo,[No,n(U,{id:"tipe",label:"Tipe Dokumen",modelValue:e.inputdata.tipe_dokumen,"onUpdate:modelValue":a[6]||(a[6]=v=>e.inputdata.tipe_dokumen=v),rules:e.required,readonly:""},null,8,["modelValue","rules"])]),s("div",Jo,[Ro,n(U,{label:"No Dokumen",modelValue:e.inputdata.no_dokumen,"onUpdate:modelValue":a[7]||(a[7]=v=>e.inputdata.no_dokumen=v),rules:e.required},null,8,["modelValue","rules"])]),s("div",Io,[Zo,n(R,{label:"Tgl Dokumen",modelValue:e.inputdata.tgl_dokumen,"onUpdate:modelValue":a[8]||(a[8]=v=>e.inputdata.tgl_dokumen=v),"min-date":g(f).last_month(),"max-date":new Date,rules:e.required,tema:t.tema},null,8,["modelValue","min-date","max-date","rules","tema"])])])])):c("",!0)]),_:1},512),t.edit?c("",!0):(d(),P("div",{key:1,pembelianbaru:t.pembelianbaru,pembeliandetl:t.pembeliandetl,class:"text-sm-left text-center my-2"},[n(He,{window:t.window,dialog_title:"Data Barang",onReset:e.reset,pengeluaran:!0,inptbarang:!0,barang:t.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,btn:t.btn,width:"400"},null,8,["window","onReset","barang","itemDetail","onPemasukanitem","btn"])],8,Fo)),s("div",null,[n(g(pe),{headers:t.headDetails,items:t.edit?t.penjualan:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 mt-2 border-sm rounded-lg h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(d(),p(y,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+k(g(f).numb(g(X).sum(t.penjualan)))+" / Total harga: "+k(g(f).numb(e.jumlahtotal(t.penjualan,"nilai"),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(d(),p(y,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+k(g(f).numb(e.jumlahtotal(e.pembelian_input,"jumlah")))+" / Total harga: "+k(g(f).numb(e.jumlahtotal(e.pembelian_input,"nilai"),2,!0)),1)]),_:1}))]),"item.jumlah":l(({item:v})=>[m(k(g(f).numb(v.raw.jumlah)),1)]),"item.jumlah_terkirim":l(({item:v})=>[m(k(g(f).numb(v.raw.jumlah_terkirim)),1)]),"item.harga_jual":l(({item:v})=>[m(k(g(f).numb(v.raw.harga_jual,2,!0)),1)]),"item.total_terjual":l(({item:v})=>[t.edit?(d(),p($,{key:0},{default:l(()=>[m(k(g(f).numb(v.raw.jumlah*v.raw.harga_jual,2,!0)),1)]),_:2},1024)):c("",!0),t.edit?c("",!0):(d(),p($,{key:1},{default:l(()=>[m(k(g(f).numb(v.raw.total_terjual,2,!0)),1)]),_:2},1024))]),"item.tipe_dokumen":l(()=>[m(k(t.dokumenpjl.tipe_dokumen),1)]),"item.no_dokumen":l(()=>[m(k(t.dokumenpjl.no_dokumen),1)]),"item.actions":l(({item:v,index:S})=>[n(Te,{modelValue:e.detaildial[S],"onUpdate:modelValue":x=>e.detaildial[S]=x},{titlecard:l(()=>[n(H,{class:"text-center text-grey-darken-3 text-button font-weight-bold"},{default:l(()=>[m(k(v.raw.nama_barang),1)]),_:2},1024),n(_,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(k(v.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[s("div",Eo,[t.edit?(d(),P("div",Ao,[qo,n(U,{label:"Jumlah","model-value":g(f).numb(v.raw.jumlah),active:"true",readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])])):c("",!0),t.edit?c("",!0):(d(),P("div",Go,[zo,n(he,{label:"Jumlah",modelValue:e.pembelian_input[S].jumlah,"onUpdate:modelValue":x=>e.pembelian_input[S].jumlah=x,active:"true","hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])])),t.edit?(d(),P("div",Yo,[Wo,n(U,{label:"Harga","model-value":g(f).numb(v.raw.harga_jual,2,!0),readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])])):c("",!0),t.edit?c("",!0):(d(),P("div",Xo,[Qo,n(he,{label:"Harga",modelValue:e.pembelian_input[S].harga_jual,"onUpdate:modelValue":x=>e.pembelian_input[S].harga_jual=x,"hide-details":"",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])])),s("div",er,[tr,n(U,{label:"Total Harga","model-value":t.edit?g(f).numb(v.raw.harga_jual*v.raw.jumlah):e.pembelian_input[S].harga_jual*e.pembelian_input[S].jumlah,readonly:"","hide-details":"",class:"mb-3"},null,8,["model-value"])])]),n(T,{class:"mb-5"}),t.edit?c("",!0):(d(),P("div",ar,[n(I,{btn_title:"Hapus",onClick:x=>(e.deleteditem(v.raw),e.detaildial[S]=!1),hidden:t.disable,class:"me-2"},{default:l(()=>[m("Hapus")]),_:2},1032,["onClick","hidden"]),n(Z,{btn_title:"Simpan",hidden:t.disable,onClick:x=>e.detaildial[S]=!1},{default:l(()=>[m("Simpan")]),_:2},1032,["hidden","onClick"])]))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["headers","items","height"])]),s("div",nr,[t.edit?c("",!0):(d(),p(I,{key:0,onClick:a[10]||(a[10]=v=>(e.dialog=!1,e.inputdata={},e.pembelian_input=[])),btn_title:"Batal",class:"mb-3"})),t.edit?c("",!0):(d(),p(Z,{key:1,onClick:e.validate,hidden:t.disable,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick","hidden"]))])]),_:1})]),_:1}),n(Y,{modelValue:e.dialogkodeg,"onUpdate:modelValue":a[14]||(a[14]=v=>e.dialogkodeg=v),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(ue,{class:"py-5 px-7 rounded-xl mx-auto bg-light","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(d(),p(o,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[11]||(a[11]=v=>e.dialogkodeg=!1)})):c("",!0),n(H,{class:"text-center text-grey-darken-3 mb-3 text-button font-weight-bold"},{default:l(()=>[m("KODE GROUP")]),_:1}),n(re,null,{default:l(()=>[n(F,{modelValue:e.searched,"onUpdate:modelValue":a[12]||(a[12]=v=>e.searched=v),label:"Search",class:"mb-4"},null,8,["modelValue"])]),_:1}),n(h,{class:"bg-light"},{default:l(()=>[(d(!0),P(M,null,N(e.filterkodegroup.slice(0,e.more),(v,S)=>(d(),P("div",{key:S},[n(u,{style:{cursor:"pointer"},class:"text-caption",density:"compact",onClick:x=>(e.tipeDokumen(v),e.dialogkodeg=!1)},{default:l(()=>[m(k(v),1)]),_:2},1032,["onClick"])]))),128)),e.filterkodegroup.length>e.more?(d(),P("div",lr,[n(T,{length:"50"}),n(o,{onClick:a[13]||(a[13]=v=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[m("lihat lainnya")]),_:1}),n(T,{length:"50"})])):c("",!0)]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),sr={class:"d-flex align-center w-100"},or={class:"d-flex align-center justify-sm-end justify-start mt-md-1 mt-0"},rr={props:["cetak","tema","user","window","windowH"],data(){return{filter:!1,search:"",periode:"",checkStatus:[],datapelanggan:"",dialog2:!1,confirmdialog:!1,loading:!0,authority:"",status:null,valert:!1,message:"",pageTitle:"pengeluaran barang",selectdokumen:[],btnTitle:"Tambah Data",btn:"Tambah Barang",cardTitle:"Detail Barang",fullscreen:"fullscreen",sortBy:[{key:"no_penjualan",order:"desc"}],filtered:{selectdokumen:[],periode:[],status:[]},penjualan_head:"",penjualan_detail:"",head:"",detail:"",groupbarang:"",barang:""}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getPenjualanHead(this.periode);this.datapelanggan=await D.getPelanggan(),this.penjualan_head=le.items(e,this.datapelanggan),this.penjualan_detail=await D.getPenjualanDetail(this.periode),this.groupbarang=await D.getGroupBarang(),this.barang=await D.getBarang(),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},inputhead(t,e){D.postPengeluaran(t,e).then(()=>{this.message="Data Berhasil Ditambahkan",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){D.deletePengeluaran(this.head,this.detail).then(()=>{this.message="Data Berhasil Dibatalkan",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1},2500)}).catch(t=>{this.status=!1,this.message=t.response.data,this.valert=!0})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=le.headers,i=this.penjualan_head;f.print(t,e,a,i)},page(){return this.$emit("page",this.pageTitle)},reset(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.filtered.selectdokumen=[],this.filtered.status=[],f.day(),this.selectdokumen=[],this.checkStatus=[],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.checkStatus=this.filtered.status,this.selected(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.selected()}},dr=Object.assign(rr,{__name:"PengeluaranBarang",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-responsive"),b=r("v-btn"),V=r("v-row"),w=r("v-data-table"),j=r("v-sheet"),B=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[4]||(a[4]=y=>e.filter=y),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,null,{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=y=>e.filtered.periode[0]=y),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=y=>e.filtered.periode[1]=y),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(d(!0),P(M,null,N(g(le).tipedokumen,(y,$)=>(d(),p(ke,{key:$,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=H=>e.filtered.selectdokumen=H),label:y,value:y},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Status")]),_:1}),n(o,{class:"mb-6"}),(d(!0),P(M,null,N(g(le).status,(y,$)=>(d(),p(ke,{key:$,modelValue:e.filtered.status,"onUpdate:modelValue":a[3]||(a[3]=H=>e.filtered.status=H),label:y.title,value:y.key},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(B,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(h,{class:"d-flex align-center mb-sm-0 mb-1 me-sm-2 me-0",width:"200","max-width":"350"},{default:l(()=>[s("div",sr,[g(C).routes(e.authority,"Tambah Penjualan Baru")?(d(),p(qe,{key:0,window:t.window,windowH:t.windowH,tema:t.tema,batalbtn:"Pengeluaran",datainput:g(le).datainput,pengeluaran:!0,groupbarang:e.groupbarang,pelanggan:e.datapelanggan,datatext:e.datatext,pageTitle:e.pageTitle,btn:e.btn,headDetails:g(le).headDetails,headers:g(le).headers,items:g(le).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),barang:e.barang,search:e.search,category:e.category,selectCategory:e.selectCategory,alpha:e.alpha,onInputhead:e.inputhead},null,8,["window","windowH","tema","datainput","groupbarang","pelanggan","datatext","pageTitle","btn","headDetails","headers","items","barang","search","category","selectCategory","alpha","onInputhead"])):c("",!0)])]),_:1}),n(h,{class:"me-sm-0 ms-sm-auto ms-0 me-auto",width:"200","max-width":"450"},{default:l(()=>[s("div",or,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[5]||(a[5]=y=>e.search=y),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{onClick:a[6]||(a[6]=y=>e.filter=!e.filter)}),n(b,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[7]||(a[7]=y=>e.fetchData())})])]),_:1})]),_:1}),n(j,{height:t.window>776?"94%":"87%",class:"bg-white rounded-xl"},{default:l(()=>[n(w,{"sort-by":e.sortBy,"onUpdate:sortBy":a[8]||(a[8]=y=>e.sortBy=y),id:"tbl_exporttable_to_xls",headers:g(le).headers,items:g(le).checkstatus(e.selectdokumen,e.penjualan_head,e.checkStatus),search:e.search,"items-per-page":e.penjualan_head.length,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption rounded-xl pa-3 bg-white h-100",height:t.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.total_penjualan":l(({item:y})=>[m(k(g(f).numb(y.raw.total_penjualan,2,!0)),1)]),"item.tgl_penjualan":l(({item:y})=>[m(k(g(f).formatDate(y.raw.tgl_penjualan)),1)]),"item.actions":l(({item:y})=>[n(qe,{window:t.window,windowH:t.windowH,hapus:g(C).routes(e.authority,"Batal Penjualan"),onConfirm:e.confirm,batalbtn:"Pengeluaran",namaPelanggan:g(Be).namaPelanggan(g(Be),y.raw.kode_pelanggan),penjualan:g(le).penjualan(e.penjualan_detail,y.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:g(le).headDetails,items:y.raw,headers:g(le).headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","windowH","hapus","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","headers","search","category","selectCategory"])]),_:1},8,["sort-by","headers","items","search","items-per-page","height"])]),_:1},8,["height"]),n(be,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[11]||(a[11]=y=>e.confirmdialog=y),object:e.pageTitle,item:e.head.no_penjualan,mess:"Membatalkan"},{yesButton:l(()=>[n(Z,{class:"ms-2",onClick:a[9]||(a[9]=y=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{onClick:a[10]||(a[10]=y=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[12]||(a[12]=y=>e.valert=y),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),ur=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"",key:"actions",sortable:!1}],mr=[{title:"No Pengiriman",key:"no_pengiriman",sortable:!0},{title:"Tgl Pengiriman",key:"tgl_pengiriman"},{title:"Pelanggan",key:"namaplg"},{title:"Tujuan Bongkar",key:"nama"},{title:"Supir",key:"supir"},{title:"Polisi",key:"no_polisi"},{title:"Kode Group",key:"kode_group"},{title:"Nama Barang",key:"nama_barang"},{title:"Hs Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"",key:"actions",sortable:!1}],hr=[{title:"No Penjualan",key:"no_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Kode Group",key:"kode_group"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"Jumlah",key:"jumlah"},{title:"Satuan",key:"satuan"},{title:"Kode Konversi",key:"kode_konversi"},{title:"Nama Konversi",key:"nama_konversi"},{title:"Jumlah Konversi",key:"jumlah_konversi"},{title:"Satuan Konversi",key:"satuan_konversi"},{title:"",key:"actions",sortable:!1}],pr={no_pengiriman:"",tgl_pengiriman:"",kode_pelanggan:"",kode_alamat_bongkar:"",supir:"",no_polisi:"",user_input:"",tgl_input:"",tgl_batal:"",user_batal:"",keterangan:"",status:""},Le=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)e[o].no_pengiriman==t&&(a=="nama"?i.push(e[o].nama_barang):i=e[o]);return a=="nama"?[...new Set(i)].toString():i},gr=(t,e,a,i)=>{let o=[];for(let u=0;u<t.length;u++)for(let h=0;h<e.length;h++)for(let b=0;b<a.length;b++)t[u].kode_pelanggan==e[h].kode_pelanggan&&t[u].kode_alamat_bongkar==a[b].kode_pelanggan&&o.push({no_pengiriman:t[u].no_pengiriman,tgl_pengiriman:t[u].tgl_pengiriman,kode_pelanggan:e[h].kode_pelanggan,keterangan:t[u].keterangan,kode_alamat_bongkar:t[u].kode_alamat_bongkar,alamat:a[b].alamat,alamat_pelanggan:e[h].alamat,kabupaten:a[b].kabupaten,supir:t[u].supir,no_polisi:t[u].no_polisi,user_input:t[u].user_input,user_batal:t[u].user_batal,tgl_input:t[u].tgl_input,tgl_batal:t[u].tgl_batal,nama:a[b].nama,namaplg:e[h].nama,kode_barang:Le(t[u].no_pengiriman,i).kode_barang,kode_group:Le(t[u].no_pengiriman,i).kode_group,hs_code:Le(t[u].no_pengiriman,i).hs_code,satuan:Le(t[u].no_pengiriman,i).satuan,nama_barang:Le(t[u].no_pengiriman,i,"nama")});return o},cr=t=>t.filter((a,i)=>i===t.findIndex(o=>a.nama_barang===o.nama_barang)),fr=(t,e,a)=>{let i=[];for(let o=0;o<e.length;o++)for(let u=0;u<a.length;u++)e[o].no_pengiriman==t&&e[o].no_penjualan==a[u].no_penjualan&&i.push({no_penjualan:e[o].no_penjualan,tipe_dokumen:a[u].tipe_dokumen,no_dokumen:a[u].no_dokumen,kode_group:e[o].kode_group,kode_barang:e[o].kode_barang,nama_barang:e[o].nama_barang,hs_code:e[o].hs_code,jumlah:e[o].jumlah,satuan:e[o].satuan});return i},_r=t=>{let e=[];for(let a=0;a<t.length;a++)e.push({kode_barang:t[a].kode_barang,kode_konversi:t[a].kode_konversi,nama:t[a].nama_konversi,satuan_konversi:t[a].satuan_konversi,berat:t[a].berat,status:t[a].status});return e},de={headers:ur,headDetails:hr,datainput:pr,headersLaporan:mr,items:gr,details:fr,noDuplicate:cr,konversi:_r};const br={key:0,class:"d-flex justify-space-between w-100 flex-wrap"},kr={style:{width:"300px"}},vr={class:"d-flex justify-space-between"},wr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Pengiriman",-1),yr={class:"d-flex justify-space-between"},jr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Pengiriman",-1),Vr={style:{width:"300px"}},Cr={class:"d-flex justify-space-between"},Dr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Supir",-1),$r={class:"d-flex justify-space-between"},Pr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Polisi",-1),Br={style:{width:"300px"}},Tr={class:"d-flex justify-space-between"},Sr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Pelanggan",-1),Ur={key:0,class:"d-flex justify-space-between"},xr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tujuan Bongkar",-1),Hr={key:0,class:"d-flex justify-space-between w-100 flex-wrap"},Lr={style:{width:"300px"}},Kr={class:"d-flex justify-space-between"},Mr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Pengiriman",-1),Or={class:"d-flex justify-space-between"},Nr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tgl Pengiriman",-1),Jr={style:{width:"300px"}},Rr={class:"d-flex justify-space-between"},Ir=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Pelanggan",-1),Zr={class:"d-flex justify-space-between"},Fr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Tujuan Bongkar",-1),Er={style:{width:"300px"}},Ar={class:"d-flex justify-space-between"},qr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Supir",-1),Gr={class:"d-flex justify-space-between"},zr=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"No Polisi",-1),Yr={key:1,class:"text-sm-left text-center my-2"},Wr={key:0,class:"d-flex justify-space-between"},Xr=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah (Kg)",-1),Qr={key:1,class:"d-flex justify-space-between"},ed={class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},td={key:2,class:"d-flex justify-space-between"},ad={class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},nd={key:3,class:"d-flex justify-space-between"},ld=s("span",{class:"text-caption d-flex align-center",style:{width:"90px","max-width":"90px"}},"Jumlah Konversi",-1),id={key:4,class:"d-flex justify-space-between"},sd=s("span",{class:"text-caption",style:{width:"90px","max-width":"90px"}},"Satuan Konversi",-1),od={key:0,class:"d-flex me-5 ms-auto"},rd={key:2,class:"d-flex mb-0 mt-auto me-5 ms-auto"},dd={class:"vh-100"},ud=s("br",null,null,-1),md={key:0,class:"d-flex justify-center align-center"},hd={props:["tema","window","windowH","alamatBgkr","hapus","pjl_blmterkirm","pembelianbaru","namaPelanggan","detailkirim","nokirim","nopjl","pjl_detail","alamatBongkar","groupbarang","batalbtn","pengiriman","pemasukan","totalpenjualan","namaTujuan","datainput","pageTitle","pengeluaran","no","tipe","namaSupplier","pengirimanDetail","pembelian","pelanggan","supplier","pembeliandetl","edit","kirim","headers","items","actIcon","icon","btncolor","search","iVariant","headDetails","details","disable","btn","datatext","itemDetail","category","barangKonversi","belumkirim","belumkirim_detail"],data(){return{dialog:!1,dialog4:!1,dialogbongkar:!1,valid:!1,more:0,btnmore:!1,moretext:"lihat lainnya",status:"",message:"",valert:!1,detaildial:[],tipe_dokumen:["BC25","BC41"],searched:"",barang:"",kirim_detail:"",item_blmterkirim:"",namasupplier:"",dataitem:this.items,nama_supplier:"",nama_pelanggan:"",pembelian_input:"",kode_pelanggan:this.namaPelanggan,inputdata:this.datainput,kurs:"",required:[t=>t?!0:"harus diisi !"]}},created(){if(this.edit){let t=(this.dataitem.kurs/1).toFixed(3).replace(".",",");this.kurs=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},computed:{heightSizing(){let t="";return this.edit?this.window>1500?this.windowH>800?t="65vh":t="63vh":this.window<1500&&(this.windowH>800,t="63vh"):this.edit||(this.window>1500?this.windowH>800?t="50vh":t="43vh":this.window<1500&&(this.windowH>800?t="50vh":t="43vh")),t},filtersupplier(){return this.supplier.filter(t=>t.nama.toLowerCase().includes(this.searched.toLowerCase()))},filteralamat(){return this.searched!=""?this.searchObj(this.alamatBongkar):this.alamatBongkar},filterkodegroup(){return this.groupbarang.filter(t=>t.kode_group.toLowerCase().includes(this.searched.toLowerCase()))}},methods:{async fetchData(){if(this.edit){let t=[];for(let i=0;i<this.nopjl.length;i++)t.push(await D.getHeadPenjualan(this.nopjl[i]));let e=[];for(let i=0;i<this.pjl_detail.length;i++)for(let o=0;o<t.length;o++)this.pjl_detail[i].no_penjualan==t[o][0].no_penjualan&&e.push({no_penjualan:this.pjl_detail[i].no_penjualan,tipe_dokumen:t[o][0].tipe_dokumen,no_dokumen:t[o][0].no_dokumen,kode_group:this.pjl_detail[i].kode_group,kode_barang:this.pjl_detail[i].kode_barang,kode_konversi:this.pjl_detail[i].kode_konversi,nama_konversi:this.pjl_detail[i].nama_konversi,nama_barang:this.pjl_detail[i].nama_barang,hs_code:this.pjl_detail[i].hs_code,jumlah:this.pjl_detail[i].jumlah,jumlah_konversi:this.pjl_detail[i].jumlah_konversi,satuan_konversi:this.pjl_detail[i].satuan_konversi,satuan:this.pjl_detail[i].satuan,no_urut:this.pjl_detail[i].no_urut,nilai:this.pjl_detail[i].nilai});const a=[...new Set(e.map(JSON.stringify))].map(JSON.parse);this.kirim_detail=a}},lainnya(){let t=this.more+200;this.more=t},checkStok(t,e){t.jumlah>t.jumlah_blmterkirim?(this.status="warn",this.message="Jumlah melebihi sisa penjualan",this.valert=!0,this.detaildial[e]=!0):this.detaildial[e]=!1},searchObj(t){let e={};return e=t.filter(a=>a.nama.toLowerCase().includes(this.searched.toLowerCase())),e==""&&(e=t.filter(a=>a.alamat.toLowerCase().includes(this.searched.toLowerCase())),e==""&&(e=t.filter(a=>a.kabupaten.toLowerCase().includes(this.searched.toLowerCase())))),e},itemmasuk(t){this.pembelian_input=t},confirm(){this.$emit("confirm",this.dataitem,this.kirim_detail)},totalharga(t){if(this.dataitem.no_penjualan==t)return f.numb(this.dataitem.total_penjualan)},deleteditem(t){for(let e=0;e<this.pembelian_input.length;e++)t==this.pembelian_input[e]&&this.pembelian_input.splice(e,1)},jumlahtotal(t){let e=[];for(let a=0;a<t.length;a++)e.push(t[a].jumlah);return e.reduce((a,i)=>a+i,0)},async validate(){const{valid:t}=await this.$refs.form.validate();if(t){let e=[];for(let a=0;a<this.pembelian_input.length;a++){let i="";this.pembelian_input[a].kode_konversi!=""?i="":i=this.pembelian_input[a].kode_barang,e.push({no_penjualan:this.pembelian_input[a].no_penjualan,kode_barang:i,jumlah:this.pembelian_input[a].jumlah,jumlah_konversi:this.pembelian_input[a].jumlah_konversi,kode_konversi:this.pembelian_input[a].kode_konversi,no_urut:1})}this.$emit("inputhead",this.inputdata,e)}}},mounted(){this.fetchData()}},Ge=Object.assign(hd,{__name:"PengirimanDetail",setup(t){return(e,a)=>{const i=r("v-list-item"),o=r("v-icon"),u=r("v-btn"),h=r("v-toolbar-title"),b=r("v-spacer"),V=r("v-toolbar"),w=r("v-form"),j=r("v-span"),B=r("v-card-title"),y=r("v-card-subtitle"),$=r("v-sheet"),H=r("v-divider"),_=r("v-container"),T=r("v-card"),K=r("v-div"),ue=r("v-for"),re=r("v-list"),Y=r("v-dialog");return d(),p(Y,{modelValue:e.dialog,"onUpdate:modelValue":a[21]||(a[21]=v=>e.dialog=v),transition:"dialog-bottom-transition",fullscreen:""},{activator:l(({props:v})=>[t.edit?c("",!0):(d(),p(ie,A({key:0},v,{btn_title:"Tambah Baru",icon:"mdi-plus"}),null,16)),t.edit?(d(),p(i,A({key:1},v,{class:"text-caption"}),{default:l(()=>[m(" Lihat Detail ")]),_:2},1040)):c("",!0),t.edit&&t.hapus?(d(),p(i,{key:2,class:"text-caption",onClick:a[0]||(a[0]=S=>e.confirm())},{default:l(()=>[m(" Batal Pengiriman ")]),_:1})):c("",!0)]),default:l(()=>[n(T,null,{default:l(()=>[n(V,{class:"bg-blue-custom text-white",height:"50"},{default:l(()=>[n(u,{icon:"",dark:"",onClick:a[1]||(a[1]=v=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1}),size:"small"},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(h,{class:"text-button mt-1"},{default:l(()=>[m(k("DETAIL "+t.pageTitle),1)]),_:1}),n(b)]),_:1}),n(_,{class:"h-100 d-flex flex-column mt-5"},{default:l(()=>[t.edit?(d(),P("div",br,[s("div",kr,[s("div",vr,[wr,n(U,{label:"No Pengiriman",modelValue:e.dataitem.no_pengiriman,"onUpdate:modelValue":a[2]||(a[2]=v=>e.dataitem.no_pengiriman=v),readonly:""},null,8,["modelValue"])]),s("div",yr,[jr,n(U,{label:"Tgl Pengiriman","model-value":g(f).formatDate(e.dataitem.tgl_pengiriman),readonly:""},null,8,["model-value"])])]),s("div",Vr,[s("div",Cr,[Dr,n(U,{label:"Supir","model-value":e.dataitem.supir,readonly:""},null,8,["model-value"])]),s("div",$r,[Pr,n(U,{label:"No Polisi","model-value":e.dataitem.no_polisi,readonly:""},null,8,["model-value"])])]),s("div",Br,[s("div",Tr,[Sr,n(U,{label:"Pelanggan","model-value":e.dataitem.namaplg,readonly:""},null,8,["model-value"])]),t.alamatBgkr?(d(),P("div",Ur,[xr,n(U,{label:"Tujuan Bongkar","model-value":e.dataitem.nama,readonly:""},null,8,["model-value"])])):c("",!0)])])):c("",!0),n(w,{onSubmit:a[11]||(a[11]=Se(()=>{},["prevent"])),ref:"form",class:"mx-3"},{default:l(()=>[t.edit?c("",!0):(d(),P("div",Hr,[s("div",Lr,[s("div",Kr,[Mr,n(U,{label:"No Pengiriman",modelValue:e.inputdata.no_pengiriman,"onUpdate:modelValue":a[3]||(a[3]=v=>e.inputdata.no_pengiriman=v),rules:e.required},null,8,["modelValue","rules"])]),s("div",Or,[Nr,n(R,{label:"Tgl Pengiriman",modelValue:e.inputdata.tgl_pengiriman,"onUpdate:modelValue":a[4]||(a[4]=v=>e.inputdata.tgl_pengiriman=v),"max-date":new Date,"min-date":g(f).last_month(),rules:e.required,tema:t.tema},null,8,["modelValue","max-date","min-date","rules","tema"])])]),s("div",Jr,[s("div",Rr,[Ir,n(U,{onClick:a[5]||(a[5]=v=>e.dialog4=!0),label:"Pelanggan",modelValue:e.inputdata.nama,"onUpdate:modelValue":a[6]||(a[6]=v=>e.inputdata.nama=v),rules:e.required,readonly:""},null,8,["modelValue","rules"])]),s("div",Zr,[Fr,n(U,{onClick:a[7]||(a[7]=v=>(e.dialogbongkar=!0,e.more=100)),label:"Tujuan Bongkar",modelValue:e.inputdata.tujuan,"onUpdate:modelValue":a[8]||(a[8]=v=>e.inputdata.tujuan=v),rules:e.required,readonly:""},null,8,["modelValue","rules"])])]),s("div",Er,[s("div",Ar,[qr,n(U,{label:"Supir",modelValue:e.inputdata.supir,"onUpdate:modelValue":a[9]||(a[9]=v=>e.inputdata.supir=v),rules:e.required},null,8,["modelValue","rules"])]),s("div",Gr,[zr,n(U,{label:"No Polisi",modelValue:e.inputdata.no_polisi,"onUpdate:modelValue":a[10]||(a[10]=v=>e.inputdata.no_polisi=v),rules:e.required},null,8,["modelValue","rules"])])])]))]),_:1},512),t.edit?c("",!0):(d(),P("div",Yr,[n(He,{window:t.window,dialog_title:"pengeluaran belum terkirim",onReset:e.reset,nokirim:e.inputdata.no_pengiriman,blmkirim:!0,getKonversi:t.barangKonversi,pjl_blmterkirm:t.pjl_blmterkirm,belumkirim:t.belumkirim,belumkirim_detail:t.belumkirim_detail,barang:e.barang,itemDetail:t.itemDetail,onPemasukanitem:e.itemmasuk,pengiriman:!0,penjualan:e.penjualan,inptbarang:!0,btn:t.btn,width:"400"},null,8,["window","onReset","nokirim","getKonversi","pjl_blmterkirm","belumkirim","belumkirim_detail","barang","itemDetail","onPemasukanitem","penjualan","btn"])])),s("div",null,[n(g(pe),{headers:t.headDetails,items:t.edit?e.kirim_detail:e.pembelian_input,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption py-1 rounded-lg border-sm mt-2 h-100",height:e.heightSizing},{bottom:l(()=>[t.edit?(d(),p(j,{key:0,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+k(g(f).numb(e.jumlahtotal(e.kirim_detail),2,!0)),1)]),_:1})):c("",!0),t.edit?c("",!0):(d(),p(j,{key:1,class:"float-end me-5 text-caption font-weight-medium"},{default:l(()=>[m("Total Jumlah : "+k(g(f).numb(e.jumlahtotal(e.pembelian_input),1,!0)),1)]),_:1}))]),"item.jumlah":l(({item:v})=>[m(k(g(f).numb(v.raw.jumlah,1,!0)),1)]),"item.actions":l(({item:v,index:S})=>[n(Te,{modelValue:e.detaildial[S],"onUpdate:modelValue":x=>e.detaildial[S]=x,persistent:!t.edit},{titlecard:l(()=>[n(B,{class:"text-center text-grey-darken-3 text-button font-weight-bold"},{default:l(()=>[m(k(v.raw.konversi?v.raw.nama_konversi:v.raw.nama_barang),1)]),_:2},1024),n(y,{class:"text-caption text-center mb-2 mt-n3"},{default:l(()=>[m(k(v.raw.konversi?v.raw.kode_konversi:v.raw.hs_code),1)]),_:2},1024)]),content:l(()=>[n($,{class:"mx-auto mt-5 w-75"},{default:l(()=>[t.edit?(d(),P("div",Wr,[Xr,n(U,{label:"Jumlah (Kg)","model-value":g(f).numb(v.raw.jumlah),active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["model-value"])])):c("",!0),!t.edit&&!v.raw.konversi?(d(),P("div",Qr,[s("span",ed,k("Jumlah ("+v.raw.satuan+")"),1),n(he,{label:"Jumlah ("+v.raw.satuan+")",modelValue:e.pembelian_input[S].jumlah,"onUpdate:modelValue":x=>e.pembelian_input[S].jumlah=x,active:"true",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["label","modelValue","onUpdate:modelValue"])])):c("",!0),t.edit&&v.raw.jumlah_konversi?(d(),P("div",td,[s("span",ad,k("Jumlah ("+v.raw.satuan_konversi+")"),1),n(U,{label:"Jumlah ("+v.raw.satuan_konversi+")","model-value":v.raw.jumlah_konversi,active:"true","hide-details":"",class:"mb-3",readonly:""},null,8,["label","model-value"])])):c("",!0),!t.edit&&v.raw.konversi?(d(),P("div",nd,[ld,n(he,{label:"Jumlah Konversi",modelValue:e.pembelian_input[S].jumlah_konversi,"onUpdate:modelValue":x=>e.pembelian_input[S].jumlah_konversi=x,active:"true",class:"mb-3",options:{currency:"EUR",currencyDisplay:"hidden"}},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0),!t.edit&&v.raw.konversi?(d(),P("div",id,[sd,n(U,{label:"Satuan Konversi",modelValue:e.pembelian_input[S].satuan_konversi,"onUpdate:modelValue":x=>e.pembelian_input[S].satuan_konversi=x,active:"true",class:"mb-3"},null,8,["modelValue","onUpdate:modelValue"])])):c("",!0)]),_:2},1024),n(H,{class:"mt-3 mb-5"}),t.edit?c("",!0):(d(),P("div",od,[n(I,{btn_title:"Hapus",onClick:x=>(e.deleteditem(v.raw),e.detaildial[S]=!1),class:"me-2"},{default:l(()=>[m("Hapus")]),_:2},1032,["onClick"]),n(Z,{btn_title:"Simpan",onClick:x=>e.checkStok(v.raw,S)},{default:l(()=>[m("Simpan")]),_:2},1032,["onClick"])]))]),_:2},1032,["modelValue","onUpdate:modelValue","persistent"])]),_:1},8,["headers","items","height"])]),t.edit?c("",!0):(d(),P("div",rd,[n(I,{onClick:a[12]||(a[12]=v=>{e.pembelian_input=[],e.inputdata=[],e.dialog=!1}),btn_title:"Batal",class:"mb-3"}),n(Z,{onClick:e.validate,btn_title:"Simpan",class:"ms-2 mb-3"},null,8,["onClick"])]))]),_:1})]),_:1}),n(Y,{modelValue:e.dialog4,"onUpdate:modelValue":a[15]||(a[15]=v=>e.dialog4=v),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(T,{class:"py-5 px-7 rounded-xl mx-auto bg-light","min-width":"300",width:t.window<600?"87vw":"50vw",height:"90vh","max-width":"400"},{default:l(()=>[n(K,null,{default:l(()=>[t.window<500?(d(),p(u,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[13]||(a[13]=v=>e.dialog4=!1)})):c("",!0),n(B,{class:"text-center text-grey-darken-3 mb-3 text-button font-weight-bold"},{default:l(()=>[m("PELANGGAN")]),_:1}),n(F,{modelValue:e.searched,"onUpdate:modelValue":a[14]||(a[14]=v=>e.searched=v),label:"Search"},null,8,["modelValue"])]),_:1}),n(re,{class:"bg-light"},{default:l(()=>[(d(!0),P(M,null,N(e.filtersupplier,(v,S)=>(d(),p(ue,{key:S},{default:l(()=>[n(i,{density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:x=>{e.inputdata.kode_pelanggan=v.kode_pelanggan,e.inputdata.nama=v.nama,e.dialog4=!1}},{default:l(()=>[m(k(v.nama),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["width"])]),_:1},8,["modelValue"]),n(Y,{modelValue:e.dialogbongkar,"onUpdate:modelValue":a[19]||(a[19]=v=>e.dialogbongkar=v),transition:"dialog-bottom-transition",width:"auto"},{default:l(()=>[n(T,{class:"py-5 px-7 rounded-xl mx-auto bg-light","min-width":"300",height:"90vh","max-width":"400"},{default:l(()=>[t.window<500?(d(),p(u,{key:0,icon:"mdi-close",class:"absolute",variant:"text",onClick:a[16]||(a[16]=v=>e.dialogbongkar=!1)})):c("",!0),n(B,{class:"text-center text-grey-darken-3 mb-3 text-button font-weight-bold"},{default:l(()=>[m("ALAMAT BONGKAR")]),_:1}),s("div",null,[n(F,{modelValue:e.searched,"onUpdate:modelValue":a[17]||(a[17]=v=>e.searched=v),label:"Search"},null,8,["modelValue"])]),n(re,{class:"my-4 bg-light"},{default:l(()=>[s("div",dd,[(d(!0),P(M,null,N(e.filteralamat.slice(0,e.more),(v,S)=>(d(),p(i,{key:S,density:"compact",style:{cursor:"pointer"},class:"text-caption",onClick:x=>{e.inputdata.kode_alamat_bongkar=v.kode_pelanggan,e.inputdata.tujuan=v.nama,e.dialogbongkar=!1}},{default:l(()=>[n(j,{class:"font-weight-medium"},{default:l(()=>[m(k(v.nama),1)]),_:2},1024),m(),ud,n(j,{class:"text-small"},{default:l(()=>[m(k(v.alamat)+" - "+k(v.kabupaten),1)]),_:2},1024),n(H)]),_:2},1032,["onClick"]))),128))]),e.filteralamat.length>e.more?(d(),P("div",md,[n(H,{length:"50"}),n(u,{onClick:a[18]||(a[18]=v=>e.lainnya()),variant:"text",size:"small",class:"text-caption"},{default:l(()=>[m("lihat lainnya")]),_:1}),n(H,{length:"50"})])):c("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[20]||(a[20]=v=>e.valert=v),status:e.status,message:e.message},null,8,["modelValue","status","message"])]),_:1},8,["modelValue"])}}});const Ue=t=>(Ve("data-v-4118e953"),t=t(),Ce(),t),pd={class:"d-flex mt-3"},gd={class:"d-flex text-body-2"},cd=Ue(()=>s("br",null,null,-1)),fd=Ue(()=>s("br",null,null,-1)),_d={class:"d-flex text-body-2"},bd={class:"d-flex flex-column"},kd={class:"d-flex flex-column"},vd=Ue(()=>s("thead",null,[s("tr",null,[s("th",{class:"text-left bg-white"},"No"),s("th",{class:"text-left bg-white"},"Nama Barang"),s("th",{class:"text-left bg-white"},"Qty"),s("th",{class:"text-left bg-white"},"Satuan"),s("th",{class:"text-left bg-white"},"Berat (KG)"),s("th",{class:"text-left bg-white"},"Keterangan(Ex.BC)")])],-1)),wd={class:"text-body-2"},yd={class:"text-left"},jd={class:"text-left"},Vd={class:"text-left"},Cd={class:"text-left"},Dd={class:"text-left"},$d={class:"text-left"},Pd=Ue(()=>s("td",null,null,-1)),Bd=Ue(()=>s("td",null,null,-1)),Td=Ue(()=>s("td",null,null,-1)),Sd=Ue(()=>s("td",null,null,-1)),Ud={class:"text-left font-weight-bold"},xd={class:"d-flex flex-column align-start justify-space-between text-body-2"},Hd={class:"d-flex justify-space-between w-100 mt-15"},Ld={props:["items","namaTujuan","pengiriman","alamatPelanggan","nokirim","pjl_detail","nopjl"],data(){return{jalan:!1,kirim:this.pengiriman,detailpengiriman:"",penjualanHead:""}},computed:{kirim_detail(){let t=[];for(let a=0;a<this.pjl_detail.length;a++)for(let i=0;i<this.penjualanHead.length;i++)this.pjl_detail[a].no_penjualan==this.penjualanHead[i][0].no_penjualan&&t.push({no_penjualan:this.pjl_detail[a].no_penjualan,tipe_dokumen:this.penjualanHead[i][0].tipe_dokumen,no_dokumen:this.penjualanHead[i][0].no_dokumen,kode_group:this.pjl_detail[a].kode_group,kode_barang:this.pjl_detail[a].kode_barang,nama_barang:this.pjl_detail[a].nama_barang,hs_code:this.pjl_detail[a].hs_code,jumlah:this.pjl_detail[a].jumlah,satuan:this.pjl_detail[a].satuan,jumlah_konversi:this.pjl_detail[a].jumlah_konversi,satuan_konversi:this.pjl_detail[a].satuan_konversi});return[...new Set(t.map(JSON.stringify))].map(JSON.parse)},nama_brg(){let t=[];for(let e=0;e<this.kirim_detail.length;e++)t.push(this.kirim_detail[e].nama_barang);return[...new Set(t)]}},methods:{async fetchData(){let t=[];for(let e=0;e<this.nopjl.length;e++)t.push(await D.getHeadPenjualan(this.nopjl[e]));this.penjualanHead=t},dataitems(t,e){let a=[],i=[],o=[],u="";for(let h=0;h<this.kirim_detail.length;h++)t==this.kirim_detail[h].nama_barang&&(e=="qty"&&a.push(this.kirim_detail[h].jumlah_konversi),e=="jumlah"&&i.push(this.kirim_detail[h].jumlah),e=="keterangan"&&o.push(`
`+this.kirim_detail[h].no_dokumen+"/"+this.kirim_detail[h].tipe_dokumen.slice(2)),e=="satuan"&&(u=this.kirim_detail[h].satuan_konversi));if(e=="qty")return a.reduce((h,b)=>h+b,0);if(e=="jumlah")return i.reduce((h,b)=>h+b,0);if(e=="keterangan")return[...new Set(o.map(JSON.stringify))].map(JSON.parse).toString();if(e=="satuan")return u},print(){window.print()},sum(){let t=[];for(let e=0;e<this.kirim_detail.length;e++)t.push(this.kirim_detail[e].jumlah);return t.reduce((e,a)=>e+a,0)}},mounted(){this.fetchData()}},Kd=Object.assign(Ld,{__name:"SuratJalan",setup(t){return(e,a)=>{const i=r("v-list-item"),o=r("v-icon"),u=r("v-btn"),h=r("v-span"),b=r("v-spacer"),V=r("v-toolbar"),w=r("v-divider"),j=r("v-table"),B=r("v-text"),y=r("v-div"),$=r("v-sheet"),H=r("v-card"),_=r("v-dialog");return d(),p(_,{modelValue:e.jalan,"onUpdate:modelValue":a[2]||(a[2]=T=>e.jalan=T),fullscreen:"",scrim:!1},{activator:l(({props:T})=>[n(i,A({class:"text-caption"},T),{default:l(()=>[m("Cetak Surat Jalan")]),_:2},1040)]),default:l(()=>[n(V,{class:"bg-blue-custom",height:"50"},{default:l(()=>[n(u,{icon:"",onClick:a[0]||(a[0]=T=>e.jalan=!1),size:"small",class:"text-white"},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(h,{class:"text-button mt-1 text-white"},{default:l(()=>[m("cetak surat jalan")]),_:1}),n(b),n(u,{icon:"",class:"text-white",onClick:a[1]||(a[1]=T=>e.print())},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-printer")]),_:1})]),_:1})]),_:1}),n(H,{id:"suratjalan",class:"bg-grey-lighten-1 overflow-visible"},{default:l(()=>[n($,{class:"mx-auto text-center py-3 px-7 page"},{default:l(()=>[n(h,{class:"text-h6 font-weight-bold"},{default:l(()=>[m("PT. AURI STEEL METALINDO")]),_:1}),n(w,{thickness:"3",color:"black",class:"border-opacity-100 mt-3 mb-1"}),n(h,{class:"text-h6 font-weight-bold"},{default:l(()=>[m("SURAT JALAN")]),_:1}),s("div",pd,[s("div",gd,[n(h,{class:"me-2"},{default:l(()=>[m("PENERIMA: ")]),_:1}),n(h,{class:"text-start w-75"},{default:l(()=>[m(k(g(f).uppercase(t.items.nama))+" ",1),cd,m(" "+k(g(f).uppercase(t.items.alamat))+" ",1),fd,m(" "+k(g(f).uppercase(t.items.kabupaten)),1)]),_:1})]),n(b),s("div",_d,[s("div",bd,[n(h,{class:"me-2 text-start"},{default:l(()=>[m("No Surat Jalan")]),_:1}),n(h,{class:"me-2 text-start"},{default:l(()=>[m("Tgl Pengiriman")]),_:1}),n(h,{class:"me-2 text-start"},{default:l(()=>[m("Supir/No Polisi")]),_:1})]),s("div",kd,[n(h,{class:"text-start"},{default:l(()=>[m(": "+k(t.items.no_pengiriman),1)]),_:1}),n(h,{class:"text-start"},{default:l(()=>[m(": "+k(g(f).formatDate(t.items.tgl_pengiriman))+" ",1),n(h,{contenteditable:""},{default:l(()=>[m("/ "+k(g(f).getTime()),1)]),_:1})]),_:1}),n(h,{class:"text-start"},{default:l(()=>[m(": "+k(t.items.supir)+"/"+k(t.items.no_polisi),1)]),_:1})])])]),n(j,{density:"compact",class:"text-body-2 mt-2"},{default:l(()=>[vd,s("tbody",wd,[(d(!0),P(M,null,N(e.nama_brg,(T,K)=>(d(),P("tr",{key:K},[s("td",yd,k(K+1),1),s("td",jd,k(T),1),s("td",Vd,k(e.dataitems(T,"qty")),1),s("td",Cd,k(e.dataitems(T,"satuan")),1),s("td",Dd,k(g(f).numb(e.dataitems(T,"jumlah"))),1),s("td",$d,k(e.dataitems(T,"keterangan")),1)]))),128)),s("tr",null,[Pd,Bd,Td,Sd,s("td",Ud,k(g(f).numb(e.sum())),1)])])]),_:1}),s("div",xd,[n(B,{class:"d-flex flex-column align-start"},{default:l(()=>[m(" Keterangan "),n(h,{class:"ms-3"},{default:l(()=>[m("1. Surat Jalan ini merupakan bukti penerimaan barang")]),_:1}),n(h,{class:"ms-3"},{default:l(()=>[m("2. Surat Jalan ini bukan bukti penjualan (Faktur/Invoice)")]),_:1}),m(" Barang sudah diterima dalam keadaan Baik dan Cukup oleh : ")]),_:1}),s("div",Hd,[n(y,null,{default:l(()=>[m("(Penerima)")]),_:1}),n(y,null,{default:l(()=>[m("(Supir)")]),_:1}),n(y,null,{default:l(()=>[m("(Bag. Gudang)")]),_:1}),n(y,null,{default:l(()=>[m("(Bag. Exim)")]),_:1})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Md=J(Kd,[["__scopeId","data-v-4118e953"]]),Od={components:{VDataTable:pe},props:["items","headers"],data(){return{search:""}},methods:{},mounted(){}};function Nd(t,e,a,i,o,u){const h=r("v-data-table");return d(),p(h,{headers:a.headers,items:a.items,density:"compact",class:"text-caption pt-2 pb-12 h-100 border-sm rounded-lg"},null,8,["headers","items"])}const Jd=J(Od,[["render",Nd]]);const xe=t=>(Ve("data-v-91742084"),t=t(),Ce(),t),Rd={class:"d-flex text-body-2 text-regular my-10 preview"},Id={class:"d-flex flex-column"},Zd={class:"d-flex flex-column"},Fd=xe(()=>s("br",null,null,-1)),Ed=xe(()=>s("thead",null,[s("tr",null,[s("th",{class:"text-medium text-center"},"Barang"),s("th",{class:"text-medium text-center"},"Qty"),s("th",{class:"text-medium text-center"},"Keterangan"),s("th",{class:"text-medium text-center"},"Catatan"),s("th",{class:"text-medium text-center"},"Berat total (Kg)")])],-1)),Ad={class:"text-body-2"},qd={class:"text-medium"},Gd={class:"text-medium",contenteditable:""},zd={class:"text-medium",contenteditable:""},Yd=xe(()=>s("td",{class:"text-medium",contenteditable:""},null,-1)),Wd={class:"text-medium text-right"},Xd=xe(()=>s("td",null,null,-1)),Qd={class:"text-medium font-weight-bold",contenteditable:""},eu=xe(()=>s("td",null,null,-1)),tu=xe(()=>s("td",null,null,-1)),au={class:"text-right text-medium font-weight-bold"},nu={class:"d-flex flex-column justify-space-between h-100"},lu=xe(()=>s("div",{class:"w-100 d-flex justify-space-between text-caption text-preview"},[s("span",null,"yang mengajukan"),s("span",null,"mengetahui"),s("span",null,"mengetahui"),s("span",null,"ekspedisi")],-1)),iu={class:"d-block text-right font-italic text-caption text-preview text-grey-darken-3 float-bottom mb-2"},su={component:{tableMain:Jd},props:["items","namaTujuan","pengiriman","alamatPelanggan","nokirim","pjl_detail","nopjl"],data(){return{doDialog:null,kirim:this.pengiriman,detailpengiriman:"",penjualanHead:"",konversi:""}},computed:{kirim_detail(){let t=[];for(let a=0;a<this.pjl_detail.length;a++)for(let i=0;i<this.penjualanHead.length;i++)this.pjl_detail[a].no_penjualan==this.penjualanHead[i][0].no_penjualan&&t.push({no_penjualan:this.pjl_detail[a].no_penjualan,tipe_dokumen:this.penjualanHead[i][0].tipe_dokumen,no_dokumen:this.penjualanHead[i][0].no_dokumen,kode_group:this.pjl_detail[a].kode_group,kode_barang:this.pjl_detail[a].kode_barang,kode_konversi:this.pjl_detail[a].kode_konversi,nama_konversi:this.pjl_detail[a].nama_konversi,nama_barang:this.pjl_detail[a].nama_barang,hs_code:this.pjl_detail[a].hs_code,jumlah:this.pjl_detail[a].jumlah,satuan:this.pjl_detail[a].satuan,jumlah_konversi:this.pjl_detail[a].jumlah_konversi,satuan_konversi:this.pjl_detail[a].satuan_konversi});return[...new Set(t.map(JSON.stringify))].map(JSON.parse)}},methods:{async fetchData(){let t=[];for(let e=0;e<this.nopjl.length;e++)t.push(await D.getHeadPenjualan(this.nopjl[e]));this.penjualanHead=t,this.konversi=await D.getKonversi()},print(){window.print()},sum(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)t=="qty"?e.push(this.kirim_detail[a].jumlah_konversi):t=="jumlah"&&e.push(this.kirim_detail[a].jumlah);return e.reduce((a,i)=>a+i,0)}},mounted(){this.fetchData()}},ou=Object.assign(su,{__name:"cetakDo",setup(t){return(e,a)=>{const i=r("v-list-item"),o=r("v-icon"),u=r("v-btn"),h=r("v-span"),b=r("v-spacer"),V=r("v-toolbar"),w=r("v-table"),j=r("v-sheet"),B=r("v-card"),y=r("v-dialog");return d(),p(y,{modelValue:e.doDialog,"onUpdate:modelValue":a[2]||(a[2]=$=>e.doDialog=$),fullscreen:"",scrim:!1},{activator:l(({props:$})=>[n(i,A({class:"text-caption"},$),{default:l(()=>[m("Cetak DO")]),_:2},1040)]),default:l(()=>[n(V,{class:"bg-blue-custom",height:"50"},{default:l(()=>[n(u,{icon:"",onClick:a[0]||(a[0]=$=>e.doDialog=!1),size:"small",class:"text-white"},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-close")]),_:1})]),_:1}),n(h,{class:"text-button mt-1 text-white"},{default:l(()=>[m("Cetak DO")]),_:1}),n(b),n(u,{icon:"",class:"text-white",onClick:a[1]||(a[1]=$=>e.print())},{default:l(()=>[n(o,null,{default:l(()=>[m("mdi-printer")]),_:1})]),_:1})]),_:1}),n(B,{id:"do",class:"overflow-auto bg-grey-lighten-1"},{default:l(()=>[n(j,{class:"page mx-auto pa-7"},{default:l(()=>[n(h,{class:"text-h5 font-weight-bold d-flex justify-center"},{default:l(()=>[m("DELIVERY ORDER")]),_:1}),s("div",Rd,[s("div",Id,[n(h,{class:"me-2 space"},{default:l(()=>[m("Tgl Pengiriman")]),_:1}),n(h,{class:"me-2 space"},{default:l(()=>[m("Supir/No Polisi")]),_:1}),n(h,{class:"me-2 space"},{default:l(()=>[m("Tujuan Kirim")]),_:1})]),s("div",Zd,[n(h,{class:"me-2 space"},{default:l(()=>[m(": "+k(g(f).formatDate(t.items.tgl_pengiriman))+" ",1)]),_:1}),n(h,{class:"me-2 space",contenteditable:""},{default:l(()=>[m(":")]),_:1}),n(h,{class:"text-start me-2 space"},{default:l(()=>[m(" : "+k(g(f).uppercase(t.items.namaplg))+" ",1),Fd]),_:1})])]),n(j,{height:"35vh",width:"100%"},{default:l(()=>[n(w,{density:"compact",class:"mt-10 w-100 preview"},{default:l(()=>[Ed,s("tbody",Ad,[(d(!0),P(M,null,N(e.kirim_detail,($,H)=>(d(),P("tr",{key:H},[s("td",qd,k($.nama_konversi?$.nama_konversi:$.nama_barang),1),s("td",Gd,k($.jumlah_konversi),1),s("td",zd,k($.keterangan),1),Yd,s("td",Wd,k($.jumlah),1)]))),128)),s("tr",null,[Xd,s("td",Qd,k(e.sum("qty")),1),eu,tu,s("td",au,k(e.sum("jumlah")),1)])])]),_:1})]),_:1}),s("div",nu,[lu,s("span",iu,"Print Date : "+k(g(f).formatDateTime(new Date)),1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ru=J(ou,[["__scopeId","data-v-91742084"]]),du={class:"d-flex align-center w-100"},uu={class:"d-flex align-center justify-sm-end justify-start"},mu={props:["cetak","tema","user","window","windowH"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",blm_kirim:"",blm_kirim_detail:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"pengiriman barang",selectCategory:"",btn:"Tambah Barang",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:"",barangKonversi:""}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getPengirimanHead(this.periode);this.alamatBongkar=await D.alamatBongkar(),this.pelanggan=await D.getPelanggan(),this.kirim_detail=await D.getPengirimanDetail(this.periode),this.blm_kirim=await D.getBelumTerkirim(),this.blm_kirim_detail=await D.getBelumTerkirimDetail(),this.pjl_blmterkirm=le.item_blmterikirim(this.blm_kirim,this.blm_kirim_detail),this.pengirimanHead=de.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail,this.pjl_blmterkirm);let a=await D.getKonversi();this.barangKonversi=de.konversi(a),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=de.headers,i=this.pengirimanHead;f.print(t,e,a,i)},reset(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()},inputhead(t,e){D.postPengiriman(t,e).then(()=>{this.message="",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){D.deletePengiriman(this.head,this.detail).then(()=>{this.message="Data Berhasil Ditambahkan",this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.message=t.response.data,this.valert=!0})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},hu=Object.assign(mu,{__name:"PengirimanBarang",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-responsive"),b=r("v-btn"),V=r("v-row"),w=r("v-list-item"),j=r("v-list"),B=r("v-menu"),y=r("v-data-table"),$=r("v-sheet"),H=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=_=>e.filter=_),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=_=>e.filtered.periode[0]=_),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=_=>e.filtered.periode[1]=_),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(H,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(h,{class:"d-flex align-center mb-sm-0 mb-1","min-width":"200"},{default:l(()=>[s("div",du,[g(C).routes(e.authority,"Tambah Pengiriman Baru")?(d(),p(Ge,{key:0,tema:t.tema,window:t.window,windowH:t.windowH,pjl_blmterkirm:e.pjl_blmterkirm,onInputhead:e.inputhead,alamatBongkar:e.alamatBongkar,kirim:!0,supplier:e.pelanggan,datainput:g(de).datainput,pageTitle:e.pageTitle,headDetails:g(de).headDetails,details:e.items,headers:g(de).headers,items:e.items,search:e.search,category:g(ee).category,selectCategory:e.selectCategory,datatext:e.datatext,barangKonversi:e.barangKonversi},null,8,["tema","window","windowH","pjl_blmterkirm","onInputhead","alamatBongkar","supplier","datainput","pageTitle","headDetails","details","headers","items","search","category","selectCategory","datatext","barangKonversi"])):c("",!0)])]),_:1}),n(h,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[s("div",uu,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=_=>e.search=_),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{onClick:a[4]||(a[4]=_=>e.filter=!e.filter)}),n(b,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=_=>e.fetchData())})])]),_:1})]),_:1}),n($,{height:t.window>776?"94%":"87%",class:"bg-white rounded-xl"},{default:l(()=>[n(y,{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=_=>e.sortBy=_),"items-per-page":e.pengirimanHead.length,id:"tbl_exporttable_to_xls",headers:g(de).headers,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption rounded-xl bg-white pa-3 h-100",height:t.window>776?"100%":"92%"},{bottom:l(()=>[]),"item.tgl_pengiriman":l(({item:_})=>[m(k(g(f).formatDate(_.raw.tgl_pengiriman)),1)]),"item.nama":l(({item:_})=>[g(C).routes(e.authority,"Alamat Bongkar")?(d(),p(i,{key:0},{default:l(()=>[m(k(_.raw.nama),1)]),_:2},1024)):c("",!0)]),"column.nama":l(({column:_})=>[g(C).routes(e.authority,"Alamat Bongkar")?(d(),p(i,{key:0},{default:l(()=>[m(k(_.title),1)]),_:2},1024)):c("",!0)]),"item.actions":l(({item:_})=>[n(B,{transition:"slide-y-transition"},{activator:l(({props:T})=>[n(Q,A(T,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(j,{density:"compact",class:"px-3"},{default:l(()=>[n(w,{class:"pa-0"},{default:l(()=>[n(Ge,{window:t.window,windowH:t.windowH,hapus:g(C).routes(e.authority,"Batal Pengiriman"),alamatBgkr:g(C).routes(e.authority,"Alamat Bongkar"),batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(_.raw.no_pengiriman),nokirim:_.raw.no_pengiriman,nopjl:e.Penjualandetl(_.raw.no_pengiriman),pjl_detail:e.pjl_detail(_.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:g(de).headDetails,headers:g(de).headers,items:_.raw,disable:!0,belumkirim:e.blm_kirim,belumkirim_detail:e.blm_kirim_detail},null,8,["window","windowH","hapus","alamatBgkr","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items","belumkirim","belumkirim_detail"])]),_:2},1024),g(C).routes(e.authority,"Cetak Surat Jalan")?(d(),p(Md,{key:0,pengiriman:e.Penjualandetl(_.raw.no_pengiriman),items:_.raw,nokirim:_.raw.no_pengiriman,nopjl:e.Penjualandetl(_.raw.no_pengiriman),pjl_detail:e.pjl_detail(_.raw.no_pengiriman)},null,8,["pengiriman","items","nokirim","nopjl","pjl_detail"])):c("",!0),g(C).routes(e.authority,"Cetak DO")?(d(),p(ru,{key:1,pengiriman:e.Penjualandetl(_.raw.no_pengiriman),items:_.raw,nokirim:_.raw.no_pengiriman,nopjl:e.Penjualandetl(_.raw.no_pengiriman),pjl_detail:e.pjl_detail(_.raw.no_pengiriman)},null,8,["pengiriman","items","nokirim","nopjl","pjl_detail"])):c("",!0)]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","items-per-page","headers","items","search","height"])]),_:1},8,["height"]),n(be,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=_=>e.confirmdialog=_),object:e.pageTitle,item:e.head.no_pengiriman,mess:"Membatalkan"},{yesButton:l(()=>[n(Z,{class:"ms-2",onClick:a[7]||(a[7]=_=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{onClick:a[8]||(a[8]=_=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object","item"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=_=>e.valert=_),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),pu={class:"d-flex"},gu={components:{TableVue:se,filterDrawer:te,checkBox:ke,menuList:q,textField:F,BtnFilter:oe,CircularLoader:G},props:["page","cetak","window"],data(){return{drawer:null,search:"",searched:"",periode:[],group_barang:[],kode_barang:[],filter:!1,dialoggb:!1,loading:!0,pageTitle:"laporan stok barang",selectCategory:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",authority:"",items:"",logbrg:"",databarang:"",filtered:{periode:[],kategori_barang:[],group_barang:[],kode_barang:[]}}},computed:{selected(){if(this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.selectCategory.length===0)return fe.stokBarang(this.databarang,this.items);{let t=[],e=fe.stokBarang(this.databarang,this.items).filter(a=>this.selectCategory.includes(a.kategori_barang));for(let a=0;a<e.length;a++)t.push(e[a].kode_barang);return fe.stokBarang(this.databarang,this.items).filter(a=>t.includes(a.kode_barang))}},filter_kodebarang(){let t=fe.noDuplicate(this.selected);return this.kode_barang.length===0?t:t.filter(e=>this.kode_barang.includes(e.kode_barang))},dataItem(){let t=this.filter_kodebarang;return this.group_barang.length===0?t:t.filter(a=>this.group_barang.includes(a.kode_group))},kodeGroup(){let t=[];for(let e=0;e<this.items.length;e++)t.push(this.items[e].kode_group);return f.removeDuplicate(t)}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await D.getGroupBarang(),this.databarang=await D.getBarang(),this.logbrg=await D.getLogBarang(this.periode),this.loading=!1;else return await D.logout()},pages(){return this.$emit("page",this.pageTitle)},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=fe.headStokBarang,i=this.dataItem;f.print(t,e,a,i)},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selectCategory=this.filtered.kategori_barang,this.fetchData(),this.selectCategory?this.selectCategory==[]&&(this.selectCategory=[]):this.selectCategory=[],this.group_barang=this.filtered.group_barang,this.kode_barang=this.filtered.kode_barang},reset(){this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()],this.filtered.group_barang=[],this.filtered.kode_barang=[],this.filtered.kategori_barang=[],this.selectCategory=[],this.group_barang=[]}},mounted(){this.fetchData(),this.pages()}},cu=Object.assign(gu,{__name:"LaporanStok",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-combobox"),b=r("v-btn"),V=r("v-responsive"),w=r("v-row"),j=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[4]||(a[4]=B=>e.filter=B),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=B=>e.filtered.periode[0]=B),"max-date":new Date,filter:!0,tema:e.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=B=>e.filtered.periode[1]=B),class:"mb-4","min-date":e.filtered.periode[0],filter:!0,tema:e.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Kategori Barang")]),_:1}),n(o,{class:"mb-6"}),(d(!0),P(M,null,N(g(ee).category,(B,y)=>(d(),p(ke,{key:y,modelValue:e.filtered.kategori_barang,"onUpdate:modelValue":a[2]||(a[2]=$=>e.filtered.kategori_barang=$),label:B,value:B},null,8,["modelValue","label","value"]))),128)),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Kode Group")]),_:1}),n(o),n(h,{items:e.kodeGroup,modelValue:e.filtered.group_barang,"onUpdate:modelValue":a[3]||(a[3]=B=>e.filtered.group_barang=B),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(j,{class:"pt-9 h-100"},{default:l(()=>[n(w,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(V,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[s("div",pu,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[5]||(a[5]=B=>e.search=B),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{icon:"mdi-tune-vertical",onClick:a[6]||(a[6]=B=>e.filter=!e.filter)}),n(b,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[7]||(a[7]=B=>e.fetchData())})])]),_:1})]),_:1}),n(se,{window:t.window,id:"tbl_exporttable_to_xls",groupbarang:e.items,stok:g(fe).detail(e.databarang,e.items),barang:e.databarang,logbrg:e.logbrg,headers:g(fe).headStokBarang,items:e.dataItem,search:e.search,category:g(ee).category,selectCategory:e.selectCategory,laporanstok:!0},null,8,["window","groupbarang","stok","barang","logbrg","headers","items","search","category","selectCategory"])]),_:1}),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),fu={class:"d-flex"},_u={class:"text-caption font-weight-bold w-100 text-right pe-3"},bu={props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,pageTitle:"laporan pemasukan barang",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",tipedokumen:["BC23","BC40","PPKEK-LDP","PPKEK-TLDDP"],headers:[{title:"Nomor Pembelian",key:"no_pembelian"},{title:"Tanggal Pembelian",key:"tgl_pembelian"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Supplier",key:"kode_supplier"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Total Nilai",key:"total_nilai"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Diterima",key:"jumlah_diterima"},{title:"Satuan",key:"satuan"},{title:"Total Nilai",key:"nilai"},{key:"actions",sortable:!1}],details:"",items:"",pembeliandetl:"",dataitems:"",barang:"",supplier:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=""){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await D.getPemasukanHead(this.periode),this.supplier=await D.getSupplier(),this.pembeliandetl=await D.getPemasukanDetail(this.periode),this.barang=await D.getBarang(),this.dataitems=X.pilihtipe(this.selectdokumen,this.items,this.supplier,this.pembeliandetl,this.barang),this.loading=!1;else return await D.logout()},page(){return this.$emit("page",this.pageTitle)},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.supplier.length;a++)if(t==this.supplier[a].kode_supplier)return this.supplier[a].nama}if(e=="pembelian"){let a=[];for(let i=0;i<this.pembeliandetl.length;i++)this.pembeliandetl[i].no_pembelian==t&&a.push(this.pembeliandetl[i]);return a}if(e=="total")return f.numb(t,2);if(e==="kategori"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="diterima"){for(let a=0;a<this.pembeliandetl.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pembeliandetl[a].no_pembelian){if(e=="diterima")return f.numb(this.pembeliandetl[a].jumlah_diterima);if(this.pembeliandetl[a].kode_barang==this.barang[i].kode_barang){if(e=="kategori")return this.barang[i].kategori_barang;if(e=="namabrg")return this.barang[i].nama_barang;if(e=="hscode")return this.barang[i].hs_code;if(e=="satuan")return this.barang[i].satuan}}}},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_pembelian:this.items[e].no_pembelian,tgl_pembelian:this.items[e].tgl_pembelian,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,nama:this.dataTable(this.items[e].kode_supplier,"nama"),kategori_barang:this.dataTable(this.items[e].no_pembelian,"kategori"),nama_barang:this.dataTable(this.items[e].no_pembelian,"namabrg"),hs_code:this.dataTable(this.items[e].no_pembelian,"hscode"),satuan:this.dataTable(this.items[e].no_pembelian,"satuan"),jumlah_diterima:this.dataTable(this.items[e].no_pembelian,"diterima"),total_nilai:this.dataTable(this.items[e].total_nilai,"total")});return t},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.dataitems;f.print(t,e,a,i)},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()],this.selectdokumen=[],this.getPembelian()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.fetchData()}},ku=Object.assign(bu,{__name:"LaporanPemasukan",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-btn"),b=r("v-responsive"),V=r("v-row"),w=r("v-data-table"),j=r("v-sheet"),B=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=y=>e.filter=y),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=y=>e.filtered.periode[0]=y),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=y=>e.filtered.periode[1]=y),class:"mb-4","min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(d(!0),P(M,null,N(e.tipedokumen,(y,$)=>(d(),p(ke,{key:$,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=H=>e.filtered.selectdokumen=H),label:y,value:y},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(B,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(b,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[s("div",fu,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=y=>e.search=y),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=y=>e.filter=!e.filter)}),n(h,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=y=>e.fetchData())})])]),_:1})]),_:1}),n(j,{height:t.window>776?"92%":"87%",class:"bg-white rounded-xl"},{default:l(()=>[n(w,{id:"tbl_exporttable_to_xls","items-per-page":e.dataitems.length,items:e.dataitems,headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pa-3 rounded-xl bg-white h-100",height:t.window>776?"100%":"92%"},{bottom:l(()=>[s("div",_u,"Total : "+k(e.dataitems.length)+" data",1)]),"item.tgl_pembelian":l(({item:y})=>[m(k(g(f).formatDate(y.raw.tgl_pembelian)),1)]),"item.actions":l(({item:y})=>[n(Ke,{window:t.window,tema:t.tema,batalbtn:"Pemasukan",onConfirm:e.confirm,laporan:!0,namaSupplier:e.dataTable(y.raw.kode_supplier,"nama"),pembelian:e.dataTable(y.raw.no_pembelian,"pembelian"),total:e.dataTable(y.raw.total_nilai,"total"),edit:!0,itemDetail:e.itemDetail,datatext:e.datatext,btn:e.btn,headDetails:e.headDetails,details:[e.details],headers:e.headers,items:y.raw,search:e.search,category:e.tipedokumen,selectCategory:e.selectCategory,pageTitle:e.pageTitle},null,8,["window","tema","onConfirm","namaSupplier","pembelian","total","itemDetail","datatext","btn","headDetails","details","headers","items","search","category","selectCategory","pageTitle"])]),_:1},8,["items-per-page","items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),vu={class:"d-flex"},wu={class:"text-caption font-weight-bold w-100 text-right pe-3"},yu={props:["tema","cetak","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,authority:"",pageTitle:"laporan pengeluaran barang",selectdokumen:[],btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",alpha:null,tipedokumen:["BC25","BC41"],headers:[{title:"Nomor Penjualan",key:"no_penjualan"},{title:"Tgl Penjualan",key:"tgl_penjualan"},{title:"Tipe Dokumen",key:"tipe_dokumen"},{title:"No Dokumen",key:"no_dokumen"},{title:"Tgl Dokumen",key:"tgl_dokumen"},{title:"Pelanggan",key:"nama"},{title:"Kode Group",key:"kode_group"},{title:"Kategori Barang",key:"kategori_barang"},{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Satuan",key:"satuan"},{title:"Jumlah",key:"jumlah"},{title:"",key:"actions",sortable:!1}],headDetails:[{title:"Kode Barang",key:"kode_barang"},{title:"Nama Barang",key:"nama_barang"},{title:"HS Code",key:"hs_code"},{title:"Jumlah",key:"jumlah"},{title:"Jumlah Terkirim",key:"jumlah_terkirim"},{title:"Satuan",key:"satuan"},{title:"Harga Jual",key:"harga_jual"},{title:"Total Harga",key:"total_terjual"},{title:"",key:"actions",sortable:!1}],items:"",pjldetail:"",pelanggan:"",barang:"",filtered:{selectdokumen:[],periode:[]}}},created(){this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()]},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}if(this.authority!="")this.loading=!0,this.items=await D.getPenjualanHead(this.periode),this.pjldetail=await D.getPenjualanDetail(this.periode),this.pelanggan=await D.getPelanggan(),this.barang=await D.getBarang(),this.loading=!1;else return await D.logout()},tglawal(){let t=new Date,e=t.getMonth();return t.setMonth(t.getMonth()-1),t.getMonth()==e&&t.setDate(0),t.setHours(0,0,0,0),t.toJSON().slice(0,10)},pilihtipe(){return this.selectdokumen.length===0?this.items:this.items.filter(t=>this.selectdokumen.includes(t.tipe_dokumen))},updt(){this.fetchData()},page(){return this.$emit("page",this.pageTitle)},namaPelanggan(t){for(let e=0;e<this.pelanggan.length;e++)if(this.pelanggan[e].kode_pelanggan==t)return this.pelanggan[e].nama},penjualan(t){let e=[];for(let a=0;a<this.pjldetail.length;a++)this.pjldetail[a].no_penjualan==t&&e.push(this.pjldetail[a]);return e},dataTable(t,e){if(e==="nama"){for(let a=0;a<this.pelanggan.length;a++)if(t==this.pelanggan[a].kode_pelanggan)return this.pelanggan[a].nama}if(e=="total")return f.numb(t);if(e=="kategori"||e=="kodebrg"||e=="namabrg"||e=="hscode"||e=="satuan"||e=="jumlah"){for(let a=0;a<this.pjldetail.length;a++)for(let i=0;i<this.barang.length;i++)if(t==this.pjldetail[a].no_penjualan){if(e=="kodebrg")return this.pjldetail[a].kode_barang;if(e=="kategori"){if(this.pjldetail[a].kode_barang==this.barang[i].kode_barang)return this.barang[i].kategori_barang}else{if(e=="namabrg")return this.pjldetail[a].nama_barang;if(e=="hscode")return this.pjldetail[a].hs_code;if(e=="satuan")return this.pjldetail[a].satuan;if(e=="jumlah")return f.numb(this.pjldetail[a].jumlah)}}}},close(t){return this.filter=t},print(t){let e=this.pageTitle,a=this.headers,i=this.printdata();f.print(t,e,a,i)},printdata(){let t=[];for(let e=0;e<this.items.length;e++)t.push({no_penjualan:this.items[e].no_penjualan,tgl_penjualan:this.items[e].tgl_penjualan,tipe_dokumen:this.items[e].tipe_dokumen,no_dokumen:this.items[e].no_dokumen,tgl_dokumen:this.items[e].tgl_dokumen,nama:this.dataTable(this.items[e].kode_pelanggan,"nama"),kode_group:this.dataTable(this.items[e].no_penjualan,"kodebrg"),kategori_barang:this.dataTable(this.items[e].no_penjualan,"kategori"),nama_barang:this.dataTable(this.items[e].no_penjualan,"namabrg"),hs_code:this.dataTable(this.items[e].no_penjualan,"hscode"),satuan:this.dataTable(this.items[e].no_penjualan,"satuan"),jumlah:this.dataTable(this.items[e].no_penjualan,"jumlah")});return t},reset(){this.filtered.selectdokumen=[],this.periode=[this.tglawal(),f.day()],this.filtered.periode=[this.tglawal(),f.day()],this.selectdokumen=[],this.getPenjualan()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectdokumen=this.filtered.selectdokumen,this.selectdokumen?this.selectdokumen==[]&&(this.selectdokumen=[]):this.selectdokumen=[]}},mounted(){this.page(),this.updt()}},ju=Object.assign(yu,{__name:"LaporanPengeluaran",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-btn"),b=r("v-responsive"),V=r("v-row"),w=r("v-data-table"),j=r("v-sheet"),B=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=y=>e.filter=y),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=y=>e.filtered.periode[0]=y),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=y=>e.filtered.periode[1]=y),class:"mb-4","min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Tipe Dokumen")]),_:1}),n(o,{class:"mb-6"}),(d(!0),P(M,null,N(e.tipedokumen,(y,$)=>(d(),p(ke,{key:$,modelValue:e.filtered.selectdokumen,"onUpdate:modelValue":a[2]||(a[2]=H=>e.filtered.selectdokumen=H),label:y,value:y},null,8,["modelValue","label","value"]))),128))]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(B,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(b,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[s("div",vu,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=y=>e.search=y),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{icon:"mdi-tune-vertical",onClick:a[5]||(a[5]=y=>e.filter=!e.filter)}),n(h,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[6]||(a[6]=y=>e.fetchData())})])]),_:1})]),_:1}),n(j,{height:t.window>776?"92%":"87%",class:"bg-white rounded-xl"},{default:l(()=>[n(w,{id:"tbl_exporttable_to_xls","items-per-page":e.items.length,items:e.pilihtipe(),headers:e.headers,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pa-3 rounded-xl bg-white h-100",height:t.window>776?"100%":"92%"},{bottom:l(()=>[s("div",wu,"Total : "+k(e.items.length)+" data",1)]),"item.tgl_penjualan":l(({item:y})=>[m(k(g(f).formatDate(y.raw.tgl_penjualan)),1)]),"item.nama":l(({item:y})=>[m(k(e.dataTable(y.raw.kode_pelanggan,"nama")),1)]),"item.kategori_barang":l(({item:y})=>[m(k(e.dataTable(y.raw.no_penjualan,"kategori")),1)]),"item.kode_barang":l(({item:y})=>[m(k(e.dataTable(y.raw.no_penjualan,"kodebrg")),1)]),"item.nama_barang":l(({item:y})=>[m(k(e.dataTable(y.raw.no_penjualan,"namabrg")),1)]),"item.hs_code":l(({item:y})=>[m(k(e.dataTable(y.raw.no_penjualan,"hscode")),1)]),"item.satuan":l(({item:y})=>[m(k(e.dataTable(y.raw.no_penjualan,"satuan")),1)]),"item.jumlah":l(({item:y})=>[m(k(e.dataTable(y.raw.no_penjualan,"jumlah")),1)]),"item.actions":l(({item:y})=>[n(qe,{window:t.window,onConfirm:e.confirm,batalbtn:"Pengeluaran",laporan:!0,namaPelanggan:e.namaPelanggan(y.raw.kode_pelanggan),penjualan:e.penjualan(y.raw.no_penjualan),edit:!0,pengeluaran:!0,pageTitle:e.pageTitle,headDetails:e.headDetails,items:y.raw,details:e.details,headers:e.headers,search:e.search,category:e.category,selectCategory:e.selectCategory,disable:!0},null,8,["window","onConfirm","namaPelanggan","penjualan","pageTitle","headDetails","items","details","headers","search","category","selectCategory"])]),_:1},8,["items-per-page","items","headers","search","height"])]),_:1},8,["height"])]),_:1}),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),Vu={class:"d-flex align-center justify-sm-end justify-start"},Cu={class:"text-caption font-weight-bold w-100 text-right pe-3"},Du={props:["cetak","tema","user","window"],data(){return{drawer:null,search:"",filter:!1,confirmdialog:!1,valert:!1,loading:!0,authority:"",status:"",pjl_terkirim:"",pjl_blmterkirm:"",message:"",periode:[],checkStatus:"menunggu",pageTitle:"laporan pengiriman barang",selectCategory:"",filtered:{periode:[]},sortBy:[{key:"no_pengiriman",order:"desc"}],pengirimanHead:"",penjualanHead:"",head:"",detail:"",kirim_detail:"",pelanggan:"",alamatBongkar:"",nopjl:""}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},methods:{page(){return this.$emit("page",this.pageTitle)},async fetchData(){let t=localStorage.getItem("user");if(t!=null){let e=await D.getOtoritas(t);this.authority=C.otoritas(e)}if(this.authority!=""){this.loading=!0;let e=await D.getPengirimanHead(this.periode);this.alamatBongkar=await D.alamatBongkar(),this.pelanggan=await D.getPelanggan(),this.penjualanHead=await D.getPenjualanHead(this.periode),this.kirim_detail=await D.getPengirimanDetail(this.periode);let a=await D.getBelumTerkirim(),i=await D.getBelumTerkirimDetail();this.pjl_blmterkirm=le.item_blmterikirim(a,i),this.pengirimanHead=de.items(e,this.pelanggan,this.alamatBongkar,this.kirim_detail),this.loading=!1}else return await D.logout()},close(t){return this.filter=t},Penjualandetl(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a].no_penjualan);return e},pjl_detail(t){let e=[];for(let a=0;a<this.kirim_detail.length;a++)this.kirim_detail[a].no_pengiriman==t&&e.push(this.kirim_detail[a]);return e},selected(){this.fetchData()},print(t){let e=this.pageTitle,a=de.headers,i=this.pengirimanHead;f.print(t,e,a,i)},reset(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()],this.selected()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.selected()},inputhead(t,e){D.postPengiriman(t,e).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(a=>{this.status=!1,this.valert=!0,this.message=a.response.data})},del(){D.deletePengiriman(this.head,this.detail).then(()=>{this.status=this.valert=!0,setTimeout(()=>{this.valert=!1,this.$router.go()},2500)}).catch(t=>{this.status=!1,this.valert=!0,this.message=t.response.data})},confirm(t,e){this.confirmdialog=!0,this.head=t,this.detail=e}},mounted(){this.page(),this.fetchData()}},$u=Object.assign(Du,{__name:"LaporanPengiriman",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-btn"),b=r("v-responsive"),V=r("v-row"),w=r("v-list-item"),j=r("v-list"),B=r("v-menu"),y=r("v-sheet"),$=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[2]||(a[2]=H=>e.filter=H),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=H=>e.filtered.periode[0]=H),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=H=>e.filtered.periode[1]=H),"min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n($,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"rounded-t-xl align-end mt-n4 mb-2"},{default:l(()=>[n(b,{class:"me-sm-0 ms-sm-auto ms-0 me-auto","max-width":"450"},{default:l(()=>[s("div",Vu,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[3]||(a[3]=H=>e.search=H),placeholder:"Search",icon:"mdi-magnify",class:"me-2"},null,8,["modelValue"]),g(C).routes(e.authority,"Pengaturan Umum")?(d(),p(q,{key:0,otority:e.authority,icon:"mdi-dots-vertical",items:t.cetak,onResult:e.print},null,8,["otority","items","onResult"])):c("",!0),n(oe,{onClick:a[4]||(a[4]=H=>e.filter=!e.filter)}),n(h,{variant:"text",color:"blue-custom",icon:"mdi-reload",size:"small",class:"rounded-circle",onClick:a[5]||(a[5]=H=>e.fetchData())})])]),_:1})]),_:1}),n(y,{height:t.window>776?"92%":"87%",class:"bg-white rounded-xl"},{default:l(()=>[n(g(pe),{"sort-by":e.sortBy,"onUpdate:sortBy":a[6]||(a[6]=H=>e.sortBy=H),id:"tbl_exporttable_to_xls","items-per-page":e.pengirimanHead.length,headers:g(de).headersLaporan,items:e.pengirimanHead,search:e.search,hover:!0,"fixed-header":!0,density:"compact",class:"text-caption pa-3 bg-white rounded-xl h-100",height:t.window>776?"100%":"92%"},{bottom:l(()=>[s("div",Cu,"Total : "+k(e.pengirimanHead.length)+" data",1)]),"item.tgl_pengiriman":l(({item:H})=>[m(k(g(f).formatDate(H.raw.tgl_pengiriman)),1)]),"item.nama":l(({item:H})=>[g(C).routes(e.authority,"Tujuan Bongkar")?(d(),p(i,{key:0},{default:l(()=>[m(k(H.raw.nama),1)]),_:2},1024)):c("",!0)]),"column.nama":l(({column:H})=>[g(C).routes(e.authority,"Tujuan Bongkar")?(d(),p(i,{key:0},{default:l(()=>[m(k(H.title),1)]),_:2},1024)):c("",!0)]),"item.actions":l(({item:H})=>[n(B,{transition:"slide-y-transition"},{activator:l(({props:_})=>[n(Q,A(_,{icon:"mdi-dots-vertical"}),null,16)]),default:l(()=>[n(j,{density:"compact",class:"px-3"},{default:l(()=>[n(w,{class:"pa-0"},{default:l(()=>[n(Ge,{window:t.window,batalbtn:"Pengiriman",kirim:!0,edit:!0,onConfirm:e.confirm,pengiriman:e.Penjualandetl(H.raw.no_pengiriman),nokirim:H.raw.no_pengiriman,nopjl:e.Penjualandetl(H.raw.no_pengiriman),pjl_detail:e.pjl_detail(H.raw.no_pengiriman),pageTitle:e.pageTitle,headDetails:g(de).headDetails,headers:g(de).headers,items:H.raw,disable:!0},null,8,["window","onConfirm","pengiriman","nokirim","nopjl","pjl_detail","pageTitle","headDetails","headers","items"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["sort-by","items-per-page","headers","items","search","height"])]),_:1},8,["height"]),n(be,{modelValue:e.confirmdialog,"onUpdate:modelValue":a[9]||(a[9]=H=>e.confirmdialog=H),object:e.pageTitle},{yesButton:l(()=>[n(Z,{class:"ms-2",onClick:a[7]||(a[7]=H=>(e.del(),e.confirmdialog=!1)),btn_title:"Ya"})]),cancelButton:l(()=>[n(I,{onClick:a[8]||(a[8]=H=>e.confirmdialog=!1),btn_title:"Batal"})]),_:1},8,["modelValue","object"]),n(z,{modelValue:e.valert,"onUpdate:modelValue":a[10]||(a[10]=H=>e.valert=H),sukses:e.status,message:e.message},null,8,["modelValue","sukses","message"]),n(G,{loading:e.loading},null,8,["loading"])]),_:1})],64)}}}),Pu={class:"d-flex"},Bu={components:{filterDrawer:te,BtnFilter:oe,TextField:F,DatePicker:R,CircularLoader:G},props:["tema","cetak","user","window"],data(){return{drawer:null,search:"",periode:[],filter:!1,loading:!0,akses:"",pageTitle:"laporan log user",btnTitle:"Tambah Data",cardTitle:"Detail Barang",fullscreen:"fullscreen",authority:"",selectuser:[],items:"",users:"",filtered:{selectuser:[],periode:[]}}},created(){this.periode=[f.tglawal(),f.day()],this.filtered.periode=[f.tglawal(),f.day()]},computed:{datauser(){let t=[];for(let e=0;e<this.users.length;e++)t.push(this.users[e].username);return t}},methods:{async fetchData(){let t=localStorage.getItem("user");if(t!=null&&(this.akses=await D.getOtoritas(t),this.authority=C.otoritas(this.akses)),C.routes(this.akses,"Laporan Log User"))this.loading=!0,this.users=await D.getUser(),this.items=await D.getLogUser(this.periode),this.loading=!1;else return await D.logout()},selected(){return this.selectuser.length===0?this.items:this.items.filter(t=>this.selectuser.includes(t.username))},close(t){return this.filter=t},page(){return this.$emit("page",this.pageTitle)},updt(){this.fetchData()},reset(){this.filtered.selectuser=[],this.periode=[this.tglawal(),this.today()],this.filtered.periode=[this.tglawal(),this.today()],this.selectuser=[],this.getLogUser()},filterdata(){let t=this.filtered.periode[0],e=this.filtered.periode[1];this.periode[0]=new Date(t).toJSON().slice(0,10),this.periode[1]=new Date(e).toJSON().slice(0,10),this.updt(),this.selectuser=this.filtered.selectuser,this.selectuser?this.selectuser==[]&&(this.selectuser=[]):this.selectuser=[]}},mounted(){this.page(),this.updt()}},Tu=Object.assign(Bu,{__name:"LaporanLog",setup(t){return(e,a)=>{const i=r("v-span"),o=r("v-divider"),u=r("v-label"),h=r("v-combobox"),b=r("v-responsive"),V=r("v-row"),w=r("v-container");return d(),P(M,null,[n(te,{modelValue:e.filter,"onUpdate:modelValue":a[3]||(a[3]=j=>e.filter=j),onClose:e.close,onReset:e.reset,onFilterdata:e.filterdata},{default:l(()=>[n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("Periode")]),_:1}),n(o),n(u,{class:"text-small mt-4"},{default:l(()=>[m("Tgl Awal")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[0],"onUpdate:modelValue":a[0]||(a[0]=j=>e.filtered.periode[0]=j),"max-date":new Date,filter:!0,tema:t.tema},null,8,["modelValue","max-date","tema"]),n(u,{class:"text-small mt-1"},{default:l(()=>[m("Tgl Akhir")]),_:1}),n(R,{"teleport-center":"",modelValue:e.filtered.periode[1],"onUpdate:modelValue":a[1]||(a[1]=j=>e.filtered.periode[1]=j),class:"mb-4","min-date":e.filtered.periode[0],filter:!0,tema:t.tema},null,8,["modelValue","min-date","tema"]),n(i,{class:"text-caption text-weight-bold"},{default:l(()=>[m("User")]),_:1}),n(o),n(h,{items:e.datauser,modelValue:e.filtered.selectuser,"onUpdate:modelValue":a[2]||(a[2]=j=>e.filtered.selectuser=j),multiple:"",variant:"underlined",density:"compact",class:"overflow-auto","hide-details":"","single-line":"","hide-selected":"",chips:"","closable-chips":""},null,8,["items","modelValue"])]),_:1},8,["modelValue","onClose","onReset","onFilterdata"]),n(w,{class:"pt-9 h-100"},{default:l(()=>[n(V,{"no-gutters":"",class:"mb-2 mt-n4"},{default:l(()=>[n(b,{class:"me-0 ms-auto","max-width":"450"},{default:l(()=>[s("div",Pu,[n(F,{modelValue:e.search,"onUpdate:modelValue":a[4]||(a[4]=j=>e.search=j),placeholder:"Search"},null,8,["modelValue"]),n(oe,{class:"ms-2",onClick:a[5]||(a[5]=j=>e.filter=!e.filter)})])]),_:1})]),_:1}),n(se,{window:t.window,id:"tbl_exporttable_to_xls",headers:g(fe).headLogUser,items:e.selected(),search:e.search,category:e.category,selectCategory:e.selectCategory,log:!0},null,8,["window","headers","items","search","category","selectCategory"])]),_:1}),n(G,{loading:e.loading},null,8,["loading"])],64)}}}),Su="/assets/masuk-4830d5af.png",Uu="/assets/produksi-8fb88688.png",xu="/assets/export-416ed5a4.png",Hu="/assets/deliv-5a36ef94.png",Lu={props:{charts:Object,width:Number},computed:{options(){return{chart:{id:"vuechart-example"},stroke:this.charts.stroke,series:this.charts.series,xaxis:{categories:this.charts.xaxis}}}}};function Ku(t,e,a,i,o,u){const h=r("apexchart");return d(),p(h,{class:"text-black",width:a.width,options:u.options,series:u.options.series},null,8,["width","options","series"])}const We=J(Lu,[["render",Ku]]);const Mu={class:"w-100 bg-light"},Ou={class:"d-flex justify-space-between flex-wrap"},Nu=s("div",{class:"absolute preview-card"},null,-1),Ju={class:"w-100 d-flex justify-space-around align-center"},Ru={class:"d-flex flex-column"},Iu={class:"text-body-2 font-weight-medium text-grey-darken-2"},Zu={key:0,src:Su,alt:"logo",style:{width:"25%","max-width":"100px",height:"auto"}},Fu={key:1,src:Uu,alt:"logo",style:{width:"25%","max-width":"100px",height:"auto"}},Eu={key:2,src:xu,alt:"logo",style:{width:"25%","max-width":"100px",height:"auto"}},Au={key:3,src:Hu,alt:"logo",style:{width:"25%","max-width":"100px",height:"auto"}},qu={class:"d-flex justify-space-between mt-5 w-100"},Gu={class:"d-flex flex-column justify-space-around h-100 w-100"},zu={class:"d-flex justify-start"},Yu=s("span",{class:"ms-3 text-caption font-weight-bold"},"(Juta)",-1),Wu={class:"d-block font-weight-bold text-center"},Xu={class:"ma-auto"},Qu={props:["window","tema"],data(){return{pageTitle:"Dashboard",periode:"",newperiode:"",dataPemasukan:"",dataProduksi:"",dataProDetail:"",dataPengeluaran:"",dataPjlDetail:"",dataPengiriman:"",dataPgmDetail:"",title:"",full:!1,grafik:["Pemasukan","Produksi","Pengeluaran","Pengiriman"],active:[],chartLine:{series:[],xaxis:[],stroke:{show:!0,curve:"smooth",width:2}},cardData:[{title:"Pemasukan",value:0,img:"src/assets/img/masuk.png"},{title:"Produksi",value:0,img:"src/assets/img/produksi.png"},{title:"Pengeluaran",value:0,img:"src/assets/img/export.png"},{title:"Pengiriman",value:0,img:"src/assets/img/deliv.png"}]}},created(){this.dash_periode,this.actived(0)},computed:{dash_periode(){let t=this.periode.month,e=this.periode.year,a=t<9?e+"-0"+(t+1)+"-01":t>11?e+"-"+t+"-01":e+"-"+(t+1)+"-01",i=t<8?e+"-0"+(t+2)+"-01":t>11?e+"-"+t+"-01":e+"-"+(t+2)+"-01";return this.periode==""?["2023-09-01","2023-10-01"]:[a,i]},getMonth(){let t=new Date(this.dash_periode[0]);return["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()]+" "+t.getFullYear()},mobile(){return this.window<700},tablet(){return this.window>700&&this.window<1255}},methods:{page(){return this.$emit("page",this.pageTitle)},avg(t){return t.reduce((i,o)=>i+o,0)/t.length*1},actived(t){let e="";for(let a=0;a<this.grafik.length;a++)a==t?this.grafik[a]=="Pemasukan"?(this.active[a]=!0,e=this.pemasukan(),this.title="Pemasukan"):this.grafik[a]=="Produksi"?(this.active[a]=!0,e=this.produksi(),this.title="Produksi"):this.grafik[a]=="Pengeluaran"?(this.active[a]=!0,e=this.pengeluaran(),this.title="Pengeluaran"):this.grafik[a]=="Pengiriman"&&(this.active[a]=!0,e=this.pengiriman(),this.title="Pengiriman"):this.active[a]=!1;return e},async fetch(){this.dataPemasukan=await D.getPemasukanHead(this.dash_periode),this.dataProduksi=await D.getProduksiHead(this.dash_periode),this.dataPengeluaran=await D.getPenjualanHead(this.dash_periode),this.dataPjlDetail=await D.getPenjualanDetail(this.dash_periode),this.dataPengiriman=await D.getPengirimanHead(this.dash_periode),this.dataPgmDetail=await D.getPengirimanDetail(this.dash_periode),this.dataProDetail=await D.getProDBahan(this.dash_periode),this.pengiriman(),this.pengeluaran(),this.produksi(),this.pemasukan()},pemasukan(){let t=[],e=[],a=[],i=[],o=[],u=[],h=this.dataPemasukan;for(let b=0;b<h.length;b++)h[b].tipe_dokumen=="BC23"&&a.push(f.numb(h[b].total_nilai/1e6)),h[b].tipe_dokumen=="BC40"&&i.push(f.numb(h[b].total_nilai/1e6)),h[b].tipe_dokumen=="PPKEK-LDP"&&t.push(f.numb(h[b].total_nilai/1e6)),h[b].tipe_dokumen=="PPKEK-TLDDP"&&e.push(f.numb(h[b].total_nilai/1e6)),o.push(f.numb(h[b].total_nilai/1e6)),u.push(h[b].tgl_pembelian);this.chartLine.xaxis=u,this.chartLine.series=[{name:"BC23",type:"column",color:"#FFD89D",data:a},{name:"BC40",type:"column",color:"#245F86",data:i},{name:"PPKEK-LDP",type:"column",color:"#ff9800",data:t},{name:"PPKEK-TLDDP",type:"column",color:"#5fa0cb",data:e},{name:"Semua",type:"area",color:"#cbe1eb",data:o}],this.cardData[0].value=h.length},produksi(){let t=[],e=[],a=this.dataProduksi,i=this.dataProDetail;for(let o=0;o<a.length;o++)for(let u=0;u<i.length;u++)a[o].no_produksi==i[u].no_produksi&&(t.push(f.numb(i[o].nilai/1e6)),e.push(a[o].tgl_produksi));this.chartLine.stroke.show=!0,this.chartLine.xaxis=e,this.chartLine.series=[{name:"data",type:"column",color:"#245F86",data:t}],this.cardData[1].value=a.length},pengeluaran(){let t=[],e=[],a=[],i=[],o=[],u=[],h=this.dataPengeluaran,b=this.dataPjlDetail;for(let V=0;V<h.length;V++)for(let w=0;w<b.length;w++)h[V].no_penjualan==b[w].no_penjualan&&(h[V].tipe_dokumen=="BC25"&&a.push(f.numb(h[V].total_penjualan/1e6)),h[V].tipe_dokumen=="BC41"&&i.push(f.numb(h[V].total_penjualan/1e6)),b[w].jumlah_terkirim==b[w].jumlah&&e.push(f.numb(h[V].total_penjualan/1e6)),b[w].jumlah_terkirim!=b[w].jumlah&&t.push(f.numb(h[V].total_penjualan/1e6)),o.push(f.numb(h[V].total_penjualan/1e6)),u.push(h[V].tgl_penjualan));this.chartLine.xaxis=u,this.chartLine.series=[{name:"BC23",type:"column",color:"#FFD89D",data:a},{name:"BC40",type:"column",color:"#245F86",data:i},{name:"Menunggu",type:"column",color:"#ff9800",data:t},{name:"Terkirim",type:"column",color:"#5fa0cb",data:e},{name:"Semua",type:"area",color:"#cbe1eb",data:o}],this.cardData[2].value=h.length},pengiriman(){let t=[],e=[],a=this.dataPengiriman,i=this.dataPgmDetail;for(let o=0;o<a.length;o++)for(let u=0;u<i.length;u++)a[o].no_pengiriman==i[u].no_pengiriman&&(t.push(f.numb(i[u].nilai/1e6)),e.push(a[o].tgl_pengiriman));this.chartLine.stroke.show=!0,this.chartLine.xaxis=e,this.chartLine.series=[{name:"data",type:"line",color:"#FF9800",data:t}],this.cardData[3].value=a.length}},mounted(){this.page(),this.fetch()}},em=Object.assign(Qu,{__name:"DashboardPage",setup(t){return(e,a)=>{const i=r("v-card"),o=r("v-list-item"),u=r("v-list"),h=r("v-btn"),b=r("v-container"),V=r("v-dialog");return d(),P(M,null,[s("div",Mu,[n(b,{class:"s-100 bg-light"},{default:l(()=>[n(R,{tema:t.tema,modelValue:e.periode,"onUpdate:modelValue":a[0]||(a[0]=w=>e.periode=w),"on-vnode-mounted":e.fetch(),variant:"sas",month:!0,label:e.getMonth,class:"mb-4 w-100"},null,8,["tema","modelValue","on-vnode-mounted","label"]),s("div",Ou,[(d(!0),P(M,null,N(e.cardData,(w,j)=>(d(),P("div",{key:j,class:ve(["card-wrapper d-flex justify-center mb-3 mb-lg-0",e.mobile?"card-wrapper-min":e.tablet?"card-wrapper-med":"card-wrapper"])},[Nu,n(i,{class:"w-100 h-100 card elevation-0 px-5 d-flex align-center"},{default:l(()=>[s("div",Ju,[s("div",Ru,[s("span",Iu,"Total "+k(w.title),1),s("h1",{class:ve(j%2?"text-orange":"text-blue-custom")},k(w.value),3)]),w.title=="Pemasukan"?(d(),P("img",Zu)):c("",!0),w.title=="Produksi"?(d(),P("img",Fu)):c("",!0),w.title=="Pengeluaran"?(d(),P("img",Eu)):c("",!0),w.title=="Pengiriman"?(d(),P("img",Au)):c("",!0)])]),_:2},1024)],2))),128))]),s("div",qu,[n(i,{class:"table h-100 py-2 elevation-0 w-100"},{default:l(()=>[s("div",Gu,[n(u,{class:"d-flex text-caption rounded-s-xl h-100 ms-5","active-color":"orange"},{default:l(()=>[(d(!0),P(M,null,N(e.grafik,(w,j)=>(d(),p(o,{key:j,density:"compact",class:ve(["me-1 rounded-lg",{"active-list":e.active[j]}]),onClick:B=>e.actived(j),active:e.active[j]},{default:l(()=>[m(k(w),1)]),_:2},1032,["onClick","active","class"]))),128))]),_:1}),s("div",zu,[s("div",null,[Yu,n(We,{charts:e.chartLine,height:t.window<700?320:400,width:t.window>700?950:"100%"},null,8,["charts","height","width"]),s("span",Wu,"Total "+k(e.title)+" Bulan "+k(e.getMonth),1)]),e.mobile?c("",!0):(d(),p(h,{key:0,onClick:a[1]||(a[1]=w=>e.full=!e.full),variant:"text",icon:"mdi-fullscreen",color:"blue-custom",class:"text-h5"}))])])]),_:1})])]),_:1})]),n(V,{fullscreen:"",modelValue:e.full,"onUpdate:modelValue":a[3]||(a[3]=w=>e.full=w),width:"auto",transition:"dialog-bottom-transition"},{default:l(()=>[n(i,{class:"h-100 vw-100 ma-auto px-10 py-3"},{default:l(()=>[n(h,{onClick:a[2]||(a[2]=w=>e.full=!1),icon:"mdi-close",variant:"text",class:"me-0 ms-auto"}),s("div",Xu,[n(We,{charts:e.chartLine,width:"1200",height:"500"},null,8,["charts"])])]),_:1})]),_:1},8,["modelValue"])],64)}}}),tm="/assets/404-a06a9138.png";const am={props:["item"],data(){return{}},methods:{},mounted(){}},nm=t=>(Ve("data-v-282b09c8"),t=t(),Ce(),t),lm={class:"d-flex flex-column align-center mt-n10"},im=nm(()=>s("img",{src:tm,style:{width:"40vw"}},null,-1));function sm(t,e,a,i,o,u){const h=r("v-span"),b=r("v-container");return d(),p(b,{class:"d-flex justify-center align-center"},{default:l(()=>[s("div",lm,[im,n(h,{class:"font-bold text-montserrat mt-n16"},{default:l(()=>[m("PAGE NOT FOUND")]),_:1})])]),_:1})}const om=J(am,[["render",sm],["__scopeId","data-v-282b09c8"]]);const rm={props:["window"],data(){return{pageTitle:null,message:"",username:"",old_pass:"",new_pass:"",repeat_pass:"",valert:!1,status:null,user:!1,pass:!1}},methods:{page(){return this.$emit("page",null)}},computed:{mobile(){return this.window<1e3}},mounted(){this.mobile,this.page()}},je=t=>(Ve("data-v-387aced9"),t=t(),Ce(),t),dm={class:"w-100 h-100 overflow-hidden"},um=je(()=>s("div",{class:"relative"},[s("div",{class:"rounded-circle absolute mt-n16",style:{width:"25vw",height:"25vw",background:"rgba(5, 84, 136, 0.048)"}})],-1)),mm=je(()=>s("div",{class:"relative"},[s("div",{class:"rounded-circle absolute",style:{width:"30vw",height:"30vw",top:"5%",right:"-10%",background:"rgba(4, 98, 160, 0.075)"}})],-1)),hm={class:"d-flex justify-space-between h-100 align-center w-100"},pm={class:"h-100 w-100 d-flex flex-column justify-center align-center"},gm=je(()=>s("h2",{class:"text-center text-grey-darken-2"},"Ubah Password",-1)),cm={class:"mt-10 d-flex flex-column align-center mx-auto",style:{width:"80%"}},fm=je(()=>s("span",{class:"ms-3 me-auto text-body-2"},"Username",-1)),_m={class:"d-flex justify-space-between align-center w-100 border rounded-full px-3 mb-4",style:{height:"7vh"}},bm=De('<svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-387aced9><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-387aced9></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-387aced9></g><g id="SVGRepo_iconCarrier" data-v-387aced9><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 9C8.25 6.92893 9.92893 5.25 12 5.25C14.0711 5.25 15.75 6.92893 15.75 9C15.75 11.0711 14.0711 12.75 12 12.75C9.92893 12.75 8.25 11.0711 8.25 9ZM12 6.75C10.7574 6.75 9.75 7.75736 9.75 9C9.75 10.2426 10.7574 11.25 12 11.25C13.2426 11.25 14.25 10.2426 14.25 9C14.25 7.75736 13.2426 6.75 12 6.75Z" fill="#549EBF" data-v-387aced9></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 14.5456 3.77827 16.851 5.4421 18.5235C5.6225 17.5504 5.97694 16.6329 6.68837 15.8951C7.75252 14.7915 9.45416 14.25 12 14.25C14.5457 14.25 16.2474 14.7915 17.3115 15.8951C18.023 16.6329 18.3774 17.5505 18.5578 18.5236C20.2217 16.8511 21.25 14.5456 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM17.1937 19.6554C17.0918 18.4435 16.8286 17.5553 16.2318 16.9363C15.5823 16.2628 14.3789 15.75 12 15.75C9.62099 15.75 8.41761 16.2628 7.76815 16.9363C7.17127 17.5553 6.90811 18.4434 6.80622 19.6553C8.28684 20.6618 10.0747 21.25 12 21.25C13.9252 21.25 15.7131 20.6618 17.1937 19.6554Z" fill="#549EBF" data-v-387aced9></path></g></svg>',1),km=je(()=>s("span",{class:"ms-3 me-auto text-body-2"},"Password Lama",-1)),vm={class:"d-flex justify-space-between align-center w-100 border rounded-full px-3",style:{height:"7vh"}},wm=De('<svg width="25px" height="25px" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="##5fa0cb" data-v-387aced9><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-387aced9></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-387aced9></g><g id="SVGRepo_iconCarrier" data-v-387aced9><path d="M5.5 7H9.5V6H5.5V7ZM10 7.5V10.5H11V7.5H10ZM9.5 11H5.5V12H9.5V11ZM5 10.5V7.5H4V10.5H5ZM5.5 11C5.22386 11 5 10.7761 5 10.5H4C4 11.3284 4.67157 12 5.5 12V11ZM10 10.5C10 10.7761 9.77614 11 9.5 11V12C10.3284 12 11 11.3284 11 10.5H10ZM9.5 7C9.77614 7 10 7.22386 10 7.5H11C11 6.67157 10.3284 6 9.5 6V7ZM5.5 6C4.67157 6 4 6.67157 4 7.5H5C5 7.22386 5.22386 7 5.5 7V6ZM6 6.5V5.5H5V6.5H6ZM9 5.5V6.5H10V5.5H9ZM7.5 4C8.32843 4 9 4.67157 9 5.5H10C10 4.11929 8.88071 3 7.5 3V4ZM6 5.5C6 4.67157 6.67157 4 7.5 4V3C6.11929 3 5 4.11929 5 5.5H6ZM1 7.5C1 3.91015 3.91015 0.999999 7.5 1V0C3.35787 -8.9407e-07 8.9407e-07 3.35786 0 7.5H1ZM7.5 14C3.91015 14 0.999999 11.0898 1 7.5H0C-8.9407e-07 11.6421 3.35786 15 7.5 15V14ZM14 7.5C14 11.0899 11.0898 14 7.5 14V15C11.6421 15 15 11.6421 15 7.5H14ZM15 7.5C15 3.35787 11.6421 8.9407e-07 7.5 0V1C11.0899 1 14 3.91015 14 7.5H15Z" fill="#5fa0cb" data-v-387aced9></path></g></svg>',1),ym=je(()=>s("span",{class:"ms-3 me-auto text-body-2 mt-4"},"Password Baru",-1)),jm={class:"d-flex justify-space-between align-center w-100 border rounded-full px-3",style:{height:"7vh"}},Vm=De('<svg width="25px" height="25px" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="##5fa0cb" data-v-387aced9><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-387aced9></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-387aced9></g><g id="SVGRepo_iconCarrier" data-v-387aced9><path d="M5.5 7H9.5V6H5.5V7ZM10 7.5V10.5H11V7.5H10ZM9.5 11H5.5V12H9.5V11ZM5 10.5V7.5H4V10.5H5ZM5.5 11C5.22386 11 5 10.7761 5 10.5H4C4 11.3284 4.67157 12 5.5 12V11ZM10 10.5C10 10.7761 9.77614 11 9.5 11V12C10.3284 12 11 11.3284 11 10.5H10ZM9.5 7C9.77614 7 10 7.22386 10 7.5H11C11 6.67157 10.3284 6 9.5 6V7ZM5.5 6C4.67157 6 4 6.67157 4 7.5H5C5 7.22386 5.22386 7 5.5 7V6ZM6 6.5V5.5H5V6.5H6ZM9 5.5V6.5H10V5.5H9ZM7.5 4C8.32843 4 9 4.67157 9 5.5H10C10 4.11929 8.88071 3 7.5 3V4ZM6 5.5C6 4.67157 6.67157 4 7.5 4V3C6.11929 3 5 4.11929 5 5.5H6ZM1 7.5C1 3.91015 3.91015 0.999999 7.5 1V0C3.35787 -8.9407e-07 8.9407e-07 3.35786 0 7.5H1ZM7.5 14C3.91015 14 0.999999 11.0898 1 7.5H0C-8.9407e-07 11.6421 3.35786 15 7.5 15V14ZM14 7.5C14 11.0899 11.0898 14 7.5 14V15C11.6421 15 15 11.6421 15 7.5H14ZM15 7.5C15 3.35787 11.6421 8.9407e-07 7.5 0V1C11.0899 1 14 3.91015 14 7.5H15Z" fill="#5fa0cb" data-v-387aced9></path></g></svg>',1),Cm=je(()=>s("span",{class:"text-caption"},"- Password harus terdiri dari 8 karakter",-1)),Dm=je(()=>s("span",{class:"ms-3 me-auto text-body-2 mt-4"},"Ulangi Password Baru",-1)),$m={class:"d-flex justify-space-between align-center w-100 border rounded-full px-3",style:{height:"7vh"}},Pm=De('<svg width="25px" height="25px" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="##5fa0cb" data-v-387aced9><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-387aced9></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-387aced9></g><g id="SVGRepo_iconCarrier" data-v-387aced9><path d="M5.5 7H9.5V6H5.5V7ZM10 7.5V10.5H11V7.5H10ZM9.5 11H5.5V12H9.5V11ZM5 10.5V7.5H4V10.5H5ZM5.5 11C5.22386 11 5 10.7761 5 10.5H4C4 11.3284 4.67157 12 5.5 12V11ZM10 10.5C10 10.7761 9.77614 11 9.5 11V12C10.3284 12 11 11.3284 11 10.5H10ZM9.5 7C9.77614 7 10 7.22386 10 7.5H11C11 6.67157 10.3284 6 9.5 6V7ZM5.5 6C4.67157 6 4 6.67157 4 7.5H5C5 7.22386 5.22386 7 5.5 7V6ZM6 6.5V5.5H5V6.5H6ZM9 5.5V6.5H10V5.5H9ZM7.5 4C8.32843 4 9 4.67157 9 5.5H10C10 4.11929 8.88071 3 7.5 3V4ZM6 5.5C6 4.67157 6.67157 4 7.5 4V3C6.11929 3 5 4.11929 5 5.5H6ZM1 7.5C1 3.91015 3.91015 0.999999 7.5 1V0C3.35787 -8.9407e-07 8.9407e-07 3.35786 0 7.5H1ZM7.5 14C3.91015 14 0.999999 11.0898 1 7.5H0C-8.9407e-07 11.6421 3.35786 15 7.5 15V14ZM14 7.5C14 11.0899 11.0898 14 7.5 14V15C11.6421 15 15 11.6421 15 7.5H14ZM15 7.5C15 3.35787 11.6421 8.9407e-07 7.5 0V1C11.0899 1 14 3.91015 14 7.5H15Z" fill="#5fa0cb" data-v-387aced9></path></g></svg>',1),Bm=je(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",width:"30vw",viewBox:"0 0 493.46111 480.84822","xmlns:xlink":"http://www.w3.org/1999/xlink"},[s("path",{d:"M668.00659,317.36469H641.75073V541.21106a26.74408,26.74408,0,0,1-26.74414,26.74408H414.26947v.25592a26.744,26.744,0,0,0,26.74408,26.74408h226.993a26.74408,26.74408,0,0,0,26.74414-26.74408V344.10876A26.74411,26.74411,0,0,0,668.00659,317.36469Z",transform:"translate(-353.26944 -209.57589)",fill:"#f2f2f2"}),s("path",{d:"M792.47168,673.09116a2.26935,2.26935,0,0,0,1.64468-3.93333l-.15549-.61819q.03071-.07428.06178-.1484a6.09417,6.09417,0,0,1,11.24139.04177c1.83858,4.42817,4.17942,8.86389,4.75579,13.54594a18.02868,18.02868,0,0,1-.31648,6.20047,72.28149,72.28149,0,0,0,6.57515-30.02077,69.76377,69.76377,0,0,0-.43275-7.78294q-.35848-3.17781-.9947-6.31034a73.11887,73.11887,0,0,0-14.50012-30.98962,19.459,19.459,0,0,1-8.09295-8.39652,14.843,14.843,0,0,1-1.34991-4.05618c.394.05168,1.48555-5.94866,1.1884-6.31679.54906-.83317,1.53178-1.24733,2.13144-2.06035,2.98232-4.0434,7.0912-3.33741,9.2362,2.15727,4.58224,2.31266,4.6266,6.14806,1.81495,9.83683-1.78877,2.34681-2.03455,5.52233-3.60408,8.03478.16151.20671.32944.407.4909.61366a73.59114,73.59114,0,0,1,7.681,12.16859,30.59255,30.59255,0,0,1,1.82641-14.20958c1.74819-4.21732,5.02491-7.76915,7.91045-11.415a6.27922,6.27922,0,0,1,11.184,3.08333q.00885.08063.01731.1612-.6429.36267-1.25864.76991a3.0782,3.0782,0,0,0,1.24107,5.60175l.06277.00967a30.627,30.627,0,0,1-.80735,4.57938c3.7018,14.31578-4.29011,19.52989-15.70147,19.76412-.25191.12916-.49738.25832-.74929.38109a75.114,75.114,0,0,1,4.04327,19.02779,71.24332,71.24332,0,0,1-.05168,11.50322l.01939-.13562a18.82569,18.82569,0,0,1,6.4266-10.87028c4.94561-4.06263,11.93282-5.55868,17.26826-8.82425a3.533,3.533,0,0,1,5.41121,3.43708l-.02182.14261a20.67715,20.67715,0,0,0-2.31871,1.11733q-.6429.36276-1.25864.76992a3.07824,3.07824,0,0,0,1.24107,5.6018l.06282.00965c.0452.00645.084.01294.12912.01943a30.65449,30.65449,0,0,1-5.63855,8.82923c-2.31463,12.49712-12.256,13.68282-22.89022,10.04353h-.00648a75.09259,75.09259,0,0,1-5.0444,14.72621H792.92324c-.06463-.20022-.12274-.40693-.18089-.60717a20.47425,20.47425,0,0,0,4.98629-.297c-1.337-1.64058-2.674-3.29409-4.011-4.93462a1.12094,1.12094,0,0,1-.084-.09689c-.67817-.8396-1.36282-1.67283-2.041-2.51246l-.00036-.001a29.99039,29.99039,0,0,1,.87876-7.63984Z",transform:"translate(-353.26944 -209.57589)",fill:"#f2f2f2"}),s("path",{d:"M593.99391,286.91534a8.24621,8.24621,0,0,0,12.46576,1.5258l37.465,16.90274,7.22309-9.2133-44.64448-19.75029a8.23465,8.23465,0,0,0-12.50933,10.53505Z",transform:"translate(-353.26944 -209.57589)",fill:"#a0616a"}),s("path",{d:"M754.77758,297.45515l3.71571,21.05629a7.15473,7.15473,0,0,1-6.485,8.37606l-63.13867,4.96514L614.65289,298.6371l8.86417-16.82718L687.944,302.21207Z",transform:"translate(-353.26944 -209.57589)",fill:"#5fa0cb"}),s("rect",{y:"72.78881",width:"280.48127",height:"277.59048",rx:"26.74409",fill:"#f2f2f2"}),s("path",{d:"M380.01369,287.86455a21.24413,21.24413,0,0,0-21.24414,21.24414V533.21123a21.24414,21.24414,0,0,0,21.24414,21.24414H524.88615A103.36435,103.36435,0,0,0,628.2505,451.091V309.10869a21.24413,21.24413,0,0,0-21.24414-21.24414Z",transform:"translate(-353.26944 -209.57589)",fill:"#fff"}),s("path",{d:"M556.96507,355.87588H429.5587a4.408,4.408,0,1,1,0-8.81605H556.96507a4.408,4.408,0,0,1,0,8.81605Z",transform:"translate(-353.26944 -209.57589)",fill:"#f2f2f2"}),s("path",{d:"M556.96507,449.87588H429.5587a4.408,4.408,0,1,1,0-8.81605H556.96507a4.408,4.408,0,0,1,0,8.81605Z",transform:"translate(-353.26944 -209.57589)",fill:"#f2f2f2"}),s("path",{d:"M608.70212,402.9067H377.82165a4.408,4.408,0,1,1,0-8.81606H608.70212a4.408,4.408,0,0,1,0,8.81606Z",transform:"translate(-353.26944 -209.57589)",fill:"#f2f2f2"}),s("polygon",{points:"393.531 180.687 370.531 229.687 459.008 220.726 440.539 173.687 393.531 180.687",fill:"#a0616a"}),s("polygon",{points:"414.101 462.32 405.712 462.249 401.999 429.138 414.379 429.243 414.101 462.32",fill:"#a0616a"}),s("path",{d:"M740.50017,685.235a3.75542,3.75542,0,0,0,3.71838,3.78333l16.67866.13917,2.91983-5.91846,1.07238,5.94865,6.29322.05707-1.58913-21.21672-2.18949-.14567-8.93065-.61562-2.88122-.19295-.05055,6.003-13.398,9.08746A3.74908,3.74908,0,0,0,740.50017,685.235Z",transform:"translate(-353.26944 -209.57589)",fill:"#2f2e41"}),s("polygon",{points:"321.266 462.358 313.268 459.825 319.447 427.085 331.251 430.822 321.266 462.358",fill:"#a0616a"}),s("path",{d:"M644.93215,676.78946a3.75542,3.75542,0,0,0,2.44267,4.70886l15.90163,5.03342,4.52988-4.79935-.72274,6.00117,5.99868,1.90358L677.797,668.89l-2.05006-.78254-8.3556-3.21239-2.69736-1.031-1.81209,5.72322-15.47666,4.74987A3.749,3.749,0,0,0,644.93215,676.78946Z",transform:"translate(-353.26944 -209.57589)",fill:"#2f2e41"}),s("path",{d:"M808.2479,416.5223,727.8008,431.263s-12.9034,9.652-9.4517,13.10867,3.98713,2.92126,1.71941,5.189-7.17111,5.29922-7.21941,7.28347-36.0483,90.98425-36.0483,90.98425,4-2,1,1-3,5.47886-3,5.47886l-14,94.52114,22.73653,1.33858,22.26347-86.17322,49.65929-80.50394s4.92732,71.789,5.134,76.56377,3.2067-1.22519.2067,4.77481-5,2-3,6-7.20473,85.43464-7.20473,85.43464h20.753L815.859,487.47179S831.695,439.21625,808.2479,416.5223Z",transform:"translate(-353.26944 -209.57589)",fill:"#2f2e41"}),s("path",{d:"M784.549,281.5104l-32.22473-3.34828-8.34892,10.83925-9.72623,5.18025a24.27484,24.27484,0,0,0-12.8148,22.96237l11.36649,66.119s-9.601,21.61914-3,27-5.10356,18.70715,9,12,75,1,75,1l-13-37,9.71135-36.35753,1.06884-30.48533a25.826,25.826,0,0,0-18.33943-25.62683l-1.3579-.41034Z",transform:"translate(-353.26944 -209.57589)",fill:"#5fa0cb"}),s("path",{d:"M828.9135,256.80605c.21108,9.083-3.1834,17.878-8.05987,25.603-1.44889-4.50973-4.05363-8.6142-6.77013-12.52687a38.995,38.995,0,0,1-4.15,24.69556,5.22441,5.22441,0,0,1-.44425.28489c-3.97483,2.391-9.01417,3.35945-13.31408,1.63254,8.88429-9.57671,10.01493-25.44386,2.56643-36.18565-2.10882-3.048-4.83612-5.74375-6.14228-9.21246-2.06227-5.53451-.07985-11.62816,1.17072-17.39847,1.16938-5.37042,1.37406-11.76126-2.22891-15.6971a3.78634,3.78634,0,0,1,3.47012-1.59773c2.22144.31379,3.83841,2.24465,4.86826,4.23332,1.02984,1.98861,1.70905,4.19267,3.14428,5.91034,2.65786,3.215,7.18412,3.97511,10.99852,5.66949C823.26,236.33152,828.69206,246.69915,828.9135,256.80605Z",transform:"translate(-353.26944 -209.57589)",fill:"#2f2e41"}),s("path",{d:"M590.92033,689.23411a1.18647,1.18647,0,0,0,1.19006,1.19h253.29a1.19,1.19,0,0,0,0-2.38h-253.29A1.18651,1.18651,0,0,0,590.92033,689.23411Z",transform:"translate(-353.26944 -209.57589)",fill:"#ccc"}),s("circle",{cx:"477.63839",cy:"248.74781",r:"9",fill:"#5fa0cb"}),s("path",{d:"M751.15566,251.61275c.52788-1.84758-3.11058,9.44634-1.35486,9.65024,7.99661.91738,18.97388,5.69318,24.54346,7.92119.25083-.02915.50167-.05826.74507-.09466.59753-.06555,1.18034-.1602,1.75572-.26939C789.8137,266.3664,794.8008,246.445,794.8008,246.263c0-.89557-2.14941-25.493-5.5354-25.857a24.9574,24.9574,0,0,0-2.67783-.14563h-8.40233a39.04837,39.04837,0,0,0-5.27448-.76451H772.896c-16.9153-1.28877-30.2528,9.02125-29.0061,21.56663.00738.01453.02215.02911.02949.04368.36151.5388.67871,1.04849.959,1.53631.27294.45871.50162.89556.70077,1.31059,1.5418,3.2037-2.42134,7.23495.20657,7.98739,3.49512,1.00076-9.19231,33.89354,4.64179,33.89354C743.69833,287.7472,749.69944,256.70953,751.15566,251.61275Z",transform:"translate(-353.26944 -209.57589)",fill:"#2f2e41"}),s("circle",{cx:"412.98633",cy:"41.44344",r:"19.89355",fill:"#a0616a"}),s("path",{d:"M743.88989,242.14732c.332.17474.65656.3349.98853.49511.34669.16745.69343.33494,1.04013.48782,6.66139,3.02168,12.08341,3.35658,15.37354-.98293a18.39213,18.39213,0,0,1,1.51226-6.62584,10.64972,10.64972,0,0,0,1.75572,6.62584h6.62447c6.82366,4.52882,10.3277,5.00211,5.59172,19.87012-1.3205,4.14295-6.57092,28.25068-4.50539,31.82573.59753-.06555,6.95455-26.471,7.52993-26.58018,12.96865-2.45373,21.20866-23.81966,20.15377-25.0283a22.27543,22.27543,0,0,0-2.309-9.90958,22.79287,22.79287,0,0,0-8.66051-9.42175,40.16587,40.16587,0,0,0-6.91956-2.59936c-.059-.01458-.11067-.02915-.16966-.04368-.7303-.19661-1.47538-.37864-2.22046-.53155a40.842,40.842,0,0,0-4.66223-.70625c-.11067-.00729-.22129-.01458-.32458-.01458a3.51314,3.51314,0,0,0-1.77782.48787c-.00739,0-.00739.00724-.01477.00724a3.34732,3.34732,0,0,0-.98853.881,3.38566,3.38566,0,0,0-.72292,2.10425H763.8076q-.40941,0-.81882.02182a19.77972,19.77972,0,0,0-19.0694,18.596C743.89727,241.4556,743.88989,241.79779,743.88989,242.14732Z",transform:"translate(-353.26944 -209.57589)",fill:"#2f2e41"}),s("circle",{cx:"434.11663",cy:"13.10599",r:"13.10599",fill:"#2f2e41"}),s("path",{d:"M831.00893,462.03478a8.24622,8.24622,0,0,0-3.71676-11.99621l.06486-41.10135-11.36418-2.813.27989,48.81727a8.23465,8.23465,0,0,0,14.73619,7.09333Z",transform:"translate(-353.26944 -209.57589)",fill:"#a0616a"}),s("path",{d:"M774.73294,311.053l17.68425-12.01836a7.15474,7.15474,0,0,1,10.298,2.48285l30.40367,55.55863.11616,81.31043-18.98188-1.18978-7.79226-67.12941Z",transform:"translate(-353.26944 -209.57589)",fill:"#5fa0cb"}),s("path",{d:"M638.915,495.45346h-189a15.5,15.5,0,0,0,0,31h189a15.5,15.5,0,1,0,0-31Z",transform:"translate(-353.26944 -209.57589)",fill:"#fff"}),s("path",{d:"M638.915,527.45346h-189a16.5,16.5,0,0,1,0-33h189a16.5,16.5,0,1,1,0,33Zm-189-31a14.5,14.5,0,0,0,0,29h189a14.5,14.5,0,1,0,0-29Z",transform:"translate(-353.26944 -209.57589)",fill:"#5fa0cb"}),s("path",{d:"M650.05955,563.09621H566.65319a4.408,4.408,0,1,1,0-8.81606h83.40636a4.408,4.408,0,0,1,0,8.81606Z",transform:"translate(-353.26944 -209.57589)",fill:"#5fa0cb"})],-1)),Tm=[Bm];function Sm(t,e,a,i,o,u){const h=r("v-btn"),b=r("v-text-field");return d(),P("div",dm,[um,mm,s("div",hm,[s("div",{class:ve(["w-100 py-3",{absolute:u.mobile}]),style:{"z-index":"3"}},[n(h,{onClick:e[0]||(e[0]=V=>t.$router.go(-1)),variant:"outlined",size:"small",icon:"mdi-arrow-left",class:ve(["text-blue-custom mb-3",u.mobile?"left-10":"left-20"])},null,8,["class"]),s("div",pm,[s("div",{class:ve({"bg-trans-blue rounded-xl py-10 px-3 w-85":u.mobile,"w-50":!u.mobile})},[gm,s("div",cm,[fm,s("div",_m,[bm,n(b,{variant:"text",density:"compact",modelValue:o.username,"onUpdate:modelValue":e[1]||(e[1]=V=>o.username=V),name:"username","hide-details":""},null,8,["modelValue"])]),km,s("div",vm,[wm,n(b,{type:t.oldPass==!0?"text":"password",variant:"text",density:"compact",modelValue:o.old_pass,"onUpdate:modelValue":e[2]||(e[2]=V=>o.old_pass=V),name:"old_pass","hide-details":""},null,8,["type","modelValue"])]),ym,s("div",jm,[Vm,n(b,{type:t.newPass==!0?"text":"password",variant:"text",density:"compact",modelValue:o.new_pass,"onUpdate:modelValue":e[3]||(e[3]=V=>o.new_pass=V),name:"new_pass","hide-details":""},null,8,["type","modelValue"])]),Cm,Dm,s("div",$m,[Pm,n(b,{type:t.repeatPass==!0?"text":"password",variant:"text",density:"compact",modelValue:o.repeat_pass,"onUpdate:modelValue":e[4]||(e[4]=V=>o.repeat_pass=V),name:"repeat_pass","hide-details":""},null,8,["type","modelValue"])]),n(h,{class:"rounded-full elevation-0 bg-blue-custom mt-3 w-100",style:{height:"7vh"}},{default:l(()=>[m("Simpan")]),_:1})])],2)])],2),s("div",{class:ve(["h-100 d-flex flex-column align-center w-100",u.mobile?"justify-end":"justify-center"]),style:{"z-index":"1"}},Tm,2)])])}const Um=J(rm,[["render",Sm],["__scopeId","data-v-387aced9"]]),Oe=pt({history:gt(),routes:[{path:"/",meta:{middleware:[W]},redirect:{name:"Dashboard"}},{path:"/dashboard",name:"Dashboard",component:em,meta:{middleware:[W]}},{path:"/login",name:"login",component:ss},{path:"/test-page",name:"testPage",component:Di},{path:"/data-barang",name:"DataBarang",meta:{middleware:[W]},component:pi},{path:"/barang-konversi",name:"KonversiBarang",meta:{middleware:[W]},component:_i},{path:"/data-pelanggan",name:"DataPelanggan",meta:{middleware:[W]},component:ps},{path:"/data-supplier",name:"DataSupplier",meta:{middleware:[W]},component:bs},{path:"/data-user",name:"DataUser",meta:{middleware:[W]},component:vs},{path:"/set",name:"UbahPassword",meta:{middleware:[W]},component:Um},{path:"/pemasukan",name:"PemasukanBarang",meta:{middleware:[W]},component:Vs},{path:"/produksi",name:"ProduksiBarang",meta:{middleware:[W]},component:Ws},{path:"/pengeluaran",name:"PengeluaranBarang",meta:{middleware:[W]},component:dr},{path:"/pengiriman",name:"PengirimanBarang",meta:{middleware:[W]},component:hu},{path:"/laporan-stok",name:"LaporanStok",meta:{middleware:[W]},component:cu},{path:"/laporan-pemasukan",name:"LaporanPemasukan",meta:{middleware:[W]},component:ku},{path:"/laporan-pengeluaran",name:"LaporanPengeluaran",meta:{middleware:[W]},component:ju},{path:"/laporan-pengiriman",name:"LaporanPengiriman",meta:{middleware:[W]},component:$u},{path:"/laporan-log",name:"log",meta:{middleware:[W]},component:Tu},{path:"/:catchAll(.*)",name:"notPage",component:om}]});Oe.beforeEach((t,e,a)=>{if(!t.meta.middleware)return a();const i=t.meta.middleware,o={from:e,next:a,router:Oe,to:t};return i[0]({...o,next:nt(o,i,1)})});function nt(t,e,a){const i=e[a];return i?()=>{const o=nt(t,e,a+1);i({...t,next:o})}:t.next}const O=ct.create({baseURL:"https://auristeel.com/api-test",headers:{csrf:localStorage.getItem("token"),"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),Me=localStorage.getItem("user"),D={postLogin(t){return O.post("/login",t)},getData(t,e){return O.get(t,e)},putData(t,e){return O.patch(t,e)},deleteData(t,e){return O.delete(t,{data:e})},async getUser(t){try{const e={username:t};return(await O.get("/user?",{params:e})).data}catch{return this.logout()}},async getLogUser(t){try{const e="/log_user?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getOtoritas(t){try{return(await O.get("/user_otoritas",{params:{username:t}})).data}catch{return this.logout()}},postUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Barang Konversi",status:String(t.barang_konversi[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Konversi",status:String(t.barang_konversi[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang Konversi",status:String(t.barang_konversi[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang Konversi",status:String(t.barang_konversi[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Persentase",status:String(t.pembelian[3].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Alamat Bongkar",status:String(t.pengiriman[5].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const o=JSON.stringify(i);return O.post("/user",{username:e,password:a,otoritas:o})},editUser(t){let e=t.username,a=t.password,i=[{username:t.username,jenis_otoritas:"Data Barang",status:String(t.data_barang[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Baru",status:String(t.data_barang[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang",status:String(t.data_barang[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang",status:String(t.data_barang[3].status)},{username:t.username,jenis_otoritas:"Barang Konversi",status:String(t.barang_konversi[0].status)},{username:t.username,jenis_otoritas:"Tambah Barang Konversi",status:String(t.barang_konversi[1].status)},{username:t.username,jenis_otoritas:"Ubah Barang Konversi",status:String(t.barang_konversi[2].status)},{username:t.username,jenis_otoritas:"Hapus Barang Konversi",status:String(t.barang_konversi[3].status)},{username:t.username,jenis_otoritas:"Data Pelanggan",status:String(t.data_pelanggan[0].status)},{username:t.username,jenis_otoritas:"Tambah Pelanggan Baru",status:String(t.data_pelanggan[1].status)},{username:t.username,jenis_otoritas:"Ubah Pelanggan",status:String(t.data_pelanggan[2].status)},{username:t.username,jenis_otoritas:"Hapus Pelanggan",status:String(t.data_pelanggan[3].status)},{username:t.username,jenis_otoritas:"Data Supplier",status:String(t.data_supplier[0].status)},{username:t.username,jenis_otoritas:"Data User",status:String(t.data_user[0].status)},{username:t.username,jenis_otoritas:"Pembelian",status:String(t.pembelian[0].status)},{username:t.username,jenis_otoritas:"Tambah Pembelian Baru",status:String(t.pembelian[1].status)},{username:t.username,jenis_otoritas:"Batal Pembelian",status:String(t.pembelian[2].status)},{username:t.username,jenis_otoritas:"Persentase",status:String(t.pembelian[3].status)},{username:t.username,jenis_otoritas:"Produksi",status:String(t.produksi[0].status)},{username:t.username,jenis_otoritas:"Tambah Produksi Baru",status:String(t.produksi[1].status)},{username:t.username,jenis_otoritas:"Batal Produksi",status:String(t.produksi[2].status)},{username:t.username,jenis_otoritas:"Penjualan",status:String(t.penjualan[0].status)},{username:t.username,jenis_otoritas:"Tambah Penjualan Baru",status:String(t.penjualan[1].status)},{username:t.username,jenis_otoritas:"Batal Penjualan",status:String(t.penjualan[2].status)},{username:t.username,jenis_otoritas:"Pengiriman",status:String(t.pengiriman[0].status)},{username:t.username,jenis_otoritas:"Tambah Pengiriman Baru",status:String(t.pengiriman[1].status)},{username:t.username,jenis_otoritas:"Batal Pengiriman",status:String(t.pengiriman[2].status)},{username:t.username,jenis_otoritas:"Cetak Surat Jalan",status:String(t.pengiriman[3].status)},{username:t.username,jenis_otoritas:"Cetak DO",status:String(t.pengiriman[4].status)},{username:t.username,jenis_otoritas:"Alamat Bongkar",status:String(t.pengiriman[5].status)},{username:t.username,jenis_otoritas:"Laporan",status:String(t.laporan[0].status)},{username:t.username,jenis_otoritas:"Laporan Stok Barang",status:String(t.laporan[1].status)},{username:t.username,jenis_otoritas:"Laporan Pembelian",status:String(t.laporan[2].status)},{username:t.username,jenis_otoritas:"Laporan Produksi",status:String(t.laporan[3].status)},{username:t.username,jenis_otoritas:"Laporan Penjualan",status:String(t.laporan[4].status)},{username:t.username,jenis_otoritas:"Laporan Log User",status:String(t.laporan[5].status)},{username:t.username,jenis_otoritas:"Laporan Pengiriman",status:String(t.laporan[6].status)},{username:t.username,jenis_otoritas:"Pengaturan Umum",status:String(t.setelan[0].status)},{username:t.username,jenis_otoritas:"Export pdf",status:String(t.setelan[1].status)},{username:t.username,jenis_otoritas:"Export xlsx",status:String(t.setelan[2].status)}];const o=JSON.stringify(i);return O.patch("/user",{username:e,password:a,otoritas:o})},deleteUser(t){const e="/user";let a={username:t};return O.delete(e,{data:a})},async getGroupBarang(){try{return(await O.get("/group_barang")).data}catch{return this.logout()}},async alamatBongkar(){try{return(await O.get("/alamat_bongkar")).data}catch{return this.logout()}},async getBarang(t){try{return(await O.get("/barang?status=true",{params:t})).data}catch{return this.logout()}},postBarang(t){return O.post("/barang",t)},putBarang(t){return JSON.stringify(t),O.patch("/barang",t)},deleteBarang(t){let e={kode_barang:t.kode_barang};return O.delete("/barang",{data:e})},async getKonversi(){try{return(await O.get("/konversi_barang?status=true")).data}catch{return this.logout()}},async getBerat(t){try{return(await O.get("/konversi_barang/berat",{params:t})).data}catch{return this.logout()}},postKonversi(t){return O.post("/konversi_barang",t)},putKonversi(t){return JSON.stringify(t),O.patch("/konversi_barang",t)},deleteKonversi(t){let e={kode_konversi:t.kode_konversi};return O.delete("/konversi_barang",{data:e})},async getPelanggan(){try{return(await O.get("/pelanggan")).data}catch{return this.logout()}},postPelanggan(t){return O.post("/pelanggan",t)},putPelanggan(t){return JSON.stringify(t),O.patch("/pelanggan",t)},deletePelanggan(t){let e={kode_pelanggan:t.kode_pelanggan};return O.delete("/pelanggan",{data:e})},async getSupplier(){try{return(await O.get("/supplier?status=true")).data}catch{return this.logout()}},async getPemasukanHead(t){try{const e="/pembelian_head",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getPemasukanDetail(t){try{const e="/pembelian_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},postPemasukan(t,e){const a=JSON.stringify(e),i={tgl_pembelian:t.tgl_pembelian,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_supplier:t.kode_supplier,no_invoice:t.no_invoice,no_bl:t.no_bl,persentase:t.persentase,mata_uang:t.mata_uang,kurs:t.kurs,pembelian_detail:a};return O.post("/pembelian_head?",i)},deletePemasukan(t,e){const a={no_pembelian:t.no_pembelian,tgl_batal:"",kode_supplier:t.kode_supplier,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,no_invoice:t.no_invoice,no_bl:t.no_bl,mata_uang:t.mata_uang,kurs:t.kurs,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_pembelian:t.no_pembelian};return O.delete("/pembelian_head",{data:i})},async getProduksiHead(t){try{const e="/produksi_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getProDBahan(t){try{const e="/produksi_detail_bahan?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getProDBarang(t){try{const e="/produksi_detail_barang?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getLogBarang(t){try{const e={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get("/log_barang",{params:e})).data}catch{return this.logout()}},postProduksi(t,e,a){const i=JSON.stringify(a);return O.post("/produksi_head",{tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,kode_bahan:e,produksi_detail_barang:i})},deleteProduksi(t,e,a){let i={no_produksi:t.no_produksi,tgl_produksi:t.tgl_produksi,kode_group:t.kode_group,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:f.day(),user_batal:Me,status:"false"};JSON.stringify(i),JSON.stringify(e),JSON.stringify(a);const o={no_produksi:t.no_produksi};return O.delete("/produksi_head",{data:o})},async getPengirimanHead(t){try{const e="/pengiriman_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getPengirimanDetail(t){try{const e="/pengiriman_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},postPengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,keterangan:"",no_polisi:t.no_polisi,user_input:Me,tgl_input:f.day(),tgl_batal:"1999-12-31T17:00:00.000Z",user_batal:"",status:"true"};JSON.stringify(a);const i=JSON.stringify(e);return O.post("/pengiriman_head?",{no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,keterangan:t.keterangan,supir:t.supir,no_polisi:t.no_polisi,pengiriman_detail:i})},deletePengiriman(t,e){let a={no_pengiriman:t.no_pengiriman,tgl_pengiriman:t.tgl_pengiriman,kode_pelanggan:t.kode_pelanggan,kode_alamat_bongkar:t.kode_alamat_bongkar,supir:t.supir,no_polisi:t.no_polisi,user_input:t.user_input,tgl_input:t.tgl_input,tgl_batal:f.day(),user_batal:Me,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_pengiriman:t.no_pengiriman};return O.delete("/pengiriman_head",{data:i})},async getPenjualanHead(t){try{const e="/penjualan_head?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getHeadPenjualan(t){try{const e={no_penjualan:t},a="/penjualan_head/no_penjualan";return(await O.get(a,{params:e})).data}catch(e){console.log(e)}},async getPenjualanDetail(t){try{const e="/penjualan_detail?",a={tgl_awal:t[0],tgl_akhir:t[1]};return(await O.get(e,{params:a})).data}catch{return this.logout()}},async getBelumTerkirim(){try{return(await O.get("/penjualan_head/belum_terkirim")).data}catch{return this.logout()}},async getBelumTerkirimDetail(){try{return(await O.get("/penjualan_detail/belum_terkirim")).data}catch{return this.logout()}},postPengeluaran(t,e){let a=t.tgl_penjualan,i=t.tipe_dokumen,o=t.no_dokumen,u=t.tgl_dokumen,h=t.kode_pelanggan,b=t.kode_group;const V=JSON.stringify(e);return O.post("/penjualan_head?",{tgl_penjualan:a,tipe_dokumen:i,no_dokumen:o,tgl_dokumen:u,kode_pelanggan:h,kode_group:b,penjualan_detail:V})},deletePengeluaran(t,e){const a={no_penjualan:t.no_penjualan,tgl_penjualan:t.tgl_penjualan,tipe_dokumen:t.tipe_dokumen,no_dokumen:t.no_dokumen,tgl_dokumen:t.tgl_dokumen,kode_pelanggan:t.kode_pelanggan,kode_group:t.kode_group,total_penjualan:t.total_penjualan,tgl_input:t.tgl_input,user_input:t.user_input,tgl_batal:new Date,user_batal:Me,status:"false"};JSON.stringify(a),JSON.stringify(e);let i={no_penjualan:t.no_penjualan};return O.delete("/penjualan_head",{data:i})},logout(){return localStorage.removeItem("token"),localStorage.removeItem("user"),Oe.push("/login")}};const xm={class:"d-flex align-center"},Hm={id:"akun",class:"d-flex align-center text-blue-custom clickable ms-2"},Lm={props:["pageTitle"],data(){return{user:"",dark:null,menu:[{title:"Ubah Password",value:"changepass"},{title:"Logout",value:"logout"}],title:this.pageTitle}},created(){this.user=localStorage.getItem("user")},methods:{logout(){D.logout()},theme(){this.dark=!this.dark,this.$emit("dark",this.dark)}},mounted(){}},Km=Object.assign(Lm,{__name:"AppBar",setup(t){return(e,a)=>{const i=r("v-toolbar-title"),o=r("v-spacer"),u=r("v-span"),h=r("v-btn"),b=r("v-divider"),V=r("v-toolbar"),w=r("v-container"),j=r("v-app-bar");return d(),p(j,{class:"py-1 elevation-0 bg-light",height:"53"},{default:l(()=>[n(w,{class:"w-100 d-flex align-center"},{default:l(()=>[_e(e.$slots,"app-btn",{},void 0,!0),n(V,{class:"bg-transparent pe-3 ms-n5"},{default:l(()=>[n(i,{class:"title text-uppercase"},{default:l(()=>[m(k(t.pageTitle),1)]),_:1}),n(o),s("div",xm,[n(h,{icon:"",size:"small",color:"black",onClick:a[0]||(a[0]=B=>e.theme())},{default:l(()=>[e.dark?(d(),p(u,{key:0,class:"material-symbols-outlined"},{default:l(()=>[m("dark_mode")]),_:1})):c("",!0),e.dark?c("",!0):(d(),p(u,{key:1,class:"material-symbols-outlined"},{default:l(()=>[m("light_mode")]),_:1}))]),_:1}),n(b,{vertical:"",class:"mx-2"}),s("div",Hm,[_e(e.$slots,"user",{},void 0,!0)])])]),_:3})]),_:3})]),_:3})}}}),lt=J(Km,[["__scopeId","data-v-9d56a6b6"]]);const it=t=>(Ve("data-v-86317f12"),t=t(),Ce(),t),Mm=it(()=>s("div",{class:"absolute px-3 border-start bg-grey-lighten-3 w-75 py-2 rounded-right text-grey-darken-3"},"Profil Pengguna",-1)),Om={class:"d-flex align-center justify-center w-100 h-100"},Nm={class:"d-flex flex-column align-center w-100 h-100 pt-16"},Jm=it(()=>s("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"photo",class:"rounded-circle",style:{width:"100px"}},null,-1)),Rm={class:"w-100 h-100 px-7 d-flex flex-column justify-space-between"},Im={components:{CheckBox:ke},props:["icon","user"],data(){return{filter:!1}},methods:{filtered(){this.$emit("close",!1)},reset(){this.$emit("reset")},filterdata(){return this.$emit("filterdata"),this.filtered()}}},Zm=Object.assign(Im,{__name:"akunDrawer",setup(t){return(e,a)=>{const i=r("h7"),o=r("v-btn"),u=r("v-spacer"),h=r("v-sheet"),b=r("v-navigation-drawer");return d(),p(b,{class:"border-0 elevation-0",location:"right",width:"300",temporary:""},{default:l(()=>[n(h,{class:"pt-5 w-100 h-100"},{default:l(()=>[Mm,s("div",Om,[s("div",Nm,[Jm,n(i,{class:"text-capitalize mt-3"},{default:l(()=>[m(k(t.user),1)]),_:1}),n(i,{class:"text-caption"},{default:l(()=>[m(k(t.user),1)]),_:1}),n(o,{onClick:a[0]||(a[0]=V=>e.$router.push("/set")),class:"mt-5 text-caption rounded-xl border",width:"200px",variant:"text"},{default:l(()=>[m("Ubah Password")]),_:1}),n(o,{onClick:a[1]||(a[1]=V=>g(D).logout()),class:"mt-1 text-caption rounded-xl border",width:"200px",variant:"text"},{default:l(()=>[m("Log Out")]),_:1}),s("div",Rm,[n(u)])])])]),_:1})]),_:1})}}}),Fm=J(Zm,[["__scopeId","data-v-86317f12"]]);const st=t=>(Ve("data-v-afbf4edf"),t=t(),Ce(),t),Em=["checked"],Am=st(()=>s("label",{for:"menu_checkbox"},[s("div",{class:"bg-dark"}),s("div",{class:"bg-dark"}),s("div",{class:"bg-dark"})],-1)),qm=st(()=>s("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",style:{width:"30px"},alt:""},null,-1)),Gm={components:{NavDrawers:Qe,AppBar:lt},data(){return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,drawer:null,akun:!1,user:"",aut:"",tema:null,databarang:"",cetak:[{title:"Export xlsx",icon:"mdi-download",key:"xlsx"},{title:"Export pdf",icon:"mdi-file-pdf-box",key:"pdf"}],pageTitle:"",pemasukan:"",produksi:"",pengeluaran:"",kirim:"",user_otoritas:""}},methods:{onResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},page(t){this.pageTitle=t},theme(t){t?this.tema="dark":this.tema="light"},async fetchData(){let t=localStorage.getItem("token"),e=localStorage.getItem("user");if(t!=null&&t!=!1&&e!=null){let a=await D.getOtoritas(e);this.aut=C.otoritas(a),this.user=e}else return await D.logout()}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)}),this.page(),this.fetchData()}},zm=Object.assign(Gm,{__name:"App",setup(t){return(e,a)=>{const i=r("v-div"),o=r("v-avatar"),u=r("v-main"),h=r("v-layout"),b=r("v-theme-provider");return d(),p(b,{theme:e.tema,"with-background":""},{default:l(()=>[n(h,null,{default:l(()=>[e.pageTitle!=null?(d(),p(Qe,{key:0,modelValue:e.drawer,"onUpdate:modelValue":a[0]||(a[0]=V=>e.drawer=V),pageTitle:e.pageTitle,aut:e.aut,pemasukan:e.pemasukan,produksi:e.produksi,pengeluaran:e.pengeluaran,kirim:e.kirim},null,8,["modelValue","pageTitle","aut","pemasukan","produksi","pengeluaran","kirim"])):c("",!0),e.pageTitle!=null?(d(),p(Fm,{key:1,modelValue:e.akun,"onUpdate:modelValue":a[1]||(a[1]=V=>e.akun=V),user:e.user},null,8,["modelValue","user"])):c("",!0),e.pageTitle!=null?(d(),p(lt,{key:2,pageTitle:e.pageTitle,onDark:e.theme},{"app-btn":l(()=>[n(i,{class:"me-5 mt-1"},{default:l(()=>[s("input",{type:"checkbox",id:"menu_checkbox",onClick:a[2]||(a[2]=V=>e.drawer=!e.drawer),checked:e.drawer},null,8,Em),Am]),_:1})]),user:l(()=>[n(o,{onClick:a[3]||(a[3]=V=>e.akun=!e.akun),class:"me-2",size:"small"},{default:l(()=>[qm]),_:1})]),_:1},8,["pageTitle","onDark"])):c("",!0),n(u,{class:"vh-100 vw-100"},{default:l(()=>[n(g(ft),{cetak:e.cetak,onPage:e.page,onPages:e.page,window:e.windowWidth,windowH:e.windowHeight,tema:e.tema},null,8,["cetak","onPage","onPages","window","windowH","tema"])]),_:1})]),_:1})]),_:1},8,["theme"])}}}),Ym=J(zm,[["__scopeId","data-v-afbf4edf"]]);const Wm={dark:!1,colors:{background:"#fafafa",light:"#fafafa",dark:"#212121","blue-custom":"#5fa0cb",white:"#fff",black:"#121212","grey-lighten-4":"#f5f5f5"}},Xm={dark:!0,colors:{background:"#121212",light:"#121212",dark:"#e8e8e8","blue-custom":"#6699bf",black:"#fff",white:"#121212","grey-lighten-4":"#2b2b2b"}},Qm=_t({theme:{themes:{light:Wm,dark:Xm}},icons:{defaultSet:"mdi"},components:{...bt,...kt,...vt}});async function eh(){(await wt(()=>import("./webfontloader-63fccc9e.js").then(e=>e.w),["assets/webfontloader-63fccc9e.js","assets/vendor-de531ced.js","assets/vendor-dc945adf.css"])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}eh();const Re=yt(Ym);Re.use(Oe);Re.use(Qm);Re.use(jt);Re.mount("#app");
